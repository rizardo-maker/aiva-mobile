function pv(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},Qi={},yp={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),gv=Symbol.for("react.portal"),xv=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),Cv=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),kv=Symbol.for("react.memo"),Sv=Symbol.for("react.lazy"),am=Symbol.iterator;function Av(t){return t===null||typeof t!="object"?null:(t=am&&t[am]||t["@@iterator"],typeof t=="function"?t:null)}var vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wp=Object.assign,bp={};function Ms(t,e,r){this.props=t,this.context=e,this.refs=bp,this.updater=r||vp}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cp(){}Cp.prototype=Ms.prototype;function Gd(t,e,r){this.props=t,this.context=e,this.refs=bp,this.updater=r||vp}var qd=Gd.prototype=new Cp;qd.constructor=Gd;wp(qd,Ms.prototype);qd.isPureReactComponent=!0;var om=Array.isArray,Np=Object.prototype.hasOwnProperty,Wd={current:null},kp={key:!0,ref:!0,__self:!0,__source:!0};function Sp(t,e,r){var n,a={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Np.call(e,n)&&!kp.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ro,type:t,key:o,ref:i,props:a,_owner:Wd.current}}function Tv(t,e){return{$$typeof:ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ro}function Ev(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var im=/\/+/g;function Bl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ev(""+t.key):e.toString(36)}function Bo(t,e,r,n,a){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ro:case gv:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Bl(i,0):n,om(a)?(r="",t!=null&&(r=t.replace(im,"$&/")+"/"),Bo(a,e,r,"",function(d){return d})):a!=null&&(Qd(a)&&(a=Tv(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(im,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",om(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Bl(o,l);i+=Bo(o,e,r,c,a)}else if(c=Av(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Bl(o,l++),i+=Bo(o,e,r,c,a);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function go(t,e,r){if(t==null)return t;var n=[],a=0;return Bo(t,n,"","",function(o){return e.call(r,o,a++)}),n}function jv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},$o={transition:null},Iv={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:$o,ReactCurrentOwner:Wd};function Ap(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:go,forEach:function(t,e,r){go(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return go(t,function(){e++}),e},toArray:function(t){return go(t,function(e){return e})||[]},only:function(t){if(!Qd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ms;de.Fragment=xv;de.Profiler=vv;de.PureComponent=Gd;de.StrictMode=yv;de.Suspense=Nv;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;de.act=Ap;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wp({},t.props),a=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Wd.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Np.call(e,c)&&!kp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ro,type:t.type,key:a,ref:o,props:n,_owner:i}};de.createContext=function(t){return t={$$typeof:bv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wv,_context:t},t.Consumer=t};de.createElement=Sp;de.createFactory=function(t){var e=Sp.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Cv,render:t}};de.isValidElement=Qd;de.lazy=function(t){return{$$typeof:Sv,_payload:{_status:-1,_result:t},_init:jv}};de.memo=function(t,e){return{$$typeof:kv,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=$o.transition;$o.transition={};try{t()}finally{$o.transition=e}};de.unstable_act=Ap;de.useCallback=function(t,e){return ht.current.useCallback(t,e)};de.useContext=function(t){return ht.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};de.useEffect=function(t,e){return ht.current.useEffect(t,e)};de.useId=function(){return ht.current.useId()};de.useImperativeHandle=function(t,e,r){return ht.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return ht.current.useMemo(t,e)};de.useReducer=function(t,e,r){return ht.current.useReducer(t,e,r)};de.useRef=function(t){return ht.current.useRef(t)};de.useState=function(t){return ht.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return ht.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return ht.current.useTransition()};de.version="18.3.1";yp.exports=de;var v=yp.exports;const K=gp(v),_v=pv({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=v,Pv=Symbol.for("react.element"),Mv=Symbol.for("react.fragment"),Ov=Object.prototype.hasOwnProperty,Lv=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dv={key:!0,ref:!0,__self:!0,__source:!0};function Tp(t,e,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Ov.call(e,n)&&!Dv.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Pv,type:t,key:o,ref:i,props:a,_owner:Lv.current}}Qi.Fragment=Mv;Qi.jsx=Tp;Qi.jsxs=Tp;xp.exports=Qi;var s=xp.exports,Ep={exports:{}},It={},jp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,j){var L=k.length;k.push(j);e:for(;0<L;){var re=L-1>>>1,Y=k[re];if(0<a(Y,j))k[re]=j,k[L]=Y,L=re;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var j=k[0],L=k.pop();if(L!==j){k[0]=L;e:for(var re=0,Y=k.length,oe=Y>>>1;re<oe;){var I=2*(re+1)-1,B=k[I],le=I+1,R=k[le];if(0>a(B,L))le<Y&&0>a(R,B)?(k[re]=R,k[le]=L,re=le):(k[re]=B,k[I]=L,re=I);else if(le<Y&&0>a(R,L))k[re]=R,k[le]=L,re=le;else break e}}return j}function a(k,j){var L=k.sortIndex-j.sortIndex;return L!==0?L:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,C=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(k){for(var j=r(d);j!==null;){if(j.callback===null)n(d);else if(j.startTime<=k)n(d),j.sortIndex=j.expirationTime,e(c,j);else break;j=r(d)}}function w(k){if(y=!1,p(k),!C)if(r(c)!==null)C=!0,F(N);else{var j=r(d);j!==null&&ne(w,j.startTime-k)}}function N(k,j){C=!1,y&&(y=!1,x(O),O=-1),m=!0;var L=f;try{for(p(j),h=r(c);h!==null&&(!(h.expirationTime>j)||k&&!V());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var Y=re(h.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(c)&&n(c),p(j)}else n(c);h=r(c)}if(h!==null)var oe=!0;else{var I=r(d);I!==null&&ne(w,I.startTime-j),oe=!1}return oe}finally{h=null,f=L,m=!1}}var _=!1,E=null,O=-1,$=5,T=-1;function V(){return!(t.unstable_now()-T<$)}function se(){if(E!==null){var k=t.unstable_now();T=k;var j=!0;try{j=E(!0,k)}finally{j?ue():(_=!1,E=null)}}else _=!1}var ue;if(typeof g=="function")ue=function(){g(se)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Fe=xe.port2;xe.port1.onmessage=se,ue=function(){Fe.postMessage(null)}}else ue=function(){A(se,0)};function F(k){E=k,_||(_=!0,ue())}function ne(k,j){O=A(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){C||m||(C=!0,F(N))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return k()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=f;f=k;try{return j()}finally{f=L}},t.unstable_scheduleCallback=function(k,j,L){var re=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?re+L:re):L=re,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=L+Y,k={id:u++,callback:j,priorityLevel:k,startTime:L,expirationTime:Y,sortIndex:-1},L>re?(k.sortIndex=L,e(d,k),r(c)===null&&k===r(d)&&(y?(x(O),O=-1):y=!0,ne(w,L-re))):(k.sortIndex=Y,e(c,k),C||m||(C=!0,F(N))),k},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(k){var j=f;return function(){var L=f;f=j;try{return k.apply(this,arguments)}finally{f=L}}}})(Ip);jp.exports=Ip;var Uv=jp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=v,jt=Uv;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _p=new Set,ja={};function $n(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(ja[t]=e,t=0;t<e.length;t++)_p.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Hv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lm={},cm={};function zv(t){return Sc.call(cm,t)?!0:Sc.call(lm,t)?!1:Hv.test(t)?cm[t]=!0:(lm[t]=!0,!1)}function Bv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $v(t,e,r,n){if(e===null||typeof e>"u"||Bv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,r,n,a,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Jd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yd,Jd);Ze[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yd,Jd);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yd,Jd);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xd(t,e,r,n){var a=Ze.hasOwnProperty(e)?Ze[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($v(e,r,a,n)&&(r=null),n||a===null?zv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Mr=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),Ac=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Mp=Symbol.for("react.offscreen"),dm=Symbol.iterator;function Js(t){return t===null||typeof t!="object"?null:(t=dm&&t[dm]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,$l;function oa(t){if($l===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$l=e&&e[1]||""}return`
`+$l+t}var Kl=!1;function Vl(t,e){if(!t||Kl)return"";Kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Kl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?oa(t):""}function Kv(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=Vl(t.type,!1),t;case 11:return t=Vl(t.type.render,!1),t;case 1:return t=Vl(t.type,!0),t;default:return""}}function jc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rs:return"Fragment";case ts:return"Portal";case Ac:return"Profiler";case Zd:return"StrictMode";case Tc:return"Suspense";case Ec:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pp:return(t.displayName||"Context")+".Consumer";case Rp:return(t._context.displayName||"Context")+".Provider";case eu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tu:return e=t.displayName||null,e!==null?e:jc(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return jc(t(e))}catch{}}return null}function Vv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(e);case 8:return e===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Op(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gv(t){var e=Op(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yo(t){t._valueTracker||(t._valueTracker=Gv(t))}function Lp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Op(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ic(t,e){var r=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function um(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ln(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dp(t,e){e=e.checked,e!=null&&Xd(t,"checked",e,!1)}function _c(t,e){Dp(t,e);var r=ln(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Rc(t,e.type,ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Rc(t,e,r){(e!=="number"||ni(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ia=Array.isArray;function ms(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ln(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Pc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(ia(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ln(r)}}function Up(t,e){var r=ln(e.value),n=ln(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vo,Hp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qv=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){qv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function zp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function Bp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Wv=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oc(t,e){if(e){if(Wv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Lc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uc=null,fs=null,ps=null;function pm(t){if(t=ao(t)){if(typeof Uc!="function")throw Error(H(280));var e=t.stateNode;e&&(e=el(e),Uc(t.stateNode,t.type,e))}}function $p(t){fs?ps?ps.push(t):ps=[t]:fs=t}function Kp(){if(fs){var t=fs,e=ps;if(ps=fs=null,pm(t),e)for(t=0;t<e.length;t++)pm(e[t])}}function Vp(t,e){return t(e)}function Gp(){}var Gl=!1;function qp(t,e,r){if(Gl)return t(e,r);Gl=!0;try{return Vp(t,e,r)}finally{Gl=!1,(fs!==null||ps!==null)&&(Gp(),Kp())}}function _a(t,e){var r=t.stateNode;if(r===null)return null;var n=el(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var Fc=!1;if(Er)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Fc=!1}function Qv(t,e,r,n,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ma=!1,si=null,ai=!1,Hc=null,Yv={onError:function(t){ma=!0,si=t}};function Jv(t,e,r,n,a,o,i,l,c){ma=!1,si=null,Qv.apply(Yv,arguments)}function Xv(t,e,r,n,a,o,i,l,c){if(Jv.apply(this,arguments),ma){if(ma){var d=si;ma=!1,si=null}else throw Error(H(198));ai||(ai=!0,Hc=d)}}function Kn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Wp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gm(t){if(Kn(t)!==t)throw Error(H(188))}function Zv(t){var e=t.alternate;if(!e){if(e=Kn(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return gm(a),t;if(o===n)return gm(a),e;o=o.sibling}throw Error(H(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function Qp(t){return t=Zv(t),t!==null?Yp(t):null}function Yp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yp(t);if(e!==null)return e;t=t.sibling}return null}var Jp=jt.unstable_scheduleCallback,xm=jt.unstable_cancelCallback,ew=jt.unstable_shouldYield,tw=jt.unstable_requestPaint,Me=jt.unstable_now,rw=jt.unstable_getCurrentPriorityLevel,nu=jt.unstable_ImmediatePriority,Xp=jt.unstable_UserBlockingPriority,oi=jt.unstable_NormalPriority,nw=jt.unstable_LowPriority,Zp=jt.unstable_IdlePriority,Yi=null,mr=null;function sw(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Yi,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:iw,aw=Math.log,ow=Math.LN2;function iw(t){return t>>>=0,t===0?32:31-(aw(t)/ow|0)|0}var wo=64,bo=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=la(l):(o&=i,o!==0&&(n=la(o)))}else i=r&~a,i!==0?n=la(i):o!==0&&(n=la(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qt(e),a=1<<r,n|=t[r],e&=~a;return n}function lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Qt(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=lw(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eg(){var t=wo;return wo<<=1,!(wo&4194240)&&(wo=64),t}function ql(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function no(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=r}function dw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Qt(r),o=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~o}}function su(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qt(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var we=0;function tg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rg,au,ng,sg,ag,Bc=!1,Co=[],Qr=null,Yr=null,Jr=null,Ra=new Map,Pa=new Map,zr=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function Zs(t,e,r,n,a,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},e!==null&&(e=ao(e),e!==null&&au(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function hw(t,e,r,n,a){switch(e){case"focusin":return Qr=Zs(Qr,t,e,r,n,a),!0;case"dragenter":return Yr=Zs(Yr,t,e,r,n,a),!0;case"mouseover":return Jr=Zs(Jr,t,e,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ra.set(o,Zs(Ra.get(o)||null,t,e,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Pa.set(o,Zs(Pa.get(o)||null,t,e,r,n,a)),!0}return!1}function og(t){var e=Cn(t.target);if(e!==null){var r=Kn(e);if(r!==null){if(e=r.tag,e===13){if(e=Wp(r),e!==null){t.blockedOn=e,ag(t.priority,function(){ng(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ko(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=$c(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Dc=n,r.target.dispatchEvent(n),Dc=null}else return e=ao(r),e!==null&&au(e),t.blockedOn=r,!1;e.shift()}return!0}function vm(t,e,r){Ko(t)&&r.delete(e)}function mw(){Bc=!1,Qr!==null&&Ko(Qr)&&(Qr=null),Yr!==null&&Ko(Yr)&&(Yr=null),Jr!==null&&Ko(Jr)&&(Jr=null),Ra.forEach(vm),Pa.forEach(vm)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,Bc||(Bc=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,mw)))}function Ma(t){function e(a){return ea(a,t)}if(0<Co.length){ea(Co[0],t);for(var r=1;r<Co.length;r++){var n=Co[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qr!==null&&ea(Qr,t),Yr!==null&&ea(Yr,t),Jr!==null&&ea(Jr,t),Ra.forEach(e),Pa.forEach(e),r=0;r<zr.length;r++)n=zr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zr.length&&(r=zr[0],r.blockedOn===null);)og(r),r.blockedOn===null&&zr.shift()}var gs=Mr.ReactCurrentBatchConfig,li=!0;function fw(t,e,r,n){var a=we,o=gs.transition;gs.transition=null;try{we=1,ou(t,e,r,n)}finally{we=a,gs.transition=o}}function pw(t,e,r,n){var a=we,o=gs.transition;gs.transition=null;try{we=4,ou(t,e,r,n)}finally{we=a,gs.transition=o}}function ou(t,e,r,n){if(li){var a=$c(t,e,r,n);if(a===null)nc(t,e,n,ci,r),ym(t,n);else if(hw(a,t,e,r,n))n.stopPropagation();else if(ym(t,n),e&4&&-1<uw.indexOf(t)){for(;a!==null;){var o=ao(a);if(o!==null&&rg(o),o=$c(t,e,r,n),o===null&&nc(t,e,n,ci,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else nc(t,e,n,null,r)}}var ci=null;function $c(t,e,r,n){if(ci=null,t=ru(n),t=Cn(t),t!==null)if(e=Kn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Wp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ci=t,null}function ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rw()){case nu:return 1;case Xp:return 4;case oi:case nw:return 16;case Zp:return 536870912;default:return 16}default:return 16}}var Kr=null,iu=null,Vo=null;function lg(){if(Vo)return Vo;var t,e=iu,r=e.length,n,a="value"in Kr?Kr.value:Kr.textContent,o=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[o-n];n++);return Vo=a.slice(t,1<n?1-n:void 0)}function Go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function No(){return!0}function wm(){return!1}function _t(t){function e(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?No:wm,this.isPropagationStopped=wm,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=_t(Os),so=_e({},Os,{view:0,detail:0}),gw=_t(so),Wl,Ql,ta,Ji=_e({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Wl=t.screenX-ta.screenX,Ql=t.screenY-ta.screenY):Ql=Wl=0,ta=t),Wl)},movementY:function(t){return"movementY"in t?t.movementY:Ql}}),bm=_t(Ji),xw=_e({},Ji,{dataTransfer:0}),yw=_t(xw),vw=_e({},so,{relatedTarget:0}),Yl=_t(vw),ww=_e({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=_t(ww),Cw=_e({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nw=_t(Cw),kw=_e({},Os,{data:0}),Cm=_t(kw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ew(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tw[t])?!!e[t]:!1}function cu(){return Ew}var jw=_e({},so,{key:function(t){if(t.key){var e=Sw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Aw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(t){return t.type==="keypress"?Go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iw=_t(jw),_w=_e({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=_t(_w),Rw=_e({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),Pw=_t(Rw),Mw=_e({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=_t(Mw),Lw=_e({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dw=_t(Lw),Uw=[9,13,27,32],du=Er&&"CompositionEvent"in window,fa=null;Er&&"documentMode"in document&&(fa=document.documentMode);var Fw=Er&&"TextEvent"in window&&!fa,cg=Er&&(!du||fa&&8<fa&&11>=fa),km=" ",Sm=!1;function dg(t,e){switch(t){case"keyup":return Uw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ug(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function Hw(t,e){switch(t){case"compositionend":return ug(e);case"keypress":return e.which!==32?null:(Sm=!0,km);case"textInput":return t=e.data,t===km&&Sm?null:t;default:return null}}function zw(t,e){if(ns)return t==="compositionend"||!du&&dg(t,e)?(t=lg(),Vo=iu=Kr=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cg&&e.locale!=="ko"?null:e.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bw[t.type]:e==="textarea"}function hg(t,e,r,n){$p(n),e=di(e,"onChange"),0<e.length&&(r=new lu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pa=null,Oa=null;function $w(t){Ng(t,0)}function Xi(t){var e=os(t);if(Lp(e))return t}function Kw(t,e){if(t==="change")return e}var mg=!1;if(Er){var Jl;if(Er){var Xl="oninput"in document;if(!Xl){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Xl=typeof Tm.oninput=="function"}Jl=Xl}else Jl=!1;mg=Jl&&(!document.documentMode||9<document.documentMode)}function Em(){pa&&(pa.detachEvent("onpropertychange",fg),Oa=pa=null)}function fg(t){if(t.propertyName==="value"&&Xi(Oa)){var e=[];hg(e,Oa,t,ru(t)),qp($w,e)}}function Vw(t,e,r){t==="focusin"?(Em(),pa=e,Oa=r,pa.attachEvent("onpropertychange",fg)):t==="focusout"&&Em()}function Gw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xi(Oa)}function qw(t,e){if(t==="click")return Xi(e)}function Ww(t,e){if(t==="input"||t==="change")return Xi(e)}function Qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xt=typeof Object.is=="function"?Object.is:Qw;function La(t,e){if(Xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Sc.call(e,a)||!Xt(t[a],e[a]))return!1}return!0}function jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,e){var r=jm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jm(r)}}function pg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gg(){for(var t=window,e=ni();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ni(t.document)}return e}function uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yw(t){var e=gg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pg(r.ownerDocument.documentElement,r)){if(n!==null&&uu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!t.extend&&o>n&&(a=n,n=o,o=a),a=Im(r,o);var i=Im(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jw=Er&&"documentMode"in document&&11>=document.documentMode,ss=null,Kc=null,ga=null,Vc=!1;function _m(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||ss==null||ss!==ni(n)||(n=ss,"selectionStart"in n&&uu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ga&&La(ga,n)||(ga=n,n=di(Kc,"onSelect"),0<n.length&&(e=new lu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ss)))}function ko(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var as={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Zl={},xg={};Er&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Zi(t){if(Zl[t])return Zl[t];if(!as[t])return t;var e=as[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xg)return Zl[t]=e[r];return t}var yg=Zi("animationend"),vg=Zi("animationiteration"),wg=Zi("animationstart"),bg=Zi("transitionend"),Cg=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(t,e){Cg.set(t,e),$n(e,[t])}for(var ec=0;ec<Rm.length;ec++){var tc=Rm[ec],Xw=tc.toLowerCase(),Zw=tc[0].toUpperCase()+tc.slice(1);hn(Xw,"on"+Zw)}hn(yg,"onAnimationEnd");hn(vg,"onAnimationIteration");hn(wg,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(bg,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Pm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Xv(n,e,void 0,t),t.currentTarget=null}function Ng(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;Pm(a,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;Pm(a,l,d),o=c}}}if(ai)throw t=Hc,ai=!1,Hc=null,t}function Se(t,e){var r=e[Yc];r===void 0&&(r=e[Yc]=new Set);var n=t+"__bubble";r.has(n)||(kg(e,t,2,!1),r.add(n))}function rc(t,e,r){var n=0;e&&(n|=4),kg(r,t,n,e)}var So="_reactListening"+Math.random().toString(36).slice(2);function Da(t){if(!t[So]){t[So]=!0,_p.forEach(function(r){r!=="selectionchange"&&(eb.has(r)||rc(r,!1,t),rc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[So]||(e[So]=!0,rc("selectionchange",!1,e))}}function kg(t,e,r,n){switch(ig(e)){case 1:var a=fw;break;case 4:a=pw;break;default:a=ou}r=a.bind(null,e,r,t),a=void 0,!Fc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function nc(t,e,r,n,a){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Cn(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}qp(function(){var d=o,u=ru(r),h=[];e:{var f=Cg.get(t);if(f!==void 0){var m=lu,C=t;switch(t){case"keypress":if(Go(r)===0)break e;case"keydown":case"keyup":m=Iw;break;case"focusin":C="focus",m=Yl;break;case"focusout":C="blur",m=Yl;break;case"beforeblur":case"afterblur":m=Yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Pw;break;case yg:case vg:case wg:m=bw;break;case bg:m=Ow;break;case"scroll":m=gw;break;case"wheel":m=Dw;break;case"copy":case"cut":case"paste":m=Nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Nm}var y=(e&4)!==0,A=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var g=d,p;g!==null;){p=g;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,x!==null&&(w=_a(g,x),w!=null&&y.push(Ua(g,w,p)))),A)break;g=g.return}0<y.length&&(f=new m(f,C,null,r,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Dc&&(C=r.relatedTarget||r.fromElement)&&(Cn(C)||C[jr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(C=r.relatedTarget||r.toElement,m=d,C=C?Cn(C):null,C!==null&&(A=Kn(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=d),m!==C)){if(y=bm,w="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Nm,w="onPointerLeave",x="onPointerEnter",g="pointer"),A=m==null?f:os(m),p=C==null?f:os(C),f=new y(w,g+"leave",m,r,u),f.target=A,f.relatedTarget=p,w=null,Cn(u)===d&&(y=new y(x,g+"enter",C,r,u),y.target=p,y.relatedTarget=A,w=y),A=w,m&&C)t:{for(y=m,x=C,g=0,p=y;p;p=Jn(p))g++;for(p=0,w=x;w;w=Jn(w))p++;for(;0<g-p;)y=Jn(y),g--;for(;0<p-g;)x=Jn(x),p--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=Jn(y),x=Jn(x)}y=null}else y=null;m!==null&&Mm(h,f,m,y,!1),C!==null&&A!==null&&Mm(h,A,C,y,!0)}}e:{if(f=d?os(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Kw;else if(Am(f))if(mg)N=Ww;else{N=Gw;var _=Vw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=qw);if(N&&(N=N(t,d))){hg(h,N,r,u);break e}_&&_(t,f,d),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Rc(f,"number",f.value)}switch(_=d?os(d):window,t){case"focusin":(Am(_)||_.contentEditable==="true")&&(ss=_,Kc=d,ga=null);break;case"focusout":ga=Kc=ss=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,_m(h,r,u);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":_m(h,r,u)}var E;if(du)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ns?dg(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(cg&&r.locale!=="ko"&&(ns||O!=="onCompositionStart"?O==="onCompositionEnd"&&ns&&(E=lg()):(Kr=u,iu="value"in Kr?Kr.value:Kr.textContent,ns=!0)),_=di(d,O),0<_.length&&(O=new Cm(O,t,null,r,u),h.push({event:O,listeners:_}),E?O.data=E:(E=ug(r),E!==null&&(O.data=E)))),(E=Fw?Hw(t,r):zw(t,r))&&(d=di(d,"onBeforeInput"),0<d.length&&(u=new Cm("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=E))}Ng(h,e)})}function Ua(t,e,r){return{instance:t,listener:e,currentTarget:r}}function di(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=_a(t,r),o!=null&&n.unshift(Ua(t,o,a)),o=_a(t,e),o!=null&&n.push(Ua(t,o,a))),t=t.return}return n}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mm(t,e,r,n,a){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=_a(r,o),c!=null&&i.unshift(Ua(r,c,l))):a||(c=_a(r,o),c!=null&&i.push(Ua(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var tb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(rb,"")}function Ao(t,e,r){if(e=Om(e),Om(t)!==e&&r)throw Error(H(425))}function ui(){}var Gc=null,qc=null;function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(ab)}:Qc;function ab(t){setTimeout(function(){throw t})}function sc(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Ma(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ma(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),dr="__reactFiber$"+Ls,Fa="__reactProps$"+Ls,jr="__reactContainer$"+Ls,Yc="__reactEvents$"+Ls,ob="__reactListeners$"+Ls,ib="__reactHandles$"+Ls;function Cn(t){var e=t[dr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[jr]||r[dr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Dm(t);t!==null;){if(r=t[dr])return r;t=Dm(t)}return e}t=r,r=t.parentNode}return null}function ao(t){return t=t[dr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function el(t){return t[Fa]||null}var Jc=[],is=-1;function mn(t){return{current:t}}function Ae(t){0>is||(t.current=Jc[is],Jc[is]=null,is--)}function ke(t,e){is++,Jc[is]=t.current,t.current=e}var cn={},st=mn(cn),yt=mn(!1),Pn=cn;function As(t,e){var r=t.type.contextTypes;if(!r)return cn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function vt(t){return t=t.childContextTypes,t!=null}function hi(){Ae(yt),Ae(st)}function Um(t,e,r){if(st.current!==cn)throw Error(H(168));ke(st,e),ke(yt,r)}function Sg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(H(108,Vv(t)||"Unknown",a));return _e({},r,n)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,Pn=st.current,ke(st,t),ke(yt,yt.current),!0}function Fm(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=Sg(t,e,Pn),n.__reactInternalMemoizedMergedChildContext=t,Ae(yt),Ae(st),ke(st,t)):Ae(yt),ke(yt,r)}var br=null,tl=!1,ac=!1;function Ag(t){br===null?br=[t]:br.push(t)}function lb(t){tl=!0,Ag(t)}function fn(){if(!ac&&br!==null){ac=!0;var t=0,e=we;try{var r=br;for(we=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}br=null,tl=!1}catch(a){throw br!==null&&(br=br.slice(t+1)),Jp(nu,fn),a}finally{we=e,ac=!1}}return null}var ls=[],cs=0,fi=null,pi=0,Rt=[],Pt=0,Mn=null,Cr=1,Nr="";function yn(t,e){ls[cs++]=pi,ls[cs++]=fi,fi=t,pi=e}function Tg(t,e,r){Rt[Pt++]=Cr,Rt[Pt++]=Nr,Rt[Pt++]=Mn,Mn=t;var n=Cr;t=Nr;var a=32-Qt(n)-1;n&=~(1<<a),r+=1;var o=32-Qt(e)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Cr=1<<32-Qt(e)+a|r<<a|n,Nr=o+t}else Cr=1<<o|r<<a|n,Nr=t}function hu(t){t.return!==null&&(yn(t,1),Tg(t,1,0))}function mu(t){for(;t===fi;)fi=ls[--cs],ls[cs]=null,pi=ls[--cs],ls[cs]=null;for(;t===Mn;)Mn=Rt[--Pt],Rt[Pt]=null,Nr=Rt[--Pt],Rt[Pt]=null,Cr=Rt[--Pt],Rt[Pt]=null}var At=null,St=null,Ee=!1,qt=null;function Eg(t,e){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Hm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,St=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Mn!==null?{id:Cr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,At=t,St=null,!0):!1;default:return!1}}function Xc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zc(t){if(Ee){var e=St;if(e){var r=e;if(!Hm(t,e)){if(Xc(t))throw Error(H(418));e=Xr(r.nextSibling);var n=At;e&&Hm(t,e)?Eg(n,r):(t.flags=t.flags&-4097|2,Ee=!1,At=t)}}else{if(Xc(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ee=!1,At=t}}}function zm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function To(t){if(t!==At)return!1;if(!Ee)return zm(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wc(t.type,t.memoizedProps)),e&&(e=St)){if(Xc(t))throw jg(),Error(H(418));for(;e;)Eg(t,e),e=Xr(e.nextSibling)}if(zm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){St=Xr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}St=null}}else St=At?Xr(t.stateNode.nextSibling):null;return!0}function jg(){for(var t=St;t;)t=Xr(t.nextSibling)}function Ts(){St=At=null,Ee=!1}function fu(t){qt===null?qt=[t]:qt.push(t)}var cb=Mr.ReactCurrentBatchConfig;function ra(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var a=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function Eo(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bm(t){var e=t._init;return e(t._payload)}function Ig(t){function e(x,g){if(t){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function r(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function a(x,g){return x=rn(x,g),x.index=0,x.sibling=null,x}function o(x,g,p){return x.index=p,t?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,w){return g===null||g.tag!==6?(g=hc(p,x.mode,w),g.return=x,g):(g=a(g,p),g.return=x,g)}function c(x,g,p,w){var N=p.type;return N===rs?u(x,g,p.props.children,w,p.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Bm(N)===g.type)?(w=a(g,p.props),w.ref=ra(x,g,p),w.return=x,w):(w=Zo(p.type,p.key,p.props,null,x.mode,w),w.ref=ra(x,g,p),w.return=x,w)}function d(x,g,p,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=mc(p,x.mode,w),g.return=x,g):(g=a(g,p.children||[]),g.return=x,g)}function u(x,g,p,w,N){return g===null||g.tag!==7?(g=jn(p,x.mode,w,N),g.return=x,g):(g=a(g,p),g.return=x,g)}function h(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=hc(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xo:return p=Zo(g.type,g.key,g.props,null,x.mode,p),p.ref=ra(x,null,g),p.return=x,p;case ts:return g=mc(g,x.mode,p),g.return=x,g;case Fr:var w=g._init;return h(x,w(g._payload),p)}if(ia(g)||Js(g))return g=jn(g,x.mode,p,null),g.return=x,g;Eo(x,g)}return null}function f(x,g,p,w){var N=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:l(x,g,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xo:return p.key===N?c(x,g,p,w):null;case ts:return p.key===N?d(x,g,p,w):null;case Fr:return N=p._init,f(x,g,N(p._payload),w)}if(ia(p)||Js(p))return N!==null?null:u(x,g,p,w,null);Eo(x,p)}return null}function m(x,g,p,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(p)||null,l(g,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xo:return x=x.get(w.key===null?p:w.key)||null,c(g,x,w,N);case ts:return x=x.get(w.key===null?p:w.key)||null,d(g,x,w,N);case Fr:var _=w._init;return m(x,g,p,_(w._payload),N)}if(ia(w)||Js(w))return x=x.get(p)||null,u(g,x,w,N,null);Eo(g,w)}return null}function C(x,g,p,w){for(var N=null,_=null,E=g,O=g=0,$=null;E!==null&&O<p.length;O++){E.index>O?($=E,E=null):$=E.sibling;var T=f(x,E,p[O],w);if(T===null){E===null&&(E=$);break}t&&E&&T.alternate===null&&e(x,E),g=o(T,g,O),_===null?N=T:_.sibling=T,_=T,E=$}if(O===p.length)return r(x,E),Ee&&yn(x,O),N;if(E===null){for(;O<p.length;O++)E=h(x,p[O],w),E!==null&&(g=o(E,g,O),_===null?N=E:_.sibling=E,_=E);return Ee&&yn(x,O),N}for(E=n(x,E);O<p.length;O++)$=m(E,x,O,p[O],w),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?O:$.key),g=o($,g,O),_===null?N=$:_.sibling=$,_=$);return t&&E.forEach(function(V){return e(x,V)}),Ee&&yn(x,O),N}function y(x,g,p,w){var N=Js(p);if(typeof N!="function")throw Error(H(150));if(p=N.call(p),p==null)throw Error(H(151));for(var _=N=null,E=g,O=g=0,$=null,T=p.next();E!==null&&!T.done;O++,T=p.next()){E.index>O?($=E,E=null):$=E.sibling;var V=f(x,E,T.value,w);if(V===null){E===null&&(E=$);break}t&&E&&V.alternate===null&&e(x,E),g=o(V,g,O),_===null?N=V:_.sibling=V,_=V,E=$}if(T.done)return r(x,E),Ee&&yn(x,O),N;if(E===null){for(;!T.done;O++,T=p.next())T=h(x,T.value,w),T!==null&&(g=o(T,g,O),_===null?N=T:_.sibling=T,_=T);return Ee&&yn(x,O),N}for(E=n(x,E);!T.done;O++,T=p.next())T=m(E,x,O,T.value,w),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?O:T.key),g=o(T,g,O),_===null?N=T:_.sibling=T,_=T);return t&&E.forEach(function(se){return e(x,se)}),Ee&&yn(x,O),N}function A(x,g,p,w){if(typeof p=="object"&&p!==null&&p.type===rs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case xo:e:{for(var N=p.key,_=g;_!==null;){if(_.key===N){if(N=p.type,N===rs){if(_.tag===7){r(x,_.sibling),g=a(_,p.props.children),g.return=x,x=g;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Bm(N)===_.type){r(x,_.sibling),g=a(_,p.props),g.ref=ra(x,_,p),g.return=x,x=g;break e}r(x,_);break}else e(x,_);_=_.sibling}p.type===rs?(g=jn(p.props.children,x.mode,w,p.key),g.return=x,x=g):(w=Zo(p.type,p.key,p.props,null,x.mode,w),w.ref=ra(x,g,p),w.return=x,x=w)}return i(x);case ts:e:{for(_=p.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(x,g.sibling),g=a(g,p.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else e(x,g);g=g.sibling}g=mc(p,x.mode,w),g.return=x,x=g}return i(x);case Fr:return _=p._init,A(x,g,_(p._payload),w)}if(ia(p))return C(x,g,p,w);if(Js(p))return y(x,g,p,w);Eo(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(x,g.sibling),g=a(g,p),g.return=x,x=g):(r(x,g),g=hc(p,x.mode,w),g.return=x,x=g),i(x)):r(x,g)}return A}var Es=Ig(!0),_g=Ig(!1),gi=mn(null),xi=null,ds=null,pu=null;function gu(){pu=ds=xi=null}function xu(t){var e=gi.current;Ae(gi),t._currentValue=e}function ed(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xs(t,e){xi=t,pu=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(pu!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(xi===null)throw Error(H(308));ds=t,xi.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var Nn=null;function yu(t){Nn===null?Nn=[t]:Nn.push(t)}function Rg(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,yu(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ir(t,n)}function Ir(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hr=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ir(t,r)}return a=n.interleaved,a===null?(e.next=e,yu(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ir(t,r)}function qo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,su(t,r)}}function $m(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=e:o=o.next=e}else a=o=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yi(t,e,r,n){var a=t.updateQueue;Hr=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,u=d=c=null,l=o;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,y=l;switch(f=e,m=r,y.tag){case 1:if(C=y.payload,typeof C=="function"){h=C.call(m,h,f);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,f=typeof C=="function"?C.call(m,h,f):C,f==null)break e;h=_e({},h,f);break e;case 2:Hr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);Ln|=i,t.lanes=i,t.memoizedState=h}}function Km(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(H(191,a));a.call(n)}}}var oo={},fr=mn(oo),Ha=mn(oo),za=mn(oo);function kn(t){if(t===oo)throw Error(H(174));return t}function wu(t,e){switch(ke(za,e),ke(Ha,t),ke(fr,oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mc(e,t)}Ae(fr),ke(fr,e)}function js(){Ae(fr),Ae(Ha),Ae(za)}function Mg(t){kn(za.current);var e=kn(fr.current),r=Mc(e,t.type);e!==r&&(ke(Ha,t),ke(fr,r))}function bu(t){Ha.current===t&&(Ae(fr),Ae(Ha))}var je=mn(0);function vi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oc=[];function Cu(){for(var t=0;t<oc.length;t++)oc[t]._workInProgressVersionPrimary=null;oc.length=0}var Wo=Mr.ReactCurrentDispatcher,ic=Mr.ReactCurrentBatchConfig,On=0,Ie=null,He=null,Ge=null,wi=!1,xa=!1,Ba=0,db=0;function et(){throw Error(H(321))}function Nu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xt(t[r],e[r]))return!1;return!0}function ku(t,e,r,n,a,o){if(On=o,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wo.current=t===null||t.memoizedState===null?fb:pb,t=r(n,a),xa){o=0;do{if(xa=!1,Ba=0,25<=o)throw Error(H(301));o+=1,Ge=He=null,e.updateQueue=null,Wo.current=gb,t=r(n,a)}while(xa)}if(Wo.current=bi,e=He!==null&&He.next!==null,On=0,Ge=He=Ie=null,wi=!1,e)throw Error(H(300));return t}function Su(){var t=Ba!==0;return Ba=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ft(){if(He===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,He=t;else{if(t===null)throw Error(H(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function $a(t,e){return typeof e=="function"?e(t):e}function lc(t){var e=Ft(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=He,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((On&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,Ie.lanes|=u,Ln|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,Xt(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do o=a.lane,Ie.lanes|=o,Ln|=o,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cc(t){var e=Ft(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,o=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=t(o,i.action),i=i.next;while(i!==a);Xt(o,e.memoizedState)||(xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Og(){}function Lg(t,e){var r=Ie,n=Ft(),a=e(),o=!Xt(n.memoizedState,a);if(o&&(n.memoizedState=a,xt=!0),n=n.queue,Au(Fg.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,Ka(9,Ug.bind(null,r,n,a,e),void 0,null),qe===null)throw Error(H(349));On&30||Dg(r,e,a)}return a}function Dg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ug(t,e,r,n){e.value=r,e.getSnapshot=n,Hg(e)&&zg(t)}function Fg(t,e,r){return r(function(){Hg(e)&&zg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xt(t,r)}catch{return!0}}function zg(t){var e=Ir(t,1);e!==null&&Yt(e,t,1,-1)}function Vm(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=mb.bind(null,Ie,t),[e.memoizedState,t]}function Ka(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Bg(){return Ft().memoizedState}function Qo(t,e,r,n){var a=lr();Ie.flags|=t,a.memoizedState=Ka(1|e,r,void 0,n===void 0?null:n)}function rl(t,e,r,n){var a=Ft();n=n===void 0?null:n;var o=void 0;if(He!==null){var i=He.memoizedState;if(o=i.destroy,n!==null&&Nu(n,i.deps)){a.memoizedState=Ka(e,r,o,n);return}}Ie.flags|=t,a.memoizedState=Ka(1|e,r,o,n)}function Gm(t,e){return Qo(8390656,8,t,e)}function Au(t,e){return rl(2048,8,t,e)}function $g(t,e){return rl(4,2,t,e)}function Kg(t,e){return rl(4,4,t,e)}function Vg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gg(t,e,r){return r=r!=null?r.concat([t]):null,rl(4,4,Vg.bind(null,e,t),r)}function Tu(){}function qg(t,e){var r=Ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Wg(t,e){var r=Ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Qg(t,e,r){return On&21?(Xt(r,e)||(r=eg(),Ie.lanes|=r,Ln|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=r)}function ub(t,e){var r=we;we=r!==0&&4>r?r:4,t(!0);var n=ic.transition;ic.transition={};try{t(!1),e()}finally{we=r,ic.transition=n}}function Yg(){return Ft().memoizedState}function hb(t,e,r){var n=tn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jg(t))Xg(e,r);else if(r=Rg(t,e,r,n),r!==null){var a=ut();Yt(r,t,n,a),Zg(r,e,n)}}function mb(t,e,r){var n=tn(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jg(t))Xg(e,a);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Xt(l,i)){var c=e.interleaved;c===null?(a.next=a,yu(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=Rg(t,e,a,n),r!==null&&(a=ut(),Yt(r,t,n,a),Zg(r,e,n))}}function Jg(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Xg(t,e){xa=wi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,su(t,r)}}var bi={readContext:Ut,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},fb={readContext:Ut,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Gm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qo(4194308,4,Vg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qo(4,2,t,e)},useMemo:function(t,e){var r=lr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=lr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hb.bind(null,Ie,t),[n.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:Vm,useDebugValue:Tu,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=Vm(!1),e=t[0];return t=ub.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ie,a=lr();if(Ee){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),qe===null)throw Error(H(349));On&30||Dg(n,e,r)}a.memoizedState=r;var o={value:r,getSnapshot:e};return a.queue=o,Gm(Fg.bind(null,n,o,t),[t]),n.flags|=2048,Ka(9,Ug.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=lr(),e=qe.identifierPrefix;if(Ee){var r=Nr,n=Cr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ba++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=db++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pb={readContext:Ut,useCallback:qg,useContext:Ut,useEffect:Au,useImperativeHandle:Gg,useInsertionEffect:$g,useLayoutEffect:Kg,useMemo:Wg,useReducer:lc,useRef:Bg,useState:function(){return lc($a)},useDebugValue:Tu,useDeferredValue:function(t){var e=Ft();return Qg(e,He.memoizedState,t)},useTransition:function(){var t=lc($a)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Yg,unstable_isNewReconciler:!1},gb={readContext:Ut,useCallback:qg,useContext:Ut,useEffect:Au,useImperativeHandle:Gg,useInsertionEffect:$g,useLayoutEffect:Kg,useMemo:Wg,useReducer:cc,useRef:Bg,useState:function(){return cc($a)},useDebugValue:Tu,useDeferredValue:function(t){var e=Ft();return He===null?e.memoizedState=t:Qg(e,He.memoizedState,t)},useTransition:function(){var t=cc($a)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Yg,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function td(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_e({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nl={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ut(),a=tn(t),o=Sr(n,a);o.payload=e,r!=null&&(o.callback=r),e=Zr(t,o,a),e!==null&&(Yt(e,t,a,n),qo(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ut(),a=tn(t),o=Sr(n,a);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Zr(t,o,a),e!==null&&(Yt(e,t,a,n),qo(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ut(),n=tn(t),a=Sr(r,n);a.tag=2,e!=null&&(a.callback=e),e=Zr(t,a,n),e!==null&&(Yt(e,t,n,r),qo(e,t,n))}};function qm(t,e,r,n,a,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!La(r,n)||!La(a,o):!0}function e0(t,e,r){var n=!1,a=cn,o=e.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(a=vt(e)?Pn:st.current,n=e.contextTypes,o=(n=n!=null)?As(t,a):cn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nl.enqueueReplaceState(e,e.state,null)}function rd(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},vu(t);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Ut(o):(o=vt(e)?Pn:st.current,a.context=As(t,o)),a.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(td(t,e,o,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nl.enqueueReplaceState(a,a.state,null),yi(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var r="",n=e;do r+=Kv(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:a,digest:null}}function dc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function nd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xb=typeof WeakMap=="function"?WeakMap:Map;function t0(t,e,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ni||(Ni=!0,md=n),nd(t,e)},r}function r0(t,e,r){r=Sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){nd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){nd(t,e),typeof n!="function"&&(en===null?en=new Set([this]):en.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Qm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xb;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=_b.bind(null,t,e,r),e.then(t,t))}function Ym(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jm(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sr(-1,1),e.tag=2,Zr(r,e,1))),r.lanes|=1),t)}var yb=Mr.ReactCurrentOwner,xt=!1;function ot(t,e,r,n){e.child=t===null?_g(e,null,r,n):Es(e,t.child,r,n)}function Xm(t,e,r,n,a){r=r.render;var o=e.ref;return xs(e,a),n=ku(t,e,r,n,o,a),r=Su(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,_r(t,e,a)):(Ee&&r&&hu(e),e.flags|=1,ot(t,e,n,a),e.child)}function Zm(t,e,r,n,a){if(t===null){var o=r.type;return typeof o=="function"&&!Ou(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,n0(t,e,o,n,a)):(t=Zo(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:La,r(i,n)&&t.ref===e.ref)return _r(t,e,a)}return e.flags|=1,t=rn(o,n),t.ref=e.ref,t.return=e,e.child=t}function n0(t,e,r,n,a){if(t!==null){var o=t.memoizedProps;if(La(o,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=o,(t.lanes&a)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,_r(t,e,a)}return sd(t,e,r,n,a)}function s0(t,e,r){var n=e.pendingProps,a=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(hs,kt),kt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(hs,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ke(hs,kt),kt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ke(hs,kt),kt|=n;return ot(t,e,a,r),e.child}function a0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sd(t,e,r,n,a){var o=vt(r)?Pn:st.current;return o=As(e,o),xs(e,a),r=ku(t,e,r,n,o,a),n=Su(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,_r(t,e,a)):(Ee&&n&&hu(e),e.flags|=1,ot(t,e,r,a),e.child)}function ef(t,e,r,n,a){if(vt(r)){var o=!0;mi(e)}else o=!1;if(xs(e,a),e.stateNode===null)Yo(t,e),e0(e,r,n),rd(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=vt(r)?Pn:st.current,d=As(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Wm(e,i,n,d),Hr=!1;var f=e.memoizedState;i.state=f,yi(e,n,i,a),c=e.memoizedState,l!==n||f!==c||yt.current||Hr?(typeof u=="function"&&(td(e,r,u,n),c=e.memoizedState),(l=Hr||qm(e,r,l,n,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Pg(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Kt(e.type,l),i.props=d,h=e.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=vt(r)?Pn:st.current,c=As(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Wm(e,i,n,c),Hr=!1,f=e.memoizedState,i.state=f,yi(e,n,i,a);var C=e.memoizedState;l!==h||f!==C||yt.current||Hr?(typeof m=="function"&&(td(e,r,m,n),C=e.memoizedState),(d=Hr||qm(e,r,d,n,f,C,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,C,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,C,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=C),i.props=n,i.state=C,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ad(t,e,r,n,o,a)}function ad(t,e,r,n,a,o){a0(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&Fm(e,r,!1),_r(t,e,o);n=e.stateNode,yb.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Es(e,t.child,null,o),e.child=Es(e,null,l,o)):ot(t,e,l,o),e.memoizedState=n.state,a&&Fm(e,r,!0),e.child}function o0(t){var e=t.stateNode;e.pendingContext?Um(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Um(t,e.context,!1),wu(t,e.containerInfo)}function tf(t,e,r,n,a){return Ts(),fu(a),e.flags|=256,ot(t,e,r,n),e.child}var od={dehydrated:null,treeContext:null,retryLane:0};function id(t){return{baseLanes:t,cachePool:null,transitions:null}}function i0(t,e,r){var n=e.pendingProps,a=je.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),ke(je,a&1),t===null)return Zc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ol(i,n,0,null),t=jn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=id(r),e.memoizedState=od,t):Eu(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return vb(t,e,i,n,l,a,r);if(o){o=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=rn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=rn(l,o):(o=jn(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?id(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=od,n}return o=t.child,t=o.sibling,n=rn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Eu(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jo(t,e,r,n){return n!==null&&fu(n),Es(e,t.child,null,r),t=Eu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vb(t,e,r,n,a,o,i){if(r)return e.flags&256?(e.flags&=-257,n=dc(Error(H(422))),jo(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,a=e.mode,n=ol({mode:"visible",children:n.children},a,0,null),o=jn(o,a,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Es(e,t.child,null,i),e.child.memoizedState=id(i),e.memoizedState=od,o);if(!(e.mode&1))return jo(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(H(419)),n=dc(o,n,void 0),jo(t,e,i,n)}if(l=(i&t.childLanes)!==0,xt||l){if(n=qe,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ir(t,a),Yt(n,t,a,-1))}return Mu(),n=dc(Error(H(421))),jo(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Rb.bind(null,t),a._reactRetry=e,null):(t=o.treeContext,St=Xr(a.nextSibling),At=e,Ee=!0,qt=null,t!==null&&(Rt[Pt++]=Cr,Rt[Pt++]=Nr,Rt[Pt++]=Mn,Cr=t.id,Nr=t.overflow,Mn=e),e=Eu(e,n.children),e.flags|=4096,e)}function rf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ed(t.return,e,r)}function uc(t,e,r,n,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function l0(t,e,r){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(ot(t,e,n.children,r),n=je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rf(t,r,e);else if(t.tag===19)rf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ke(je,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&vi(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),uc(e,!1,a,r,o);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&vi(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}uc(e,!0,r,null,o);break;case"together":uc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ln|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=rn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wb(t,e,r){switch(e.tag){case 3:o0(e),Ts();break;case 5:Mg(e);break;case 1:vt(e.type)&&mi(e);break;case 4:wu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;ke(gi,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ke(je,je.current&1),e.flags|=128,null):r&e.child.childLanes?i0(t,e,r):(ke(je,je.current&1),t=_r(t,e,r),t!==null?t.sibling:null);ke(je,je.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return l0(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(je,je.current),n)break;return null;case 22:case 23:return e.lanes=0,s0(t,e,r)}return _r(t,e,r)}var c0,ld,d0,u0;c0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ld=function(){};d0=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,kn(fr.current);var o=null;switch(r){case"input":a=Ic(t,a),n=Ic(t,n),o=[];break;case"select":a=_e({},a,{value:void 0}),n=_e({},n,{value:void 0}),o=[];break;case"textarea":a=Pc(t,a),n=Pc(t,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ui)}Oc(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ja.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ja.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Se("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};u0=function(t,e,r,n){r!==n&&(e.flags|=4)};function na(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bb(t,e,r){var n=e.pendingProps;switch(mu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return vt(e.type)&&hi(),tt(e),null;case 3:return n=e.stateNode,js(),Ae(yt),Ae(st),Cu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(To(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(gd(qt),qt=null))),ld(t,e),tt(e),null;case 5:bu(e);var a=kn(za.current);if(r=e.type,t!==null&&e.stateNode!=null)d0(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return tt(e),null}if(t=kn(fr.current),To(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[dr]=e,n[Fa]=o,t=(e.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(a=0;a<ca.length;a++)Se(ca[a],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":um(n,o),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Se("invalid",n);break;case"textarea":mm(n,o),Se("invalid",n)}Oc(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ao(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ao(n.textContent,l,t),a=["children",""+l]):ja.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Se("scroll",n)}switch(r){case"input":yo(n),hm(n,o,!0);break;case"textarea":yo(n),fm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ui)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[dr]=e,t[Fa]=n,c0(t,e,!1,!1),e.stateNode=t;e:{switch(i=Lc(r,n),r){case"dialog":Se("cancel",t),Se("close",t),a=n;break;case"iframe":case"object":case"embed":Se("load",t),a=n;break;case"video":case"audio":for(a=0;a<ca.length;a++)Se(ca[a],t);a=n;break;case"source":Se("error",t),a=n;break;case"img":case"image":case"link":Se("error",t),Se("load",t),a=n;break;case"details":Se("toggle",t),a=n;break;case"input":um(t,n),a=Ic(t,n),Se("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=_e({},n,{value:void 0}),Se("invalid",t);break;case"textarea":mm(t,n),a=Pc(t,n),Se("invalid",t);break;default:a=n}Oc(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Bp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hp(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ia(t,c):typeof c=="number"&&Ia(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ja.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Se("scroll",t):c!=null&&Xd(t,o,c,i))}switch(r){case"input":yo(t),hm(t,n,!1);break;case"textarea":yo(t),fm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ln(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?ms(t,!!n.multiple,o,!1):n.defaultValue!=null&&ms(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)u0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=kn(za.current),kn(fr.current),To(e)){if(n=e.stateNode,r=e.memoizedProps,n[dr]=e,(o=n.nodeValue!==r)&&(t=At,t!==null))switch(t.tag){case 3:Ao(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ao(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dr]=e,e.stateNode=n}return tt(e),null;case 13:if(Ae(je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&St!==null&&e.mode&1&&!(e.flags&128))jg(),Ts(),e.flags|=98560,o=!1;else if(o=To(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[dr]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),o=!1}else qt!==null&&(gd(qt),qt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ze===0&&(ze=3):Mu())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return js(),ld(t,e),t===null&&Da(e.stateNode.containerInfo),tt(e),null;case 10:return xu(e.type._context),tt(e),null;case 17:return vt(e.type)&&hi(),tt(e),null;case 19:if(Ae(je),o=e.memoizedState,o===null)return tt(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)na(o,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=vi(t),i!==null){for(e.flags|=128,na(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ke(je,je.current&1|2),e.child}t=t.sibling}o.tail!==null&&Me()>_s&&(e.flags|=128,n=!0,na(o,!1),e.lanes=4194304)}else{if(!n)if(t=vi(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),na(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ee)return tt(e),null}else 2*Me()-o.renderingStartTime>_s&&r!==1073741824&&(e.flags|=128,n=!0,na(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,r=je.current,ke(je,n?r&1|2:r&1),e):(tt(e),null);case 22:case 23:return Pu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Cb(t,e){switch(mu(e),e.tag){case 1:return vt(e.type)&&hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return js(),Ae(yt),Ae(st),Cu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bu(e),null;case 13:if(Ae(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(je),null;case 4:return js(),null;case 10:return xu(e.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Io=!1,nt=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function us(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(t,e,n)}else r.current=null}function cd(t,e,r){try{r()}catch(n){Re(t,e,n)}}var nf=!1;function kb(t,e){if(Gc=li,t=gg(),uu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=i+a),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===a&&(l=i),f===o&&++u===n&&(c=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qc={focusedElem:t,selectionRange:r},li=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,A=C.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kt(e.type,y),A);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Re(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=nf,nf=!1,C}function ya(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,o!==void 0&&cd(e,r,o)}a=a.next}while(a!==n)}}function sl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function h0(t){var e=t.alternate;e!==null&&(t.alternate=null,h0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Fa],delete e[Yc],delete e[ob],delete e[ib])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m0(t){return t.tag===5||t.tag===3||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ui));else if(n!==4&&(t=t.child,t!==null))for(ud(t,e,r),t=t.sibling;t!==null;)ud(t,e,r),t=t.sibling}function hd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hd(t,e,r),t=t.sibling;t!==null;)hd(t,e,r),t=t.sibling}var Ye=null,Vt=!1;function Dr(t,e,r){for(r=r.child;r!==null;)f0(t,e,r),r=r.sibling}function f0(t,e,r){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Yi,r)}catch{}switch(r.tag){case 5:nt||us(r,e);case 6:var n=Ye,a=Vt;Ye=null,Dr(t,e,r),Ye=n,Vt=a,Ye!==null&&(Vt?(t=Ye,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(Vt?(t=Ye,r=r.stateNode,t.nodeType===8?sc(t.parentNode,r):t.nodeType===1&&sc(t,r),Ma(t)):sc(Ye,r.stateNode));break;case 4:n=Ye,a=Vt,Ye=r.stateNode.containerInfo,Vt=!0,Dr(t,e,r),Ye=n,Vt=a;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&cd(r,e,i),a=a.next}while(a!==n)}Dr(t,e,r);break;case 1:if(!nt&&(us(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Re(r,e,l)}Dr(t,e,r);break;case 21:Dr(t,e,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,Dr(t,e,r),nt=n):Dr(t,e,r);break;default:Dr(t,e,r)}}function af(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nb),e.forEach(function(n){var a=Pb.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Vt=!1;break e;case 3:Ye=l.stateNode.containerInfo,Vt=!0;break e;case 4:Ye=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Ye===null)throw Error(H(160));f0(o,i,a),Ye=null,Vt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Re(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p0(e,t),e=e.sibling}function p0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),or(t),n&4){try{ya(3,t,t.return),sl(3,t)}catch(y){Re(t,t.return,y)}try{ya(5,t,t.return)}catch(y){Re(t,t.return,y)}}break;case 1:zt(e,t),or(t),n&512&&r!==null&&us(r,r.return);break;case 5:if(zt(e,t),or(t),n&512&&r!==null&&us(r,r.return),t.flags&32){var a=t.stateNode;try{Ia(a,"")}catch(y){Re(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Dp(a,o),Lc(l,i);var d=Lc(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?Bp(a,h):u==="dangerouslySetInnerHTML"?Hp(a,h):u==="children"?Ia(a,h):Xd(a,u,h,d)}switch(l){case"input":_c(a,o);break;case"textarea":Up(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ms(a,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?ms(a,!!o.multiple,o.defaultValue,!0):ms(a,!!o.multiple,o.multiple?[]:"",!1))}a[Fa]=o}catch(y){Re(t,t.return,y)}}break;case 6:if(zt(e,t),or(t),n&4){if(t.stateNode===null)throw Error(H(162));a=t.stateNode,o=t.memoizedProps;try{a.nodeValue=o}catch(y){Re(t,t.return,y)}}break;case 3:if(zt(e,t),or(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(e.containerInfo)}catch(y){Re(t,t.return,y)}break;case 4:zt(e,t),or(t);break;case 13:zt(e,t),or(t),a=t.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(_u=Me())),n&4&&af(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(nt=(d=nt)||u,zt(e,t),nt=d):zt(e,t),or(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,m=f.child,f.tag){case 0:case 11:case 14:case 15:ya(4,f,f.return);break;case 1:us(f,f.return);var C=f.stateNode;if(typeof C.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(y){Re(n,r,y)}}break;case 5:us(f,f.return);break;case 22:if(f.memoizedState!==null){lf(h);continue}}m!==null?(m.return=f,Q=m):lf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zp("display",i))}catch(y){Re(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){Re(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(e,t),or(t),n&4&&af(t);break;case 21:break;default:zt(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(m0(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ia(a,""),n.flags&=-33);var o=sf(t);hd(t,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=sf(t);ud(t,l,i);break;default:throw Error(H(161))}}catch(c){Re(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sb(t,e,r){Q=t,g0(t)}function g0(t,e,r){for(var n=(t.mode&1)!==0;Q!==null;){var a=Q,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Io;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||nt;l=Io;var d=nt;if(Io=i,(nt=c)&&!d)for(Q=a;Q!==null;)i=Q,c=i.child,i.tag===22&&i.memoizedState!==null?cf(a):c!==null?(c.return=i,Q=c):cf(a);for(;o!==null;)Q=o,g0(o),o=o.sibling;Q=a,Io=l,nt=d}of(t)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Q=o):of(t)}}function of(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||sl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!nt)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Kt(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Km(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Km(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}nt||e.flags&512&&dd(e)}catch(f){Re(e,e.return,f)}}if(e===t){Q=null;break}if(r=e.sibling,r!==null){r.return=e.return,Q=r;break}Q=e.return}}function lf(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Q=r;break}Q=e.return}}function cf(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sl(4,e)}catch(c){Re(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Re(e,a,c)}}var o=e.return;try{dd(e)}catch(c){Re(e,o,c)}break;case 5:var i=e.return;try{dd(e)}catch(c){Re(e,i,c)}}}catch(c){Re(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var Ab=Math.ceil,Ci=Mr.ReactCurrentDispatcher,ju=Mr.ReactCurrentOwner,Lt=Mr.ReactCurrentBatchConfig,fe=0,qe=null,De=null,Xe=0,kt=0,hs=mn(0),ze=0,Va=null,Ln=0,al=0,Iu=0,va=null,pt=null,_u=0,_s=1/0,vr=null,Ni=!1,md=null,en=null,_o=!1,Vr=null,ki=0,wa=0,fd=null,Jo=-1,Xo=0;function ut(){return fe&6?Me():Jo!==-1?Jo:Jo=Me()}function tn(t){return t.mode&1?fe&2&&Xe!==0?Xe&-Xe:cb.transition!==null?(Xo===0&&(Xo=eg()),Xo):(t=we,t!==0||(t=window.event,t=t===void 0?16:ig(t.type)),t):1}function Yt(t,e,r,n){if(50<wa)throw wa=0,fd=null,Error(H(185));no(t,r,n),(!(fe&2)||t!==qe)&&(t===qe&&(!(fe&2)&&(al|=r),ze===4&&Br(t,Xe)),wt(t,n),r===1&&fe===0&&!(e.mode&1)&&(_s=Me()+500,tl&&fn()))}function wt(t,e){var r=t.callbackNode;cw(t,e);var n=ii(t,t===qe?Xe:0);if(n===0)r!==null&&xm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&xm(r),e===1)t.tag===0?lb(df.bind(null,t)):Ag(df.bind(null,t)),sb(function(){!(fe&6)&&fn()}),r=null;else{switch(tg(n)){case 1:r=nu;break;case 4:r=Xp;break;case 16:r=oi;break;case 536870912:r=Zp;break;default:r=oi}r=k0(r,x0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function x0(t,e){if(Jo=-1,Xo=0,fe&6)throw Error(H(327));var r=t.callbackNode;if(ys()&&t.callbackNode!==r)return null;var n=ii(t,t===qe?Xe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Si(t,n);else{e=n;var a=fe;fe|=2;var o=v0();(qe!==t||Xe!==e)&&(vr=null,_s=Me()+500,En(t,e));do try{jb();break}catch(l){y0(t,l)}while(!0);gu(),Ci.current=o,fe=a,De!==null?e=0:(qe=null,Xe=0,e=ze)}if(e!==0){if(e===2&&(a=zc(t),a!==0&&(n=a,e=pd(t,a))),e===1)throw r=Va,En(t,0),Br(t,n),wt(t,Me()),r;if(e===6)Br(t,n);else{if(a=t.current.alternate,!(n&30)&&!Tb(a)&&(e=Si(t,n),e===2&&(o=zc(t),o!==0&&(n=o,e=pd(t,o))),e===1))throw r=Va,En(t,0),Br(t,n),wt(t,Me()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:vn(t,pt,vr);break;case 3:if(Br(t,n),(n&130023424)===n&&(e=_u+500-Me(),10<e)){if(ii(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){ut(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Qc(vn.bind(null,t,pt,vr),e);break}vn(t,pt,vr);break;case 4:if(Br(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-Qt(n);o=1<<i,i=e[i],i>a&&(a=i),n&=~o}if(n=a,n=Me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ab(n/1960))-n,10<n){t.timeoutHandle=Qc(vn.bind(null,t,pt,vr),n);break}vn(t,pt,vr);break;case 5:vn(t,pt,vr);break;default:throw Error(H(329))}}}return wt(t,Me()),t.callbackNode===r?x0.bind(null,t):null}function pd(t,e){var r=va;return t.current.memoizedState.isDehydrated&&(En(t,e).flags|=256),t=Si(t,e),t!==2&&(e=pt,pt=r,e!==null&&gd(e)),t}function gd(t){pt===null?pt=t:pt.push.apply(pt,t)}function Tb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Xt(o(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Iu,e&=~al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qt(e),n=1<<r;t[r]=-1,e&=~n}}function df(t){if(fe&6)throw Error(H(327));ys();var e=ii(t,0);if(!(e&1))return wt(t,Me()),null;var r=Si(t,e);if(t.tag!==0&&r===2){var n=zc(t);n!==0&&(e=n,r=pd(t,n))}if(r===1)throw r=Va,En(t,0),Br(t,e),wt(t,Me()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vn(t,pt,vr),wt(t,Me()),null}function Ru(t,e){var r=fe;fe|=1;try{return t(e)}finally{fe=r,fe===0&&(_s=Me()+500,tl&&fn())}}function Dn(t){Vr!==null&&Vr.tag===0&&!(fe&6)&&ys();var e=fe;fe|=1;var r=Lt.transition,n=we;try{if(Lt.transition=null,we=1,t)return t()}finally{we=n,Lt.transition=r,fe=e,!(fe&6)&&fn()}}function Pu(){kt=hs.current,Ae(hs)}function En(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nb(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(mu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hi();break;case 3:js(),Ae(yt),Ae(st),Cu();break;case 5:bu(n);break;case 4:js();break;case 13:Ae(je);break;case 19:Ae(je);break;case 10:xu(n.type._context);break;case 22:case 23:Pu()}r=r.return}if(qe=t,De=t=rn(t.current,null),Xe=kt=e,ze=0,Va=null,Iu=al=Ln=0,pt=va=null,Nn!==null){for(e=0;e<Nn.length;e++)if(r=Nn[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Nn=null}return t}function y0(t,e){do{var r=De;try{if(gu(),Wo.current=bi,wi){for(var n=Ie.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wi=!1}if(On=0,Ge=He=Ie=null,xa=!1,Ba=0,ju.current=null,r===null||r.return===null){ze=1,Va=e,De=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=Xe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Ym(i);if(m!==null){m.flags&=-257,Jm(m,i,l,o,e),m.mode&1&&Qm(o,d,e),e=m,c=d;var C=e.updateQueue;if(C===null){var y=new Set;y.add(c),e.updateQueue=y}else C.add(c);break e}else{if(!(e&1)){Qm(o,d,e),Mu();break e}c=Error(H(426))}}else if(Ee&&l.mode&1){var A=Ym(i);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Jm(A,i,l,o,e),fu(Is(c,l));break e}}o=c=Is(c,l),ze!==4&&(ze=2),va===null?va=[o]:va.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=t0(o,c,e);$m(o,x);break e;case 1:l=c;var g=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(en===null||!en.has(p)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=r0(o,l,e);$m(o,w);break e}}o=o.return}while(o!==null)}b0(r)}catch(N){e=N,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function v0(){var t=Ci.current;return Ci.current=bi,t===null?bi:t}function Mu(){(ze===0||ze===3||ze===2)&&(ze=4),qe===null||!(Ln&268435455)&&!(al&268435455)||Br(qe,Xe)}function Si(t,e){var r=fe;fe|=2;var n=v0();(qe!==t||Xe!==e)&&(vr=null,En(t,e));do try{Eb();break}catch(a){y0(t,a)}while(!0);if(gu(),fe=r,Ci.current=n,De!==null)throw Error(H(261));return qe=null,Xe=0,ze}function Eb(){for(;De!==null;)w0(De)}function jb(){for(;De!==null&&!ew();)w0(De)}function w0(t){var e=N0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?b0(t):De=e,ju.current=null}function b0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Cb(r,e),r!==null){r.flags&=32767,De=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,De=null;return}}else if(r=bb(r,e,kt),r!==null){De=r;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);ze===0&&(ze=5)}function vn(t,e,r){var n=we,a=Lt.transition;try{Lt.transition=null,we=1,Ib(t,e,r,n)}finally{Lt.transition=a,we=n}return null}function Ib(t,e,r,n){do ys();while(Vr!==null);if(fe&6)throw Error(H(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(dw(t,o),t===qe&&(De=qe=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_o||(_o=!0,k0(oi,function(){return ys(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Lt.transition,Lt.transition=null;var i=we;we=1;var l=fe;fe|=4,ju.current=null,kb(t,r),p0(r,t),Yw(qc),li=!!Gc,qc=Gc=null,t.current=r,Sb(r),tw(),fe=l,we=i,Lt.transition=o}else t.current=r;if(_o&&(_o=!1,Vr=t,ki=a),o=t.pendingLanes,o===0&&(en=null),sw(r.stateNode),wt(t,Me()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ni)throw Ni=!1,t=md,md=null,t;return ki&1&&t.tag!==0&&ys(),o=t.pendingLanes,o&1?t===fd?wa++:(wa=0,fd=t):wa=0,fn(),null}function ys(){if(Vr!==null){var t=tg(ki),e=Lt.transition,r=we;try{if(Lt.transition=null,we=16>t?16:t,Vr===null)var n=!1;else{if(t=Vr,Vr=null,ki=0,fe&6)throw Error(H(331));var a=fe;for(fe|=4,Q=t.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:ya(8,u,o)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,m=u.return;if(h0(u),u===d){Q=null;break}if(f!==null){f.return=m,Q=f;break}Q=m}}}var C=o.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ya(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Q=x;break e}Q=o.return}}var g=t.current;for(Q=g;Q!==null;){i=Q;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,Q=p;else e:for(i=g;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(N){Re(l,l.return,N)}if(l===i){Q=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Q=w;break e}Q=l.return}}if(fe=a,fn(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Yi,t)}catch{}n=!0}return n}finally{we=r,Lt.transition=e}}return!1}function uf(t,e,r){e=Is(r,e),e=t0(t,e,1),t=Zr(t,e,1),e=ut(),t!==null&&(no(t,1,e),wt(t,e))}function Re(t,e,r){if(t.tag===3)uf(t,t,r);else for(;e!==null;){if(e.tag===3){uf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(en===null||!en.has(n))){t=Is(r,t),t=r0(e,t,1),e=Zr(e,t,1),t=ut(),e!==null&&(no(e,1,t),wt(e,t));break}}e=e.return}}function _b(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&r,qe===t&&(Xe&r)===r&&(ze===4||ze===3&&(Xe&130023424)===Xe&&500>Me()-_u?En(t,0):Iu|=r),wt(t,e)}function C0(t,e){e===0&&(t.mode&1?(e=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):e=1);var r=ut();t=Ir(t,e),t!==null&&(no(t,e,r),wt(t,r))}function Rb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),C0(t,r)}function Pb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),C0(t,r)}var N0;N0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xt=!1,wb(t,e,r);xt=!!(t.flags&131072)}else xt=!1,Ee&&e.flags&1048576&&Tg(e,pi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Yo(t,e),t=e.pendingProps;var a=As(e,st.current);xs(e,r),a=ku(null,e,n,t,a,r);var o=Su();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(n)?(o=!0,mi(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vu(e),a.updater=nl,e.stateNode=a,a._reactInternals=e,rd(e,n,t,r),e=ad(null,e,n,!0,o,r)):(e.tag=0,Ee&&o&&hu(e),ot(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Yo(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Ob(n),t=Kt(n,t),a){case 0:e=sd(null,e,n,t,r);break e;case 1:e=ef(null,e,n,t,r);break e;case 11:e=Xm(null,e,n,t,r);break e;case 14:e=Zm(null,e,n,Kt(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Kt(n,a),sd(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Kt(n,a),ef(t,e,n,a,r);case 3:e:{if(o0(e),t===null)throw Error(H(387));n=e.pendingProps,o=e.memoizedState,a=o.element,Pg(t,e),yi(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Is(Error(H(423)),e),e=tf(t,e,n,r,a);break e}else if(n!==a){a=Is(Error(H(424)),e),e=tf(t,e,n,r,a);break e}else for(St=Xr(e.stateNode.containerInfo.firstChild),At=e,Ee=!0,qt=null,r=_g(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),n===a){e=_r(t,e,r);break e}ot(t,e,n,r)}e=e.child}return e;case 5:return Mg(e),t===null&&Zc(e),n=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,i=a.children,Wc(n,a)?i=null:o!==null&&Wc(n,o)&&(e.flags|=32),a0(t,e),ot(t,e,i,r),e.child;case 6:return t===null&&Zc(e),null;case 13:return i0(t,e,r);case 4:return wu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Es(e,null,n,r):ot(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Kt(n,a),Xm(t,e,n,a,r);case 7:return ot(t,e,e.pendingProps,r),e.child;case 8:return ot(t,e,e.pendingProps.children,r),e.child;case 12:return ot(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,o=e.memoizedProps,i=a.value,ke(gi,n._currentValue),n._currentValue=i,o!==null)if(Xt(o.value,i)){if(o.children===a.children&&!yt.current){e=_r(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Sr(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ed(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(H(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ed(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ot(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,xs(e,r),a=Ut(a),n=n(a),e.flags|=1,ot(t,e,n,r),e.child;case 14:return n=e.type,a=Kt(n,e.pendingProps),a=Kt(n.type,a),Zm(t,e,n,a,r);case 15:return n0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Kt(n,a),Yo(t,e),e.tag=1,vt(n)?(t=!0,mi(e)):t=!1,xs(e,r),e0(e,n,a),rd(e,n,a,r),ad(null,e,n,!0,t,r);case 19:return l0(t,e,r);case 22:return s0(t,e,r)}throw Error(H(156,e.tag))};function k0(t,e){return Jp(t,e)}function Mb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,r,n){return new Mb(t,e,r,n)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ob(t){if(typeof t=="function")return Ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eu)return 11;if(t===tu)return 14}return 2}function rn(t,e){var r=t.alternate;return r===null?(r=Ot(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zo(t,e,r,n,a,o){var i=2;if(n=t,typeof t=="function")Ou(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case rs:return jn(r.children,a,o,e);case Zd:i=8,a|=8;break;case Ac:return t=Ot(12,r,e,a|2),t.elementType=Ac,t.lanes=o,t;case Tc:return t=Ot(13,r,e,a),t.elementType=Tc,t.lanes=o,t;case Ec:return t=Ot(19,r,e,a),t.elementType=Ec,t.lanes=o,t;case Mp:return ol(r,a,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rp:i=10;break e;case Pp:i=9;break e;case eu:i=11;break e;case tu:i=14;break e;case Fr:i=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Ot(i,r,e,a),e.elementType=t,e.type=n,e.lanes=o,e}function jn(t,e,r,n){return t=Ot(7,t,n,e),t.lanes=r,t}function ol(t,e,r,n){return t=Ot(22,t,n,e),t.elementType=Mp,t.lanes=r,t.stateNode={isHidden:!1},t}function hc(t,e,r){return t=Ot(6,t,null,e),t.lanes=r,t}function mc(t,e,r){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lb(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lu(t,e,r,n,a,o,i,l,c){return t=new Lb(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ot(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(o),t}function Db(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function S0(t){if(!t)return cn;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(vt(r))return Sg(t,r,e)}return e}function A0(t,e,r,n,a,o,i,l,c){return t=Lu(r,n,!0,t,a,o,i,l,c),t.context=S0(null),r=t.current,n=ut(),a=tn(r),o=Sr(n,a),o.callback=e??null,Zr(r,o,a),t.current.lanes=a,no(t,a,n),wt(t,n),t}function il(t,e,r,n){var a=e.current,o=ut(),i=tn(a);return r=S0(r),e.context===null?e.context=r:e.pendingContext=r,e=Sr(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zr(a,e,i),t!==null&&(Yt(t,a,i,o),qo(t,a,i)),i}function Ai(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Du(t,e){hf(t,e),(t=t.alternate)&&hf(t,e)}function Ub(){return null}var T0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uu(t){this._internalRoot=t}ll.prototype.render=Uu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));il(t,e,null,null)};ll.prototype.unmount=Uu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){il(null,t,null,null)}),e[jr]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=sg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zr.length&&e!==0&&e<zr[r].priority;r++);zr.splice(r,0,t),r===0&&og(t)}};function Fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Fb(t,e,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var d=Ai(i);o.call(d)}}var i=A0(e,n,t,0,null,!1,!1,"",mf);return t._reactRootContainer=i,t[jr]=i.current,Da(t.nodeType===8?t.parentNode:t),Dn(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Ai(c);l.call(d)}}var c=Lu(t,0,!1,null,null,!1,!1,"",mf);return t._reactRootContainer=c,t[jr]=c.current,Da(t.nodeType===8?t.parentNode:t),Dn(function(){il(e,c,r,n)}),c}function dl(t,e,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Ai(i);l.call(c)}}il(e,i,t,a)}else i=Fb(r,e,t,a,n);return Ai(i)}rg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=la(e.pendingLanes);r!==0&&(su(e,r|1),wt(e,Me()),!(fe&6)&&(_s=Me()+500,fn()))}break;case 13:Dn(function(){var n=Ir(t,1);if(n!==null){var a=ut();Yt(n,t,1,a)}}),Du(t,1)}};au=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var r=ut();Yt(e,t,134217728,r)}Du(t,134217728)}};ng=function(t){if(t.tag===13){var e=tn(t),r=Ir(t,e);if(r!==null){var n=ut();Yt(r,t,e,n)}Du(t,e)}};sg=function(){return we};ag=function(t,e){var r=we;try{return we=t,e()}finally{we=r}};Uc=function(t,e,r){switch(e){case"input":if(_c(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=el(n);if(!a)throw Error(H(90));Lp(n),_c(n,a)}}}break;case"textarea":Up(t,r);break;case"select":e=r.value,e!=null&&ms(t,!!r.multiple,e,!1)}};Vp=Ru;Gp=Dn;var Hb={usingClientEntryPoint:!1,Events:[ao,os,el,$p,Kp,Ru]},sa={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zb={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qp(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||Ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Yi=Ro.inject(zb),mr=Ro}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb;It.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(e))throw Error(H(200));return Db(t,e,null,r)};It.createRoot=function(t,e){if(!Fu(t))throw Error(H(299));var r=!1,n="",a=T0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Lu(t,1,!1,null,null,r,!1,n,a),t[jr]=e.current,Da(t.nodeType===8?t.parentNode:t),new Uu(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Qp(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Dn(t)};It.hydrate=function(t,e,r){if(!cl(e))throw Error(H(200));return dl(null,t,e,!0,r)};It.hydrateRoot=function(t,e,r){if(!Fu(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=T0;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=A0(e,null,t,1,r??null,a,!1,o,i),t[jr]=e.current,Da(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new ll(e)};It.render=function(t,e,r){if(!cl(e))throw Error(H(200));return dl(null,t,e,!1,r)};It.unmountComponentAtNode=function(t){if(!cl(t))throw Error(H(40));return t._reactRootContainer?(Dn(function(){dl(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};It.unstable_batchedUpdates=Ru;It.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cl(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return dl(t,e,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function E0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E0)}catch(t){console.error(t)}}E0(),Ep.exports=It;var j0=Ep.exports;const Bb=gp(j0);var I0,ff=j0;I0=ff.createRoot,ff.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const pf="popstate";function $b(t){t===void 0&&(t={});function e(n,a){let{pathname:o,search:i,hash:l}=n.location;return xd("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:R0(a)}return Vb(e,r,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kb(){return Math.random().toString(36).substr(2,8)}function gf(t,e){return{usr:t.state,key:t.key,idx:e}}function xd(t,e,r,n){return r===void 0&&(r=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:r,key:e&&e.key||n||Kb()})}function R0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ds(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Vb(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=Gr.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Ga({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){l=Gr.Pop;let A=u(),x=A==null?null:A-d;d=A,c&&c({action:l,location:y.location,delta:x})}function f(A,x){l=Gr.Push;let g=xd(y.location,A,x);d=u()+1;let p=gf(g,d),w=y.createHref(g);try{i.pushState(p,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}o&&c&&c({action:l,location:y.location,delta:1})}function m(A,x){l=Gr.Replace;let g=xd(y.location,A,x);d=u();let p=gf(g,d),w=y.createHref(g);i.replaceState(p,"",w),o&&c&&c({action:l,location:y.location,delta:0})}function C(A){let x=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof A=="string"?A:R0(A);return g=g.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let y={get action(){return l},get location(){return t(a,i)},listen(A){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(pf,h),c=A,()=>{a.removeEventListener(pf,h),c=null}},createHref(A){return e(a,A)},createURL:C,encodeLocation(A){let x=C(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(A){return i.go(A)}};return y}var xf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xf||(xf={}));function Gb(t,e,r){return r===void 0&&(r="/"),qb(t,e,r)}function qb(t,e,r,n){let a=typeof e=="string"?Ds(e):e,o=O0(a.pathname||"/",r);if(o==null)return null;let i=P0(t);Wb(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=oC(o);l=nC(i[c],d)}return l}function P0(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=In([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),P0(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:tC(d,o.index),routesMeta:u})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of M0(o.path))a(o,i,c)}),e}function M0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=M0(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Wb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:rC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qb=/^:[\w-]+$/,Yb=3,Jb=2,Xb=1,Zb=10,eC=-2,yf=t=>t==="*";function tC(t,e){let r=t.split("/"),n=r.length;return r.some(yf)&&(n+=eC),e&&(n+=Jb),r.filter(a=>!yf(a)).reduce((a,o)=>a+(Qb.test(o)?Yb:o===""?Xb:Zb),n)}function rC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function nC(t,e,r){let{routesMeta:n}=t,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=sC({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:In([o,h.pathname]),pathnameBase:dC(In([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=In([o,h.pathnameBase]))}return i}function sC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=aC(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=l[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const C=l[h];return m&&!C?d[f]=void 0:d[f]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:t}}function aC(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function oC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function iC(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Ds(t):t;return{pathname:r?r.startsWith("/")?r:lC(r,e):e,search:uC(n),hash:hC(a)}}function lC(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function L0(t,e){let r=cC(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function D0(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Ds(t):(a=Ga({},t),Ue(!a.pathname||!a.pathname.includes("?"),fc("?","pathname","search",a)),Ue(!a.pathname||!a.pathname.includes("#"),fc("#","pathname","hash",a)),Ue(!a.search||!a.search.includes("#"),fc("#","search","hash",a)));let o=t===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=iC(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const In=t=>t.join("/").replace(/\/\/+/g,"/"),dC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U0=["post","put","patch","delete"];new Set(U0);const fC=["get",...U0];new Set(fC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qa.apply(this,arguments)}const Hu=v.createContext(null),pC=v.createContext(null),io=v.createContext(null),ul=v.createContext(null),Vn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),F0=v.createContext(null);function lo(){return v.useContext(ul)!=null}function hl(){return lo()||Ue(!1),v.useContext(ul).location}function H0(t){v.useContext(io).static||v.useLayoutEffect(t)}function z0(){let{isDataRoute:t}=v.useContext(Vn);return t?EC():gC()}function gC(){lo()||Ue(!1);let t=v.useContext(Hu),{basename:e,future:r,navigator:n}=v.useContext(io),{matches:a}=v.useContext(Vn),{pathname:o}=hl(),i=JSON.stringify(L0(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return H0(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=D0(d,JSON.parse(i),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:In([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,i,o,t])}function xC(t,e){return yC(t,e)}function yC(t,e,r,n){lo()||Ue(!1);let{navigator:a}=v.useContext(io),{matches:o}=v.useContext(Vn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=hl(),u;if(e){var h;let A=typeof e=="string"?Ds(e):e;c==="/"||(h=A.pathname)!=null&&h.startsWith(c)||Ue(!1),u=A}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let A=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=Gb(t,{pathname:m}),y=NC(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:In([c,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:In([c,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n);return e&&y?v.createElement(ul.Provider,{value:{location:qa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gr.Pop}},y):y}function vC(){let t=TC(),e=mC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const wC=v.createElement(vC,null);class bC extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Vn.Provider,{value:this.props.routeContext},v.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CC(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(Hu);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Vn.Provider,{value:e},n)}function NC(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ue(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,C=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||C){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let m,C=!1,y=null,A=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||wC,c&&(d<0&&f===0?(jC("route-fallback"),C=!0,A=null):d===f&&(C=!0,A=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),g=()=>{let p;return m?p=y:C?p=A:h.route.Component?p=v.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,v.createElement(CC,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(bC,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var B0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B0||{}),$0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($0||{});function kC(t){let e=v.useContext(Hu);return e||Ue(!1),e}function SC(t){let e=v.useContext(pC);return e||Ue(!1),e}function AC(t){let e=v.useContext(Vn);return e||Ue(!1),e}function K0(t){let e=AC(),r=e.matches[e.matches.length-1];return r.route.id||Ue(!1),r.route.id}function TC(){var t;let e=v.useContext(F0),r=SC(),n=K0();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function EC(){let{router:t}=kC(B0.UseNavigateStable),e=K0($0.UseNavigateStable),r=v.useRef(!1);return H0(()=>{r.current=!0}),v.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,qa({fromRouteId:e},o)))},[t,e])}const vf={};function jC(t,e,r){vf[t]||(vf[t]=!0)}function IC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pc(t){let{to:e,replace:r,state:n,relative:a}=t;lo()||Ue(!1);let{future:o,static:i}=v.useContext(io),{matches:l}=v.useContext(Vn),{pathname:c}=hl(),d=z0(),u=D0(e,L0(l,o.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function $t(t){Ue(!1)}function _C(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Gr.Pop,navigator:o,static:i=!1,future:l}=t;lo()&&Ue(!1);let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:o,static:i,future:qa({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Ds(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:C="default"}=n,y=v.useMemo(()=>{let A=O0(u,c);return A==null?null:{location:{pathname:A,search:h,hash:f,state:m,key:C},navigationType:a}},[c,u,h,f,m,C,a]);return y==null?null:v.createElement(io.Provider,{value:d},v.createElement(ul.Provider,{children:r,value:y}))}function RC(t){let{children:e,location:r}=t;return xC(yd(e),r)}new Promise(()=>{});function yd(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let o=[...e,a];if(n.type===v.Fragment){r.push.apply(r,yd(n.props.children,o));return}n.type!==$t&&Ue(!1),!n.props.index||!n.props.children||Ue(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=yd(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PC="6";try{window.__reactRouterVersion=PC}catch{}const MC="startTransition",wf=_v[MC];function OC(t){let{basename:e,children:r,future:n,window:a}=t,o=v.useRef();o.current==null&&(o.current=$b({window:a,v5Compat:!0}));let i=o.current,[l,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=v.useCallback(h=>{d&&wf?wf(()=>c(h)):c(h)},[c,d]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.useEffect(()=>IC(n),[n]),v.createElement(_C,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var bf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bf||(bf={}));var Cf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cf||(Cf={}));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V0=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...DC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:V0("lucide",a),...l},[...i.map(([d,u])=>v.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(t,e)=>{const r=v.forwardRef(({className:n,...a},o)=>v.createElement(UC,{ref:o,iconNode:e,className:V0(`lucide-${LC(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=q("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=q("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=q("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=q("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=q("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=q("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=q("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=q("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=q("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=q("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mN=({isOpen:t,onClose:e})=>{const[r,n]=v.useState(0),[a,o]=v.useState(!0),i=[{id:1,title:"Chat Interface - Your AI Business Assistant",description:"Experience natural conversations with your data through our intelligent chat interface.",features:["Natural language queries for complex business questions","Real-time data analysis and insights","Contextual conversations that remember your previous questions","Smart suggestions for follow-up queries"],imagePlaceholder:"/src/components/assets/chat_interface.png"},{id:2,title:"Secure Login & User Management",description:"Securely manage user access and roles with our robust authentication system.",features:[" Secure Sign in with OAuth2 and SSO options","User creation and role-based access control","Password recovery and multi-factor authentication"," Audit logs for user activities"],imagePlaceholder:"/src/components/assets/securlogin.png"},{id:3,title:"Data Query Panel - Advanced Analytics",description:"Dive deep into your data with powerful querying capabilities and advanced filtering options.",features:["SQL-like query builder with visual interface","Advanced filtering and sorting options","Custom report generation and scheduling","Data export capabilities in multiple formats"],imagePlaceholder:"/src/components/assets/data_query_panel.png"},{id:4,title:"Workspaces - Organized Collaboration",description:"Create dedicated workspaces for different teams, projects, or business units.",features:["Team-based workspace organization","Shared dashboards and reports","Role-based access control and permissions","Collaborative annotations and comments"],imagePlaceholder:"/src/components/assets/workspaces.png"},{id:5,title:"History & Bookmarks - Never Lose Important Insights",description:"Keep track of your important conversations and bookmark key insights for future reference.",features:["Complete chat history with search functionality","Bookmark important queries and results","Tag and categorize conversations","Quick access to frequently used analyses"],imagePlaceholder:"/src/components/assets/chathistory.png"},{id:6,title:"Organizational Admin - Centralized Control",description:"Manage your organizations settings, users, and data sources from a centralized admin panel.",features:[" Organization-wide settings and configurations"," User and role management"," Data source integrations and monitoring"," Audit logs and activity tracking"],imagePlaceholder:"/src/components/assets/adminportal.png"}];v.useEffect(()=>{if(!a||!t)return;const f=setInterval(()=>{n(m=>(m+1)%i.length)},6e3);return()=>clearInterval(f)},[a,t,i.length]);const l=()=>{o(!a)},c=()=>{o(!1),n(f=>(f+1)%i.length)},d=()=>{o(!1),n(f=>(f-1+i.length)%i.length)},u=f=>{o(!1),n(f)};if(!t)return null;const h=i[r];return s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden shadow-2xl animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:l,className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center transition-colors",children:a?s.jsx(nN,{className:"w-5 h-5 text-white"}):s.jsx(Cd,{className:"w-5 h-5 text-white ml-1"})}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"AIVA Feature Presentation"})]}),s.jsx("button",{onClick:e,className:"w-10 h-10 bg-slate-700 hover:bg-slate-600 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx(Rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsxs("span",{className:"inline-block px-4 py-2 bg-blue-600/20 text-blue-300 rounded-full text-sm font-medium",children:[r+1," of ",i.length]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[s.jsx("img",{src:h.imagePlaceholder,alt:""}),s.jsxs("div",{className:"order-1 lg:order-2",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 animate-slide-in-right",children:h.title}),s.jsx("p",{className:"text-lg text-slate-300 mb-6 leading-relaxed animate-fade-in animation-delay-200",children:h.description}),s.jsx("div",{className:"space-y-3 animate-stagger-children",children:h.features.map((f,m)=>s.jsxs("div",{className:"flex items-start space-x-3 animate-slide-in-left",style:{animationDelay:`${(m+1)*100}ms`},children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:f})]},m))})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(q0,{className:"w-5 h-5"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:i.map((f,m)=>s.jsx("button",{onClick:()=>u(m),className:`w-3 h-3 rounded-full transition-colors ${m===r?"bg-blue-500":"bg-slate-600 hover:bg-slate-500"}`},m))}),s.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx("span",{children:"Next"}),s.jsx(BC,{className:"w-5 h-5"})]})]})]})]})})},fN=({user:t,onNavigateToLogin:e,onNavigateToSignUp:r,onNavigateToDashboard:n})=>{const[a,o]=v.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-full blur-lg animate-float-medium"}),s.jsx("div",{className:"absolute bottom-40 left-20 w-40 h-40 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-2xl animate-float-fast"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-28 h-28 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-radial from-blue-600/30 via-purple-600/20 to-transparent rounded-full animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-radial from-green-600/30 via-cyan-600/20 to-transparent rounded-full animate-pulse-medium"}),s.jsx("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400/60 rounded-full animate-particle-1"}),s.jsx("div",{className:"absolute top-2/3 left-1/3 w-1 h-1 bg-purple-400/60 rounded-full animate-particle-2"}),s.jsx("div",{className:"absolute top-1/2 right-1/3 w-3 h-3 bg-cyan-400/60 rounded-full animate-particle-3"}),s.jsx("div",{className:"absolute bottom-1/3 left-2/3 w-2 h-2 bg-green-400/60 rounded-full animate-particle-4"}),s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-transparent via-blue-500/30 to-transparent transform -translate-x-1/2 animate-line-glow"}),s.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-500/30 to-transparent transform -translate-y-1/2 animate-line-glow-horizontal"})]}),s.jsx("div",{className:"absolute top-1/4 right-1/4 w-16 h-16 border border-blue-500/30 rotate-45 animate-rotate-slow"}),s.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-12 h-12 border border-purple-500/30 rotate-12 animate-rotate-reverse"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("header",{className:"flex items-center justify-between px-6 py-4 lg:px-12 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:"/alyasra-logo.png",alt:"Alyasra Logo",className:"w-8 h-8 animate-pulse"}),s.jsx("span",{className:"text-xl font-bold text-white tracking-wide hover:text-blue-400 transition-colors duration-300",children:"AIVA"})]}),t?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:t.name?t.name.charAt(0).toUpperCase():t.email?t.email.charAt(0).toUpperCase():"U"})}),s.jsx("button",{onClick:()=>n(t),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600/80 hover:bg-blue-700 rounded-lg transition-all duration-300 transform hover:scale-110 hover:shadow-lg animate-bounce-subtle",children:"Dashboard"})]}):s.jsx("button",{onClick:e,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-300 transform hover:scale-110 hover:shadow-lg animate-bounce-subtle",children:"Login"})]}),s.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[s.jsxs("section",{className:"text-center py-8 lg:py-12 animate-fade-in-up",children:[s.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6 tracking-tight animate-slide-in-left",children:"Empower Business Decisions with Conversational Intelligence"}),s.jsx("p",{className:"text-lg lg:text-xl text-slate-300 mb-8 max-w-4xl mx-auto leading-relaxed animate-slide-in-right animation-delay-300",children:"Ask. Analyze. Act. Alyasra IVA delivers real-time insights, forecasts, and recommendationsright from a secure chat."}),s.jsxs("button",{onClick:()=>{t!==null?n(t):e()},className:"inline-flex items-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-110 shadow-xl hover:shadow-2xl animate-pulse-glow animation-delay-600",children:["Get Started",s.jsx(gc,{className:"ml-2 w-5 h-5 animate-bounce-x"})]})]}),s.jsx("section",{className:"py-8 lg:py-12",children:s.jsxs("div",{className:"mb-16 lg:mb-24",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white text-center mb-12 animate-fade-in-up",children:"Why AIVA?"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto animate-stagger-children",children:[s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-500 transform hover:-translate-y-4 hover:shadow-2xl hover:shadow-blue-500/20 animate-slide-in-left animation-delay-200",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-3xl animate-bounce-subtle animation-delay-400",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Conversational BI, Not Just Chat"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Natural language queries for both simple data lookups and deep analytics."})]})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-500 transform hover:-translate-y-4 hover:shadow-2xl hover:shadow-green-500/20 animate-slide-in-right animation-delay-300",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-3xl animate-bounce-subtle animation-delay-500",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Proactive Insights & Forecasts"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"AI identifies patterns, anomalies, and trends before you even ask."})]})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-500 transform hover:-translate-y-4 hover:shadow-2xl hover:shadow-purple-500/20 animate-slide-in-left animation-delay-400",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-3xl animate-bounce-subtle animation-delay-600",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Enterprise-Ready & Secure"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Built on Microsoft Fabric, secured with Entra ID, governed by RLS."})]})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-500 transform hover:-translate-y-4 hover:shadow-2xl hover:shadow-orange-500/20 animate-slide-in-right animation-delay-500",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-3xl animate-bounce-subtle animation-delay-700",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Cross-Platform Access"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Available on Microsoft Teams, Web, and Mobilewherever you work."})]})]})})]})]})}),s.jsxs("section",{className:"pt-4 pb-8 lg:pt-6 lg:pb-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 animate-fade-in-up",children:" What Can You Ask?"}),s.jsx("p",{className:"text-lg text-slate-300 mb-8 animate-fade-in-up animation-delay-200",children:"Example Questions You Can Ask"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 animate-stagger-children",children:[s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-xl hover:shadow-blue-500/20 animate-slide-in-left animation-delay-300",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1 animate-pulse",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"?"})}),s.jsx("p",{className:"text-white font-medium text-lg",children:'"What are the top 5 performing stores this month?"'})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-xl hover:shadow-blue-500/20 animate-slide-in-right animation-delay-400",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1 animate-pulse animation-delay-200",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"?"})}),s.jsx("p",{className:"text-white font-medium text-lg",children:'"Show inventory levels compared to forecasts."'})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-xl hover:shadow-blue-500/20 animate-slide-in-left animation-delay-500",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1 animate-pulse animation-delay-400",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"?"})}),s.jsx("p",{className:"text-white font-medium text-lg",children:'"Why did footfall drop last weekend?"'})]})}),s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-xl hover:shadow-blue-500/20 animate-slide-in-right animation-delay-600",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1 animate-pulse animation-delay-600",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"?"})}),s.jsx("p",{className:"text-white font-medium text-lg",children:'"Suggest a reorder strategy for low-stock items."'})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-xl hover:shadow-blue-500/20 animate-fade-in-up animation-delay-700",children:s.jsxs("div",{className:"flex items-start space-x-3 justify-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1 animate-pulse animation-delay-800",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"?"})}),s.jsx("p",{className:"text-white font-medium text-lg",children:'"Summarize Q3 performance in a report."'})]})})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("button",{onClick:()=>o(!0),className:"bg-slate-700/30 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/30 border-dashed animate-fade-in-up animation-delay-900 hover:bg-slate-700/50 hover:border-slate-500/50 transition-all duration-300 transform hover:scale-105 w-full",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:s.jsx("span",{className:"text-4xl animate-bounce-subtle",children:""})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2 animate-fade-in-up animation-delay-1000",children:"See AIVA in Action"}),s.jsx("p",{className:"text-slate-300 animate-fade-in-up animation-delay-1100",children:"Watch how natural language queries transform into AI-generated insights and recommendations"})]})})]})]}),s.jsxs("section",{className:"py-8 lg:py-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 animate-fade-in-up",children:" How It Works"}),s.jsx("p",{className:"text-lg text-slate-300 animate-fade-in-up animation-delay-200",children:"Simple 3-step process to get AI-powered business insights"})]}),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 animate-stagger-children",children:[s.jsxs("div",{className:"text-center animate-slide-in-left animation-delay-300",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg animate-bounce-subtle",children:s.jsx("span",{className:"text-3xl animate-pulse",children:""})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm animate-pulse",children:"1"})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ask"}),s.jsx("p",{className:"text-slate-300 text-lg leading-relaxed",children:"Use plain English in chat to ask business questions, request analyses, or seek recommendations"})]}),s.jsxs("div",{className:"text-center animate-fade-in-up animation-delay-500",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg animate-bounce-subtle animation-delay-200",children:s.jsx("span",{className:"text-3xl animate-pulse animation-delay-200",children:""})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm animate-pulse animation-delay-200",children:"2"})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Analyze"}),s.jsx("p",{className:"text-slate-300 text-lg leading-relaxed",children:"AI + Microsoft Fabric process your request, accessing data securely and running advanced analytics"})]}),s.jsxs("div",{className:"text-center animate-slide-in-right animation-delay-700",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg animate-bounce-subtle animation-delay-400",children:s.jsx("span",{className:"text-3xl animate-pulse animation-delay-400",children:""})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm animate-pulse animation-delay-400",children:"3"})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Act"}),s.jsx("p",{className:"text-slate-300 text-lg leading-relaxed",children:"Receive actionable insights, forecasts, visualizations, and strategic suggestions in real-time"})]})]}),s.jsx("div",{className:"hidden md:block relative -mt-16 mb-8",children:s.jsxs("div",{className:"flex justify-center items-center space-x-32 animate-fade-in animation-delay-1000",children:[s.jsx(gc,{className:"w-8 h-8 text-slate-400 animate-bounce-x"}),s.jsx(gc,{className:"w-8 h-8 text-slate-400 animate-bounce-x animation-delay-500"})]})})]})]}),s.jsxs("section",{className:"py-8 lg:py-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:" Chat Anywhere, Anytime"}),s.jsx("p",{className:"text-lg text-slate-300",children:"Unified Experience Across Devices"})]}),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Microsoft Teams Integration"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Native integration with Microsoft Teams for seamless workplace collaboration"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Responsive Web App"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Full-featured web application accessible from any browser, anywhere"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-slate-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mobile App (iOS/Android)"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Native mobile apps for on-the-go access to your business insights"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm p-6 rounded-xl border border-slate-600/30 text-center",children:[s.jsx("div",{className:"text-2xl mb-3",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Persistent Chat"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Your conversations sync across all devices seamlessly"})]}),s.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm p-6 rounded-xl border border-slate-600/30 text-center",children:[s.jsx("div",{className:"text-2xl mb-3",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Visualized Insights"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Rich charts and graphs optimized for each platform"})]}),s.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm p-6 rounded-xl border border-slate-600/30 text-center",children:[s.jsx("div",{className:"text-2xl mb-3",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Offline Support"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Access cached insights even when connectivity is limited"})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm p-12 rounded-2xl border border-slate-600/30 border-dashed",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-6",children:[s.jsx("div",{className:"bg-slate-600/50 rounded-lg p-6 aspect-video flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("p",{className:"text-white font-medium",children:"Teams Integration"})]})}),s.jsx("div",{className:"bg-slate-600/50 rounded-lg p-6 aspect-video flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("p",{className:"text-white font-medium",children:"Web Application"})]})}),s.jsx("div",{className:"bg-slate-600/50 rounded-lg p-6 aspect-video flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("p",{className:"text-white font-medium",children:"Mobile App"})]})})]}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"See AIVA Across All Platforms"}),s.jsx("p",{className:"text-slate-300",children:"Screenshots and mockups showing AIVA's consistent experience on Teams, web, and mobile"})]})})]})]}),s.jsxs("section",{className:"py-8 lg:py-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:" Security First"}),s.jsx("p",{className:"text-lg text-slate-300",children:"Enterprise-Grade Security & Compliance"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-600 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-3xl",children:""})})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Role-based Access Control (RBAC)"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Granular permissions ensure users only access data they're authorized to see"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Row-Level Security (RLS)"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Data filtering at the database level protects sensitive information"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"End-to-End Encryption"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"All data in transit and at rest is encrypted with industry-standard protocols"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Responsible AI Filters"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Built-in content filtering and bias detection for ethical AI responses"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 md:col-span-2 justify-center",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"GDPR & HIPAA Compliant"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Full compliance with international data protection and healthcare privacy regulations"})]})]})]})]})})]}),s.jsxs("section",{className:"py-8 lg:py-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:" Use Cases"}),s.jsx("p",{className:"text-lg text-slate-300",children:"Designed for Decision-Makers Across the Enterprise"})]}),s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Finance"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Budget variance analysis"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Cost forecasting"})]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-green-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Operations"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Inventory optimization"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Restock suggestions"})]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-purple-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"HR"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Attrition trends"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Hiring recommendations"})]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-orange-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Retail"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Sales performance"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Footfall pattern detection"})]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/50 hover:border-cyan-500/50 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl md:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-cyan-600 rounded-full flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Executives"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-cyan-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"Narrative reports"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-cyan-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-slate-300",children:"KPI dashboards in chat"})]})]})]})]})})]}),s.jsxs("section",{className:"py-8 lg:py-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:" Trusted by the Enterprise"}),s.jsx("p",{className:"text-lg text-slate-300",children:"Built on Microsoft's Data Stack"})]}),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-6 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-blue-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"MS"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Microsoft Fabric"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-green-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"AI"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Azure OpenAI"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-purple-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CS"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Microsoft Copilot Studio"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-orange-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"ID"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Microsoft Entra ID"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-cyan-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-cyan-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"AM"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Azure Monitor"})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm p-6 rounded-xl border border-slate-600/50 hover:border-yellow-500/50 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"BI"})}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Power BI"})]})]}),s.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm p-8 rounded-2xl border border-slate-600/30",children:[s.jsx("div",{className:"flex items-center justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-3xl",children:""})})}),s.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-8",children:"Enterprise-Grade Excellence"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Performance"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Enterprise-grade performance with Microsoft's proven infrastructure"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Compliance"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"GDPR, HIPAA compliant with comprehensive data governance"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Observability"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Complete monitoring and analytics with Azure's observability tools"})]})]})]})]})]}),s.jsxs("section",{className:"text-center py-8 lg:py-12",children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-white mb-8 animate-fade-in-up",children:"Ready to transform your workflow?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 animate-fade-in-up animation-delay-300",children:[s.jsx("button",{onClick:e,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-110 shadow-lg hover:shadow-xl animate-pulse-glow",children:"Sign In"}),s.jsx("button",{onClick:r,className:"px-8 py-3 border-2 border-slate-500 hover:border-slate-400 text-slate-300 hover:text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-110 hover:shadow-lg",children:"Create Account"})]})]})]}),s.jsx("footer",{className:"border-t border-slate-700 py-6 animate-fade-in",children:s.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:s.jsxs("div",{className:"text-center text-sm text-slate-400",children:[" 2024 AIVA. All rights reserved. |",s.jsx("a",{href:"#",className:"hover:text-slate-300 transition-colors duration-300 ml-1 hover:underline",children:"Terms of Service"})," |",s.jsx("a",{href:"#",className:"hover:text-slate-300 transition-colors duration-300 ml-1 hover:underline",children:"Privacy Policy"})]})})})]}),s.jsx(mN,{isOpen:a,onClose:()=>o(!1)})]})};/*! @azure/msal-common v15.12.0 2025-08-19 */const M={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Wr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},An={GET:"GET",POST:"POST"},Fs=[M.OPENID_SCOPE,M.PROFILE_SCOPE,M.OFFLINE_ACCESS_SCOPE],Sf=[...Fs,M.EMAIL_SCOPE],it={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Af={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},nn={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Po={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},ct={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Bu={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},pl={QUERY:"query",FRAGMENT:"fragment"},pN={QUERY:"query"},Z0={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Mo={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Ya={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Je={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},$u="appmetadata",gN="client_info",ji="1",Ii={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Nt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Qe={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ve={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Na={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Tf={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Xn={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},yc={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},wn={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},xN={Pop:"pop"},ex=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const _i="unexpected_error",yN="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const Ef={[_i]:"Unexpected error in authentication.",[yN]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ce extends Error{constructor(e,r,n){const a=r?`${e}: ${r}`:e;super(a),Object.setPrototypeOf(this,Ce.prototype),this.errorCode=e||M.EMPTY_STRING,this.errorMessage=r||M.EMPTY_STRING,this.subError=n||M.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Sd(t,e){return new Ce(t,e?`${Ef[t]} ${e}`:Ef[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ku="client_info_decoding_error",tx="client_info_empty_error",Vu="token_parsing_error",rx="null_or_empty_token",wr="endpoints_resolution_error",nx="network_error",sx="openid_config_error",ax="hash_not_deserialized",Rs="invalid_state",ox="state_mismatch",Ad="state_not_found",ix="nonce_mismatch",Gu="auth_time_not_found",lx="max_age_transpired",vN="multiple_matching_tokens",wN="multiple_matching_accounts",cx="multiple_matching_appMetadata",dx="request_cannot_be_made",ux="cannot_remove_empty_scope",hx="cannot_append_scopeset",Td="empty_input_scopeset",bN="device_code_polling_cancelled",CN="device_code_expired",NN="device_code_unknown_error",qu="no_account_in_silent_request",mx="invalid_cache_record",Wu="invalid_cache_environment",Ed="no_account_found",jd="no_crypto_object",kN="unexpected_credential_type",SN="invalid_assertion",AN="invalid_client_credential",sn="token_refresh_required",TN="user_timeout_reached",fx="token_claims_cnf_required_for_signedjwt",px="authorization_code_missing_from_server_response",gx="binding_key_not_removed",xx="end_session_endpoint_not_supported",Qu="key_id_missing",EN="no_network_connectivity",jN="user_canceled",IN="missing_tenant_id_error",ae="method_not_implemented",_N="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const jf={[Ku]:"The client info could not be parsed/decoded correctly",[tx]:"The client info was empty",[Vu]:"Token cannot be parsed",[rx]:"The token is null or empty",[wr]:"Endpoints cannot be resolved",[nx]:"Network request failed",[sx]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[ax]:"The hash parameters could not be deserialized",[Rs]:"State was not the expected format",[ox]:"State mismatch error",[Ad]:"State not found",[ix]:"Nonce mismatch error",[Gu]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[lx]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[vN]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[wN]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[cx]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[dx]:"Token request cannot be made without authorization code or refresh token.",[ux]:"Cannot remove null or empty scope from ScopeSet",[hx]:"Cannot append ScopeSet",[Td]:"Empty input ScopeSet cannot be processed",[bN]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[CN]:"Device code is expired.",[NN]:"Device code stopped polling for unknown reasons.",[qu]:"Please pass an account object, silent flow is not supported without account information",[mx]:"Cache record object was null or undefined.",[Wu]:"Invalid environment when attempting to create cache entry",[Ed]:"No account found in cache for given key.",[jd]:"No crypto object detected.",[kN]:"Unexpected credential type.",[SN]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[AN]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[sn]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[TN]:"User defined timeout for device code polling reached",[fx]:"Cannot generate a POP jwt if the token_claims are not populated",[px]:"Server response does not contain an authorization code to proceed",[gx]:"Could not remove the credential's binding key from storage.",[xx]:"The provided authority does not support logout",[Qu]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[EN]:"No network connectivity. Check your internet connection.",[jN]:"User cancelled the flow.",[IN]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ae]:"This method has not been implemented",[_N]:"The nested app auth bridge is disabled"};class Yu extends Ce{constructor(e,r){super(e,r?`${jf[e]}: ${r}`:jf[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Yu.prototype)}}function U(t,e){return new Yu(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ri={createNewGuid:()=>{throw U(ae)},base64Decode:()=>{throw U(ae)},base64Encode:()=>{throw U(ae)},base64UrlEncode:()=>{throw U(ae)},encodeKid:()=>{throw U(ae)},async getPublicKeyThumbprint(){throw U(ae)},async removeTokenBindingKey(){throw U(ae)},async clearKeystore(){throw U(ae)},async signJwt(){throw U(ae)},async hashString(){throw U(ae)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var Te;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(Te||(Te={}));class dn{constructor(e,r,n){this.level=Te.Info;const a=()=>{},o=e||dn.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||a,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Te.Info,this.correlationId=o.correlationId||M.EMPTY_STRING,this.packageName=r||M.EMPTY_STRING,this.packageVersion=n||M.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Te.Info}}clone(e,r,n){return new dn({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Te[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,o,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:Te.Error,containsPii:!1,correlationId:r||M.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:Te.Error,containsPii:!0,correlationId:r||M.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:Te.Warning,containsPii:!1,correlationId:r||M.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:Te.Warning,containsPii:!0,correlationId:r||M.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:Te.Info,containsPii:!1,correlationId:r||M.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:Te.Info,containsPii:!0,correlationId:r||M.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:Te.Verbose,containsPii:!1,correlationId:r||M.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:Te.Verbose,containsPii:!0,correlationId:r||M.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:Te.Trace,containsPii:!1,correlationId:r||M.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:Te.Trace,containsPii:!0,correlationId:r||M.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const yx="@azure/msal-common",Ju="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const Xu={None:"none"};/*! @azure/msal-common v15.12.0 2025-08-19 */const vx="redirect_uri_empty",RN="claims_request_parsing_error",wx="authority_uri_insecure",da="url_parse_error",bx="empty_url_error",Cx="empty_input_scopes_error",Zu="invalid_claims",Nx="token_request_empty",kx="logout_request_empty",PN="invalid_code_challenge_method",eh="pkce_params_missing",th="invalid_cloud_discovery_metadata",Sx="invalid_authority_metadata",Ax="untrusted_authority",gl="missing_ssh_jwk",Tx="missing_ssh_kid",MN="missing_nonce_authentication_header",ON="invalid_authentication_header",Ex="cannot_set_OIDCOptions",jx="cannot_allow_platform_broker",Ix="authority_mismatch",_x="invalid_request_method_for_EAR",Rx="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const LN={[vx]:"A redirect URI is required for all calls, and none has been set.",[RN]:"Could not parse the given claims request object.",[wx]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[da]:"URL could not be parsed into appropriate segments.",[bx]:"URL was empty or null.",[Cx]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Zu]:"Given claims parameter must be a stringified JSON object.",[Nx]:"Token request was empty and not found in cache.",[kx]:"The logout request was null or undefined.",[PN]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[eh]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[th]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Sx]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ax]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[gl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Tx]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[MN]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ON]:"Invalid authentication header provided",[Ex]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[jx]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Ix]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[Rx]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[_x]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class rh extends Ce{constructor(e){super(e,LN[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,rh.prototype)}}function Ne(t){return new rh(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Tt{static isEmptyObj(e){if(e)try{const r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){const r={},n=e.split("&"),a=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){const[i,l]=o.split(/=(.+)/g,2);i&&l&&(r[a(i)]=a(l))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Be{constructor(e){const r=e?Tt.trimArrayEntries([...e]):[],n=r?Tt.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw Ne(Cx);this.scopes=new Set,n.forEach(a=>this.scopes.add(a))}static fromString(e){const n=(e||M.EMPTY_STRING).split(" ");return new Be(n)}static createSearchScopes(e){const r=e&&e.length>0?e:[...Fs],n=new Be(r);return n.containsOnlyOIDCScopes()?n.removeScope(M.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const r=this.printScopesLowerCase().split(" "),n=new Be(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return Sf.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw U(hx)}}removeScope(e){if(!e)throw U(ux);this.scopes.delete(e.trim())}removeOIDCScopes(){Sf.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw U(Td);const r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw U(Td);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const r=this.unionScopeSets(e),n=e.getScopeCount(),a=this.getScopeCount();return r.size<a+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):M.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function If(t,e){return!!t&&!!e&&t===e.split(".")[1]}function nh(t,e,r,n){if(n){const{oid:a,sub:o,tid:i,name:l,tfp:c,acr:d,preferred_username:u,upn:h,login_hint:f}=n,m=i||c||d||"";return{tenantId:m,localAccountId:a||o||"",name:l,username:u||h||"",loginHint:f,isHomeTenant:If(m,t)}}else return{tenantId:r,localAccountId:e,username:"",isHomeTenant:If(r,t)}}function sh(t,e,r,n){let a=t;if(e){const{isHomeTenant:o,...i}=e;a={...t,...i}}if(r){const{isHomeTenant:o,...i}=nh(t.homeAccountId,t.localAccountId,t.tenantId,r);return a={...a,...i,idTokenClaims:r,idToken:n},a}return a}/*! @azure/msal-common v15.12.0 2025-08-19 */function Hs(t,e){const r=DN(t);try{const n=e(r);return JSON.parse(n)}catch{throw U(Vu)}}function DN(t){if(!t)throw U(rx);const r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw U(Vu);return r[2]}function Px(t,e){if(e===0||Date.now()-3e5>t+e)throw U(lx)}/*! @azure/msal-common v15.12.0 2025-08-19 */function _f(t){if(!t)return t;let e=t.toLowerCase();return Tt.endsWith(e,"?")?e=e.slice(0,-1):Tt.endsWith(e,"?/")&&(e=e.slice(0,-2)),Tt.endsWith(e,"/")||(e+="/"),e}function Mx(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function Pi(t){if(!t||t.indexOf("=")<0)return null;try{const e=Mx(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw U(ax)}return null}function Ja(t,e=!0,r){const n=new Array;return t.forEach((a,o)=>{!e&&r&&o in r?n.push(`${o}=${a}`):n.push(`${o}=${encodeURIComponent(a)}`)}),n.join("&")}function Rf(t){if(!t)return t;const e=t.split("#")[0];try{const r=new URL(e),n=r.origin+r.pathname+r.search;return _f(n)}catch{return _f(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class pe{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ne(bx);e.includes("#")||(this._urlString=pe.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return Tt.endsWith(r,"?")?r=r.slice(0,-1):Tt.endsWith(r,"?/")&&(r=r.slice(0,-2)),Tt.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ne(da)}if(!e.HostNameAndPort||!e.PathSegments)throw Ne(da);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ne(wx)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return pe.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===nn.COMMON||n[0]===nn.ORGANIZATIONS)&&(n[0]=e),pe.constructAuthorityUriFromObject(r)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw Ne(da);const n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]};let a=n.AbsolutePath.split("/");return a=a.filter(o=>o&&o.length>0),n.PathSegments=a,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw Ne(da);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===M.FORWARD_SLASH){const a=new pe(r).getUrlComponents();return a.Protocol+"//"+a.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new pe(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Pi(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ox={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Pf=Ox.endpointMetadata,ah=Ox.instanceDiscoveryMetadata,Lx=new Set;ah.metadata.forEach(t=>{t.aliases.forEach(e=>{Lx.add(e)})});function UN(t,e){var a;let r;const n=t.canonicalAuthority;if(n){const o=new pe(n).getUrlComponents().HostNameAndPort;r=Mf(o,(a=t.cloudDiscoveryMetadata)==null?void 0:a.metadata,Nt.CONFIG,e)||Mf(o,ah.metadata,Nt.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}function Mf(t,e,r,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){const a=Mi(e,t);if(a)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),a.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function FN(t){return Mi(ah.metadata,t)}function Mi(t,e){for(let r=0;r<t.length;r++){const n=t[r];if(n.aliases.includes(e))return n}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const Oi="cache_quota_exceeded",oh="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const vc={[Oi]:"Exceeded cache storage capacity.",[oh]:"Unexpected error occurred when using cache storage."};class Cs extends Ce{constructor(e,r){const n=r||(vc[e]?vc[e]:vc[oh]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Cs.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}function Id(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Cs(Oi):new Cs(t.name,t.message):new Cs(oh)}/*! @azure/msal-common v15.12.0 2025-08-19 */class _d{constructor(e,r,n,a,o){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(yx,Ju),this.staticAuthorityOptions=o,this.performanceClient=a}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){if(Object.keys(e).length===0||Object.values(e).every(a=>!a))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const n=this.getAllAccounts(e,r);return n.length>1?n.sort(o=>o.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){const n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(a=>this.getTenantProfilesFromAccountEntity(a,r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,a,o){let i=null,l;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;const c=this.getIdToken(e,a,r,n.tenantId);return c&&(l=Hs(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(l,o))?null:(i=sh(e,n,l,c==null?void 0:c.secret),i)}getTenantProfilesFromAccountEntity(e,r,n,a){const o=e.getAccountInfo();let i=o.tenantProfiles||new Map;const l=this.getTokenKeys();if(n){const d=i.get(n);if(d)i=new Map([[n,d]]);else return[]}const c=[];return i.forEach(d=>{const u=this.getTenantedAccountInfoByFilter(o,l,d,r,a);u&&c.push(u)}),c}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){var a;if(!e)throw U(mx);try{e.account&&await this.setAccount(e.account,r),e.idToken&&(n==null?void 0:n.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(o){throw(a=this.commonLogger)==null||a.error("CacheManager.saveCacheRecord: failed"),o instanceof Ce?o:Id(o)}}async saveAccessToken(e,r){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},a=this.getTokenKeys(),o=Be.fromString(e.target);a.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,n,!1))return;const l=this.getAccessTokenCredential(i,r);l&&this.credentialMatchesFilter(l,n)&&Be.fromString(l.target).intersectingScopeSets(o)&&this.removeAccessToken(i,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){const n=this.getAccountKeys(),a=[];return n.forEach(o=>{var d;const i=this.getAccount(o,r);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;const l={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(d=i.tenantProfiles)==null?void 0:d.filter(u=>this.tenantProfileMatchesFilter(u,l));c&&c.length===0||a.push(i)}),a}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===Je.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===ve.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){const r=this.getKeys(),n={};return r.forEach(a=>{if(!this.isAppMetadata(a))return;const o=this.getAppMetadata(a);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[a]=o))}),n}getAuthorityMetadataByAlias(e){const r=this.getAuthorityMetadataKeys();let n=null;return r.forEach(a=>{if(!this.isAuthorityMetadata(a)||a.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(a);o&&o.aliases.indexOf(e)!==-1&&(n=o)}),n}removeAllAccounts(e){this.getAllAccounts({},e).forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){this.removeAccountContext(e,r);const n=this.getAccountKeys(),a=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);n.filter(a).forEach(o=>{this.removeItem(o,r),this.performanceClient.incrementFields({accountsRemoved:1},r)})}removeAccountContext(e,r){const n=this.getTokenKeys(),a=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);n.idToken.filter(a).forEach(o=>{this.removeIdToken(o,r)}),n.accessToken.filter(a).forEach(o=>{this.removeAccessToken(o,r)}),n.refreshToken.filter(a).forEach(o=>{this.removeRefreshToken(o,r)})}removeAccessToken(e,r){const n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==Je.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==ve.POP)return;const a=n.keyId;a&&this.cryptoImpl.removeTokenBindingKey(a).catch(()=>{var o;this.commonLogger.error(`Failed to remove token binding key ${a}`,r),(o=this.performanceClient)==null||o.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}getIdToken(e,r,n,a,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Je.ID_TOKEN,clientId:this.clientId,realm:a},l=this.getIdTokensByFilter(i,r,n),c=l.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let d=l;if(!a){const u=new Map;l.forEach((f,m)=>{f.realm===e.tenantId&&u.set(m,f)});const h=u.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;d=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((u,h)=>{this.removeIdToken(h,r)}),o&&r&&o.addFields({multiMatchedID:l.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,r,n){const a=n&&n.idToken||this.getTokenKeys().idToken,o=new Map;return a.forEach(i=>{if(!this.idTokenKeyMatchesFilter(i,{clientId:this.clientId,...e}))return;const l=this.getIdTokenCredential(i,r);l&&this.credentialMatchesFilter(l,e)&&o.set(i,l)}),o}idTokenKeyMatchesFilter(e,r){const n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,a){const o=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const i=Be.createSearchScopes(r.scopes),l=r.authenticationScheme||ve.BEARER,c=l.toLowerCase()!==ve.BEARER.toLowerCase()?Je.ACCESS_TOKEN_WITH_AUTH_SCHEME:Je.ACCESS_TOKEN,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:a||e.tenantId,target:i,tokenType:l,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];u.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,d,!0)){const C=this.getAccessTokenCredential(m,o);C&&this.credentialMatchesFilter(C,d)&&h.push(C)}});const f=h.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),h.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),o)}),this.performanceClient.addFields({multiMatchedAT:h.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),h[0])}accessTokenKeyMatchesFilter(e,r,n){const a=e.toLowerCase();if(r.clientId&&a.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&a.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&a.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&a.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){const o=r.target.asArray();for(let i=0;i<o.length;i++){if(n&&!a.includes(o[i].toLowerCase()))return!1;if(!n&&a.includes(o[i].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){const n=this.getTokenKeys(),a=[];return n.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const i=this.getAccessTokenCredential(o,r);i&&this.credentialMatchesFilter(i,e)&&a.push(i)}),a}getRefreshToken(e,r,n,a,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=r?ji:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Je.REFRESH_TOKEN,clientId:this.clientId,familyId:i},c=a&&a.refreshToken||this.getTokenKeys().refreshToken,d=[];c.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,l)){const f=this.getRefreshTokenCredential(h,n);f&&this.credentialMatchesFilter(f,l)&&d.push(f)}});const u=d.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&o&&n&&o.addFields({multiMatchedRT:u},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){const n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),a=Object.keys(n).map(i=>n[i]),o=a.length;if(o<1)return null;if(o>1)throw U(cx);return a[0]}isAppMetadataFOCI(e){const r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===ji)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){const n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){var n;return r.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,r){return!!(e&&typeof e=="string"&&(r==null?void 0:r.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){const a=UN(this.staticAuthorityOptions,this.commonLogger);if(a.includes(r)&&a.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){var n;return((n=e.realm)==null?void 0:n.toLowerCase())===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==Je.ACCESS_TOKEN&&e.credentialType!==Je.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Be.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf($u)!==-1}isAuthorityMetadata(e){return e.indexOf(Ii.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Ii.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(const n in r)e[n]=r[n];return e}}class HN extends _d{async setAccount(){throw U(ae)}getAccount(){throw U(ae)}async setIdTokenCredential(){throw U(ae)}getIdTokenCredential(){throw U(ae)}async setAccessTokenCredential(){throw U(ae)}getAccessTokenCredential(){throw U(ae)}async setRefreshTokenCredential(){throw U(ae)}getRefreshTokenCredential(){throw U(ae)}setAppMetadata(){throw U(ae)}getAppMetadata(){throw U(ae)}setServerTelemetry(){throw U(ae)}getServerTelemetry(){throw U(ae)}setAuthorityMetadata(){throw U(ae)}getAuthorityMetadata(){throw U(ae)}getAuthorityMetadataKeys(){throw U(ae)}setThrottlingCache(){throw U(ae)}getThrottlingCache(){throw U(ae)}removeItem(){throw U(ae)}getKeys(){throw U(ae)}getAccountKeys(){throw U(ae)}getTokenKeys(){throw U(ae)}generateCredentialKey(){throw U(ae)}generateAccountKey(){throw U(ae)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const bt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const b={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},zN={InProgress:1};/*! @azure/msal-common v15.12.0 2025-08-19 */class Of{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Dx{generateId(){return"callback-id"}startMeasurement(e,r){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:zN.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new Of}}startPerformanceMeasurement(){return new Of}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ux={tokenRenewalOffsetSeconds:ex,preventCorsPreflight:!1},BN={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Te.Info,correlationId:M.EMPTY_STRING},$N={claimsBasedCachingEnabled:!1},KN={async sendGetRequestAsync(){throw U(ae)},async sendPostRequestAsync(){throw U(ae)}},VN={sku:M.SKU,version:Ju,cpu:M.EMPTY_STRING,os:M.EMPTY_STRING},GN={clientSecret:M.EMPTY_STRING,clientAssertion:void 0},qN={azureCloudInstance:Xu.None,tenant:`${M.DEFAULT_COMMON_TENANT}`},WN={application:{appName:"",appVersion:""}};function QN({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:a,networkInterface:o,cryptoInterface:i,clientCredentials:l,libraryInfo:c,telemetry:d,serverTelemetryManager:u,persistencePlugin:h,serializableCache:f}){const m={...BN,...r};return{authOptions:YN(t),systemOptions:{...Ux,...e},loggerOptions:m,cacheOptions:{...$N,...n},storageInterface:a||new HN(t.clientId,Ri,new dn(m),new Dx),networkInterface:o||KN,cryptoInterface:i||Ri,clientCredentials:l||GN,libraryInfo:{...VN,...c},telemetry:{...WN,...d},serverTelemetryManager:u||null,persistencePlugin:h||null,serializableCache:f||null}}function YN(t){return{clientCapabilities:[],azureCloudOptions:qN,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function Fx(t){return t.authOptions.authority.options.protocolMode===bt.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const Wt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function Li(t,e){if(!t)throw U(tx);try{const r=e(t);return JSON.parse(r)}catch{throw U(Ku)}}function Ns(t){if(!t)throw U(Ku);const e=t.split(Ya.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?M.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Fn="client_id",Hx="redirect_uri",JN="response_type",XN="response_mode",ZN="grant_type",ek="claims",tk="scope",rk="refresh_token",nk="state",sk="nonce",ak="prompt",ok="code",ik="code_challenge",lk="code_challenge_method",ck="code_verifier",dk="client-request-id",uk="x-client-SKU",hk="x-client-VER",mk="x-client-OS",fk="x-client-CPU",pk="x-client-current-telemetry",gk="x-client-last-telemetry",xk="x-ms-lib-capability",yk="x-app-name",vk="x-app-ver",wk="post_logout_redirect_uri",bk="id_token_hint",Ck="client_secret",Nk="client_assertion",kk="client_assertion_type",zx="token_type",Bx="req_cnf",Lf="return_spa_code",Sk="nativebroker",Ak="logout_hint",Tk="sid",Ek="login_hint",jk="domain_hint",Ik="x-client-xtra-sku",Di="brk_client_id",Ui="brk_redirect_uri",Rd="instance_aware",_k="ear_jwk",Rk="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function xl(t,e,r){if(!e)return;const n=t.get(Fn);n&&t.has(Di)&&(r==null||r.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(Hx)},e))}function ih(t,e){t.set(JN,e)}function Pk(t,e){t.set(XN,e||pN.QUERY)}function Mk(t){t.set(Sk,"1")}function lh(t,e,r=!0,n=Fs){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");const a=r?[...e||[],...n]:e||[],o=new Be(a);t.set(tk,o.printScopes())}function ch(t,e){t.set(Fn,e)}function dh(t,e){t.set(Hx,e)}function Ok(t,e){t.set(wk,e)}function Lk(t,e){t.set(bk,e)}function Dk(t,e){t.set(jk,e)}function Oo(t,e){t.set(Ek,e)}function Fi(t,e){t.set(it.CCS_HEADER,`UPN:${e}`)}function ka(t,e){t.set(it.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function Df(t,e){t.set(Tk,e)}function uh(t,e,r){const n=$k(e,r);try{JSON.parse(n)}catch{throw Ne(Zu)}t.set(ek,n)}function hh(t,e){t.set(dk,e)}function mh(t,e){t.set(uk,e.sku),t.set(hk,e.version),e.os&&t.set(mk,e.os),e.cpu&&t.set(fk,e.cpu)}function fh(t,e){e!=null&&e.appName&&t.set(yk,e.appName),e!=null&&e.appVersion&&t.set(vk,e.appVersion)}function Uk(t,e){t.set(ak,e)}function $x(t,e){e&&t.set(nk,e)}function Fk(t,e){t.set(sk,e)}function Kx(t,e,r){if(e&&r)t.set(ik,e),t.set(lk,r);else throw Ne(eh)}function Hk(t,e){t.set(ok,e)}function zk(t,e){t.set(rk,e)}function Bk(t,e){t.set(ck,e)}function Vx(t,e){t.set(Ck,e)}function Gx(t,e){e&&t.set(Nk,e)}function qx(t,e){e&&t.set(kk,e)}function Wx(t,e){t.set(ZN,e)}function ph(t){t.set(gN,"1")}function Qx(t){t.has(Rd)||t.set(Rd,"true")}function an(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}function $k(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw Ne(Zu)}return e&&e.length>0&&(r.hasOwnProperty(Po.ACCESS_TOKEN)||(r[Po.ACCESS_TOKEN]={}),r[Po.ACCESS_TOKEN][Po.XMS_CC]={values:e}),JSON.stringify(r)}function gh(t,e){e&&(t.set(zx,ve.POP),t.set(Bx,e))}function Yx(t,e){e&&(t.set(zx,ve.SSH),t.set(Bx,e))}function Jx(t,e){t.set(pk,e.generateCurrentRequestHeaderValue()),t.set(gk,e.generateLastRequestHeaderValue())}function Xx(t){t.set(xk,Na.X_MS_LIB_CAPABILITY_VALUE)}function Kk(t,e){t.set(Ak,e)}function yl(t,e,r){t.has(Di)||t.set(Di,e),t.has(Ui)||t.set(Ui,r)}function Vk(t,e){t.set(_k,encodeURIComponent(e)),t.set(Rk,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Gk(t,e){Object.entries(e).forEach(([r,n])=>{n&&t.set(r,n)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const Gt={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function qk(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function Wk(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function Qk(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const Et=(t,e,r,n,a)=>(...o)=>{r.trace(`Executing function ${e}`);const i=n==null?void 0:n.startMeasurement(e,a);if(a){const l=e+"CallCount";n==null||n.incrementFields({[l]:1},a)}try{const l=t(...o);return i==null||i.end({success:!0}),r.trace(`Returning result from ${e}`),l}catch(l){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw i==null||i.end({success:!1},l),l}},P=(t,e,r,n,a)=>(...o)=>{r.trace(`Executing function ${e}`);const i=n==null?void 0:n.startMeasurement(e,a);if(a){const l=e+"CallCount";n==null||n.incrementFields({[l]:1},a)}return n==null||n.setPreQueueTime(e,a),t(...o).then(l=>(r.trace(`Returning result from ${e}`),i==null||i.end({success:!0}),l)).catch(l=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw i==null||i.end({success:!1},l),l})};/*! @azure/msal-common v15.12.0 2025-08-19 */class vl{constructor(e,r,n,a){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=a}async detectRegion(e,r){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(b.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=Xn.ENVIRONMENT_VARIABLE;else{const o=vl.IMDS_OPTIONS;try{const i=await P(this.getRegionFromIMDS.bind(this),b.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(M.IMDS_VERSION,o);if(i.status===Wr.SUCCESS&&(n=i.body,r.region_source=Xn.IMDS),i.status===Wr.BAD_REQUEST){const l=await P(this.getCurrentVersion.bind(this),b.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!l)return r.region_source=Xn.FAILED_AUTO_DETECTION,null;const c=await P(this.getRegionFromIMDS.bind(this),b.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(l,o);c.status===Wr.SUCCESS&&(n=c.body,r.region_source=Xn.IMDS)}}catch{return r.region_source=Xn.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=Xn.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(b.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${M.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,M.IMDS_TIMEOUT)}async getCurrentVersion(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(b.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${M.IMDS_ENDPOINT}?format=json`,e);return n.status===Wr.BAD_REQUEST&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}vl.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function Ct(){return Math.round(new Date().getTime()/1e3)}function Uf(t){return t.getTime()/1e3}function ks(t){return t?new Date(Number(t)*1e3):new Date}function Hi(t,e){const r=Number(t)||0;return Ct()+e>r}function Yk(t,e){const r=Number(t)+e*24*60*60*1e3;return Date.now()>r}function Jk(t){return Number(t)>Ct()}/*! @azure/msal-common v15.12.0 2025-08-19 */function wl(t,e,r,n,a){return{credentialType:Je.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:a,lastUpdatedAt:Date.now().toString()}}function bl(t,e,r,n,a,o,i,l,c,d,u,h,f,m,C){var A,x;const y={homeAccountId:t,credentialType:Je.ACCESS_TOKEN,secret:r,cachedAt:Ct().toString(),expiresOn:i.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:n,realm:a,target:o,tokenType:u||ve.BEARER,lastUpdatedAt:Date.now().toString()};if(h&&(y.userAssertionHash=h),d&&(y.refreshOn=d.toString()),m&&(y.requestedClaims=m,y.requestedClaimsHash=C),((A=y.tokenType)==null?void 0:A.toLowerCase())!==ve.BEARER.toLowerCase())switch(y.credentialType=Je.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case ve.POP:const g=Hs(r,c);if(!((x=g==null?void 0:g.cnf)!=null&&x.kid))throw U(fx);y.keyId=g.cnf.kid;break;case ve.SSH:y.keyId=f}return y}function Zx(t,e,r,n,a,o,i){const l={credentialType:Je.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,lastUpdatedAt:Date.now().toString()};return o&&(l.userAssertionHash=o),a&&(l.familyId=a),i&&(l.expiresOn=i.toString()),l}function xh(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function Ff(t){return t?xh(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Je.ACCESS_TOKEN||t.credentialType===Je.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Xk(t){return t?xh(t)&&t.hasOwnProperty("realm")&&t.credentialType===Je.ID_TOKEN:!1}function Hf(t){return t?xh(t)&&t.credentialType===Je.REFRESH_TOKEN:!1}function Zk(t,e){const r=t.indexOf(Qe.CACHE_KEY)===0;let n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}function e1(t,e){let r=!1;t&&(r=t.indexOf(Na.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}function t1({environment:t,clientId:e}){return[$u,t,e].join(Ya.CACHE_KEY_SEPARATOR).toLowerCase()}function r1(t,e){return e?t.indexOf($u)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function n1(t,e){return e?t.indexOf(Ii.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function zf(){return Ct()+Ii.REFRESH_TIME_SECONDS}function Lo(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}function wc(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}function Bf(t){return t.expiresAt<=Ct()}/*! @azure/msal-common v15.12.0 2025-08-19 */class rt{constructor(e,r,n,a,o,i,l,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=a,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=l,this.correlationId=i,this.managedIdentity=c||!1,this.regionDiscovery=new vl(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(M.CIAM_AUTH_URL))return Gt.Ciam;const r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case M.ADFS:return Gt.Adfs;case M.DSTS:return Gt.Dsts}return Gt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new pe(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw U(wr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw U(wr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw U(wr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw U(xx);return this.replacePath(this.metadata.end_session_endpoint)}else throw U(wr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw U(wr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw U(wr)}canReplaceTenant(e){return e.PathSegments.length===1&&!rt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Gt.Default&&this.protocolMode!==bt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e;const a=new pe(this.metadata.canonical_authority).getUrlComponents(),o=a.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,c)=>{let d=o[c];if(c===0&&this.canReplaceTenant(a)){const u=new pe(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==u&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${u}`),d=u)}l!==d&&(r=r.replace(`/${d}/`,`/${l}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Gt.Adfs||this.protocolMode===bt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(b.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),r=await P(this.updateCloudDiscoveryMetadata.bind(this),b.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await P(this.updateEndpointMetadata.bind(this),b.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:zf(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==Nt.CACHE&&(n==null?void 0:n.source)!==Nt.CACHE&&(e.expiresAt=zf(),e.canonical_authority=this.canonicalAuthority);const a=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(a,e),this.metadata=e}async updateEndpointMetadata(e){var a,o,i;(a=this.performanceClient)==null||a.addQueueMeasurement(b.AuthorityUpdateEndpointMetadata,this.correlationId);const r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===Nt.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&r.metadata){const l=await P(this.updateMetadataWithRegionalInformation.bind(this),b.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);Lo(e,l,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await P(this.getEndpointMetadataFromNetwork.bind(this),b.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&(n=await P(this.updateMetadataWithRegionalInformation.bind(this),b.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),Lo(e,n,!0),Nt.NETWORK;throw U(sx,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),Lo(e,r,!1),{source:Nt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const a=this.getEndpointMetadataFromHardcodedValues();if(a)return Lo(e,a,!1),{source:Nt.HARDCODED_VALUES,metadata:a};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Bf(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Nt.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new pe(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ne(Sx)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(b.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{const a=await this.networkInterface.sendGetRequestAsync(r,e);return qk(a.body)?a.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(a){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${a}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Pf?Pf[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var n,a,o;(n=this.performanceClient)==null||n.addQueueMeasurement(b.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const r=(a=this.authorityOptions.azureRegionConfiguration)==null?void 0:a.azureRegion;if(r){if(r!==M.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=yc.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,rt.replaceWithRegionalInformation(e,r);const i=await P(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),b.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(i)return this.regionDiscoveryMetadata.region_outcome=yc.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=i,rt.replaceWithRegionalInformation(e,i);this.regionDiscoveryMetadata.region_outcome=yc.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(b.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;const n=await P(this.getCloudDiscoveryMetadataFromNetwork.bind(this),b.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return wc(e,n,!0),Nt.NETWORK;throw Ne(Ax)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||M.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||M.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||M.NOT_APPLICABLE}`);const r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),wc(e,r,!1),Nt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const a=FN(this.hostnameAndPort);if(a)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),wc(e,a,!1),Nt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=Bf(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Nt.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Gt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),rt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=Mi(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ne(th)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),rt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(b.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${M.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={};let n=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,r);let i,l;if(Wk(o.body))i=o.body,l=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else if(Qk(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),i=o.body,i.error===M.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),l=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Mi(l,this.hostnameAndPort)}catch(o){if(o instanceof Ce)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const i=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${i.name}
Error Description: ${i.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=rt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&pe.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==Xu.None){const a=r.tenant?r.tenant:M.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${a}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return M.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw U(wr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Lx.has(e)}static isPublicCloudAuthority(e){return M.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){const a=new pe(e);a.validateAsUri();const o=a.getUrlComponents();let i=`${r}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${r}.${M.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const l=pe.constructAuthorityUriFromObject({...a.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${l}?${n}`:l}static replaceWithRegionalInformation(e,r){const n={...e};return n.authorization_endpoint=rt.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=rt.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=rt.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e;const a=new pe(e).getUrlComponents();if(a.PathSegments.length===0&&a.HostNameAndPort.endsWith(M.CIAM_AUTH_URL)){const o=a.HostNameAndPort.split(".")[0];r=`${r}${o}${M.AAD_TENANT_DOMAIN_SUFFIX}`}return r}}rt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",nn.COMMON,nn.CONSUMERS,nn.ORGANIZATIONS]);function s1(t){var a;const n=(a=new pe(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:a.toLowerCase();switch(n){case nn.COMMON:case nn.ORGANIZATIONS:case nn.CONSUMERS:return;default:return n}}function ey(t){return t.endsWith(M.FORWARD_SLASH)?t:`${t}${M.FORWARD_SLASH}`}function a1(t){const e=t.cloudDiscoveryMetadata;let r;if(e)try{r=JSON.parse(e)}catch{throw Ne(th)}return{canonicalAuthority:t.authority?ey(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function ty(t,e,r,n,a,o,i){i==null||i.addQueueMeasurement(b.AuthorityFactoryCreateDiscoveredInstance,o);const l=rt.transformCIAMAuthority(ey(t)),c=new rt(l,e,r,n,a,o,i);try{return await P(c.resolveEndpointsAsync.bind(c),b.AuthorityResolveEndpointsAsync,a,i,o)(),c}catch{throw U(wr)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Gn extends Ce{constructor(e,r,n,a,o){super(e,r,n),this.name="ServerError",this.errorNo=a,this.status=o,Object.setPrototypeOf(this,Gn.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function Cl(t,e,r){var n;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((n=e.tokenBodyParameters)==null?void 0:n.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class ur{static generateThrottlingStorageKey(e){return`${Na.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){var i;const a=ur.generateThrottlingStorageKey(r),o=e.getThrottlingCache(a);if(o){if(o.throttleTime<Date.now()){e.removeItem(a,n);return}throw new Gn(((i=o.errorCodes)==null?void 0:i.join(" "))||M.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,r,n,a){if(ur.checkResponseStatus(n)||ur.checkResponseForRetryAfter(n)){const o={throttleTime:ur.calculateThrottleTime(parseInt(n.headers[it.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(ur.generateThrottlingStorageKey(r),o,a)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(it.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||Na.DEFAULT_THROTTLE_TIME_SECONDS),n+Na.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,a){const o=Cl(r,n,a),i=this.generateThrottlingStorageKey(o);e.removeItem(i,n.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Nl extends Ce{constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Nl.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}}function ua(t,e,r,n){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${n==null?void 0:n.name}, error.message:${n==null?void 0:n.message}`,new Nl(t,e,r)}/*! @azure/msal-common v15.12.0 2025-08-19 */class yh{constructor(e,r){this.config=QN(e),this.logger=new dn(this.config.loggerOptions,yx,Ju),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){const r={};if(r[it.CONTENT_TYPE]=M.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Wt.HOME_ACCOUNT_ID:try{const n=Ns(e.credential);r[it.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Wt.UPN:r[it.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,a,o,i){var c;i&&((c=this.performanceClient)==null||c.addQueueMeasurement(i,o));const l=await this.sendPostRequest(a,e,{body:r,headers:n},o);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,r,n,a){var i,l,c;ur.preProcess(this.cacheManager,e,a);let o;try{o=await P(this.networkClient.sendPostRequestAsync.bind(this.networkClient),b.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,a)(r,n);const d=o.headers||{};(l=this.performanceClient)==null||l.addFields({refreshTokenSize:((i=o.body.refresh_token)==null?void 0:i.length)||0,httpVerToken:d[it.X_MS_HTTP_VERSION]||"",requestId:d[it.X_MS_REQUEST_ID]||""},a)}catch(d){if(d instanceof Nl){const u=d.responseHeaders;throw u&&((c=this.performanceClient)==null||c.addFields({httpVerToken:u[it.X_MS_HTTP_VERSION]||"",requestId:u[it.X_MS_REQUEST_ID]||"",contentTypeHeader:u[it.CONTENT_TYPE]||void 0,contentLengthHeader:u[it.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},a)),d.error}throw d instanceof Ce?d:U(nx)}return ur.postProcess(this.cacheManager,e,o,a),o}async updateAuthority(e,r){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(b.UpdateTokenEndpointAuthority,r);const n=`https://${e}/${this.authority.tenant}/`,a=await ty(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=a}createTokenQueryParameters(e){const r=new Map;return e.embeddedClientId&&yl(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&an(r,e.tokenQueryParameters),hh(r,e.correlationId),xl(r,e.correlationId,this.performanceClient),Ja(r)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function ry(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class er{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,r,n){var d,u,h,f,m,C,y;const a=new er;r.authorityType===Gt.Adfs?a.authorityType=Mo.ADFS_ACCOUNT_TYPE:r.protocolMode===bt.OIDC?a.authorityType=Mo.GENERIC_ACCOUNT_TYPE:a.authorityType=Mo.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=Li(e.clientInfo,n)),a.clientInfo=e.clientInfo,a.homeAccountId=e.homeAccountId,a.nativeAccountId=e.nativeAccountId;const i=e.environment||r&&r.getPreferredCache();if(!i)throw U(Wu);a.environment=i,a.realm=(o==null?void 0:o.utid)||ry(e.idTokenClaims)||"",a.localAccountId=(o==null?void 0:o.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((u=e.idTokenClaims)==null?void 0:u.sub)||"";const l=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(a.username=l||c||"",a.loginHint=(C=e.idTokenClaims)==null?void 0:C.login_hint,a.name=((y=e.idTokenClaims)==null?void 0:y.name)||"",a.cloudGraphHostName=e.cloudGraphHostName,a.msGraphHost=e.msGraphHost,e.tenantProfiles)a.tenantProfiles=e.tenantProfiles;else{const A=nh(e.homeAccountId,a.localAccountId,a.realm,e.idTokenClaims);a.tenantProfiles=[A]}return a}static createFromAccountInfo(e,r,n){var o;const a=new er;return a.authorityType=e.authorityType||Mo.GENERIC_ACCOUNT_TYPE,a.homeAccountId=e.homeAccountId,a.localAccountId=e.localAccountId,a.nativeAccountId=e.nativeAccountId,a.realm=e.tenantId,a.environment=e.environment,a.username=e.username,a.name=e.name,a.loginHint=e.loginHint,a.cloudGraphHostName=r,a.msGraphHost=n,a.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),a}static generateHomeAccountId(e,r,n,a,o){if(!(r===Gt.Adfs||r===Gt.Dsts)){if(e)try{const i=Li(e,a.base64Decode);if(i.uid&&i.utid)return`${i.uid}.${i.utid}`}catch{}n.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let a=!0;if(n){const o=e.idTokenClaims||{},i=r.idTokenClaims||{};a=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.loginHint===r.loginHint&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&a}}/*! @azure/msal-common v15.12.0 2025-08-19 */const zi="no_tokens_found",ny="native_account_unavailable",vh="refresh_token_expired",wh="ux_not_allowed",o1="interaction_required",i1="consent_required",l1="login_required",kl="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const $f=[o1,i1,l1,kl,wh],c1=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],d1={[zi]:"No refresh token found in the cache. Please sign-in.",[ny]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[vh]:"Refresh token has expired.",[kl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[wh]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class tr extends Ce{constructor(e,r,n,a,o,i,l,c){super(e,r,n),Object.setPrototypeOf(this,tr.prototype),this.timestamp=a||M.EMPTY_STRING,this.traceId=o||M.EMPTY_STRING,this.correlationId=i||M.EMPTY_STRING,this.claims=l||M.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function sy(t,e,r){const n=!!t&&$f.indexOf(t)>-1,a=!!r&&c1.indexOf(r)>-1,o=!!e&&$f.some(i=>e.indexOf(i)>-1);return n||o||a}function Bi(t){return new tr(t,d1[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class zs{static setRequestState(e,r,n){const a=zs.generateLibraryState(e,n);return r?`${a}${M.RESOURCE_DELIM}${r}`:a}static generateLibraryState(e,r){if(!e)throw U(jd);const n={id:e.createNewGuid()};r&&(n.meta=r);const a=JSON.stringify(n);return e.base64Encode(a)}static parseRequestState(e,r){if(!e)throw U(jd);if(!r)throw U(Rs);try{const n=r.split(M.RESOURCE_DELIM),a=n[0],o=n.length>1?n.slice(1).join(M.RESOURCE_DELIM):M.EMPTY_STRING,i=e.base64Decode(a),l=JSON.parse(i);return{userRequestState:o||M.EMPTY_STRING,libraryState:l}}catch{throw U(Rs)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const u1={SW:"sw"};class Ps{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(b.PopTokenGenerateCnf,e.correlationId);const n=await P(this.generateKid.bind(this),b.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),a=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:a}}async generateKid(e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(b.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:u1.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,a){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:l,shrNonce:c,shrOptions:d}=n,u=i?new pe(i):void 0,h=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ct(),m:o==null?void 0:o.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:l||void 0,...a},r,d,n.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class h1{constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Hn{constructor(e,r,n,a,o,i,l){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=a,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=l}validateTokenResponse(e,r){var n;if(e.error||e.error_description||e.suberror){const a=`Error(s): ${e.error_codes||M.NOT_AVAILABLE} - Timestamp: ${e.timestamp||M.NOT_AVAILABLE} - Description: ${e.error_description||M.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||M.NOT_AVAILABLE} - Trace ID: ${e.trace_id||M.NOT_AVAILABLE}`,o=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,i=new Gn(e.error,a,e.suberror,o,e.status);if(r&&e.status&&e.status>=Wr.SERVER_ERROR_RANGE_START&&e.status<=Wr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}else if(r&&e.status&&e.status>=Wr.CLIENT_ERROR_RANGE_START&&e.status<=Wr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}throw sy(e.error,e.error_description,e.suberror)?new tr(e.error,e.error_description,e.suberror,e.timestamp||M.EMPTY_STRING,e.trace_id||M.EMPTY_STRING,e.correlation_id||M.EMPTY_STRING,e.claims||M.EMPTY_STRING,o):i}}async handleServerTokenResponse(e,r,n,a,o,i,l,c,d){var C;(C=this.performanceClient)==null||C.addQueueMeasurement(b.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=Hs(e.id_token||M.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw U(ix);if(a.maxAge||a.maxAge===0){const y=u.auth_time;if(!y)throw U(Gu);Px(y,a.maxAge)}}this.homeAccountIdentifier=er.generateHomeAccountId(e.client_info||M.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,u);let h;o&&o.state&&(h=zs.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||a.sshKid||void 0;const f=this.generateCacheRecord(e,r,n,a,u,i,o);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new h1(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),l&&!c&&f.account){const y=this.cacheStorage.generateAccountKey(f.account.getAccountInfo());if(!this.cacheStorage.getAccount(y,a.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Hn.generateAuthenticationResult(this.cryptoObj,r,f,!1,a,u,h,void 0,d)}await this.cacheStorage.saveCacheRecord(f,a.correlationId,a.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return Hn.generateAuthenticationResult(this.cryptoObj,r,f,!1,a,u,h,e,d)}generateCacheRecord(e,r,n,a,o,i,l){const c=r.getPreferredCache();if(!c)throw U(Wu);const d=ry(o);let u,h;e.id_token&&o&&(u=wl(this.homeAccountIdentifier,c,e.id_token,this.clientId,d||""),h=bh(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,a.correlationId,o,e.client_info,c,d,l,void 0,this.logger));let f=null;if(e.access_token){const y=e.scope?Be.fromString(e.scope):new Be(a.scopes||[]),A=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,x=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,g=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,p=n+A,w=p+x,N=g&&g>0?n+g:void 0;f=bl(this.homeAccountIdentifier,c,e.access_token,this.clientId,d||r.tenant||"",y.printScopes(),p,w,this.cryptoObj.base64Decode,N,e.token_type,i,e.key_id,a.claims,a.requestedClaimsHash)}let m=null;if(e.refresh_token){let y;if(e.refresh_token_expires_in){const A=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;y=n+A}m=Zx(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,i,y)}let C=null;return e.foci&&(C={clientId:this.clientId,environment:c,familyId:e.foci}),{account:h,idToken:u,accessToken:f,refreshToken:m,appMetadata:C}}static async generateAuthenticationResult(e,r,n,a,o,i,l,c,d){var p,w,N,_,E;let u=M.EMPTY_STRING,h=[],f=null,m,C,y=M.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===ve.POP&&!o.popKid){const O=new Ps(e),{secret:$,keyId:T}=n.accessToken;if(!T)throw U(Qu);u=await O.signPopToken($,T,o)}else u=n.accessToken.secret;h=Be.fromString(n.accessToken.target).asArray(),f=ks(n.accessToken.expiresOn),m=ks(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(C=ks(n.accessToken.refreshOn))}n.appMetadata&&(y=n.appMetadata.familyId===ji?ji:"");const A=(i==null?void 0:i.oid)||(i==null?void 0:i.sub)||"",x=(i==null?void 0:i.tid)||"";c!=null&&c.spa_accountid&&n.account&&(n.account.nativeAccountId=c==null?void 0:c.spa_accountid);const g=n.account?sh(n.account.getAccountInfo(),void 0,i,(p=n.idToken)==null?void 0:p.secret):null;return{authority:r.canonicalAuthority,uniqueId:A,tenantId:x,scopes:h,account:g,idToken:((w=n==null?void 0:n.idToken)==null?void 0:w.secret)||"",idTokenClaims:i||{},accessToken:u,fromCache:a,expiresOn:f,extExpiresOn:m,refreshOn:C,correlationId:o.correlationId,requestId:d||M.EMPTY_STRING,familyId:y,tokenType:((N=n.accessToken)==null?void 0:N.tokenType)||M.EMPTY_STRING,state:l?l.userRequestState:M.EMPTY_STRING,cloudGraphHostName:((_=n.account)==null?void 0:_.cloudGraphHostName)||M.EMPTY_STRING,msGraphHost:((E=n.account)==null?void 0:E.msGraphHost)||M.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function bh(t,e,r,n,a,o,i,l,c,d,u,h){h==null||h.verbose("setCachedAccount called");const m=t.getAccountKeys().find(g=>g.startsWith(r));let C=null;m&&(C=t.getAccount(m,a));const y=C||er.createAccount({homeAccountId:r,idTokenClaims:o,clientInfo:i,environment:l,cloudGraphHostName:d==null?void 0:d.cloud_graph_host_name,msGraphHost:d==null?void 0:d.msgraph_host,nativeAccountId:u},e,n),A=y.tenantProfiles||[],x=c||y.realm;if(x&&!A.find(g=>g.tenantId===x)){const g=nh(r,y.localAccountId,x,o);A.push(g)}return y.tenantProfiles=A,y}/*! @azure/msal-common v15.12.0 2025-08-19 */async function ay(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}/*! @azure/msal-common v15.12.0 2025-08-19 */class oy extends yh{constructor(e,r){var n;super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async acquireToken(e,r){var l,c;if((l=this.performanceClient)==null||l.addQueueMeasurement(b.AuthClientAcquireToken,e.correlationId),!e.code)throw U(dx);const n=Ct(),a=await P(this.executeTokenRequest.bind(this),b.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(c=a.headers)==null?void 0:c[it.X_MS_REQUEST_ID],i=new Hn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(a.body),P(i.handleServerTokenResponse.bind(i),b.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(a.body,this.authority,n,e,r,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw Ne(kx);const r=this.createLogoutUrlQueryString(e);return pe.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(b.AuthClientExecuteTokenRequest,r.correlationId);const n=this.createTokenQueryParameters(r),a=pe.appendQueryString(e.tokenEndpoint,n),o=await P(this.createTokenRequestBody.bind(this),b.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r);let i;if(r.clientInfo)try{const u=Li(r.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${u.uid}${Ya.CLIENT_INFO_SEPARATOR}${u.utid}`,type:Wt.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const l=this.createTokenRequestHeaders(i||r.ccsCredential),c=Cl(this.config.authOptions.clientId,r);return P(this.executePostToTokenEndpoint.bind(this),b.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(a,o,l,c,r.correlationId,b.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(b.AuthClientCreateTokenRequestBody,e.correlationId);const r=new Map;if(ch(r,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[Fn])||this.config.authOptions.clientId),this.includeRedirectUri)dh(r,e.redirectUri);else if(!e.redirectUri)throw Ne(vx);if(lh(r,e.scopes,!0,this.oidcDefaultScopes),Hk(r,e.code),mh(r,this.config.libraryInfo),fh(r,this.config.telemetry.application),Xx(r),this.serverTelemetryManager&&!Fx(this.config)&&Jx(r,this.serverTelemetryManager),e.codeVerifier&&Bk(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&Vx(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const i=this.config.clientCredentials.clientAssertion;Gx(r,await ay(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),qx(r,i.assertionType)}if(Wx(r,Z0.AUTHORIZATION_CODE_GRANT),ph(r),e.authenticationScheme===ve.POP){const i=new Ps(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await P(i.generateCnf.bind(i),b.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,gh(r,l)}else if(e.authenticationScheme===ve.SSH)if(e.sshJwk)Yx(r,e.sshJwk);else throw Ne(gl);(!Tt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&uh(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{const i=Li(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${i.uid}${Ya.CLIENT_INFO_SEPARATOR}${i.utid}`,type:Wt.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Wt.HOME_ACCOUNT_ID:try{const i=Ns(n.credential);ka(r,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Wt.UPN:Fi(r,n.credential);break}return e.embeddedClientId&&yl(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&an(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Lf])&&an(r,{[Lf]:"1"}),xl(r,e.correlationId,this.performanceClient),Ja(r)}createLogoutUrlQueryString(e){const r=new Map;return e.postLogoutRedirectUri&&Ok(r,e.postLogoutRedirectUri),e.correlationId&&hh(r,e.correlationId),e.idTokenHint&&Lk(r,e.idTokenHint),e.state&&$x(r,e.state),e.logoutHint&&Kk(r,e.logoutHint),e.extraQueryParameters&&an(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&Qx(r),Ja(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const m1=300;class f1 extends yh{constructor(e,r){super(e,r)}async acquireToken(e){var i,l;(i=this.performanceClient)==null||i.addQueueMeasurement(b.RefreshTokenClientAcquireToken,e.correlationId);const r=Ct(),n=await P(this.executeTokenRequest.bind(this),b.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),a=(l=n.headers)==null?void 0:l[it.X_MS_REQUEST_ID],o=new Hn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),P(o.handleServerTokenResponse.bind(o),b.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,a)}async acquireTokenByRefreshToken(e){var n;if(!e)throw Ne(Nx);if((n=this.performanceClient)==null||n.addQueueMeasurement(b.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw U(qu);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await P(this.acquireTokenWithCachedRefreshToken.bind(this),b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(a){const o=a instanceof tr&&a.errorCode===zi,i=a instanceof Gn&&a.errorCode===Tf.INVALID_GRANT_ERROR&&a.subError===Tf.CLIENT_MISMATCH_ERROR;if(o||i)return P(this.acquireTokenWithCachedRefreshToken.bind(this),b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw a}return P(this.acquireTokenWithCachedRefreshToken.bind(this),b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){var o,i,l;(o=this.performanceClient)==null||o.addQueueMeasurement(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=Et(this.cacheManager.getRefreshToken.bind(this.cacheManager),b.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw Bi(zi);if(n.expiresOn&&Hi(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||m1))throw(i=this.performanceClient)==null||i.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),Bi(vh);const a={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||ve.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Wt.HOME_ACCOUNT_ID}};try{return await P(this.acquireToken.bind(this),b.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(a)}catch(c){if(c instanceof tr&&((l=this.performanceClient)==null||l.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),c.subError===kl)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=this.cacheManager.generateCredentialKey(n);this.cacheManager.removeRefreshToken(d,e.correlationId)}throw c}}async executeTokenRequest(e,r){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(b.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),a=pe.appendQueryString(r.tokenEndpoint,n),o=await P(this.createTokenRequestBody.bind(this),b.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),l=Cl(this.config.authOptions.clientId,e);return P(this.executePostToTokenEndpoint.bind(this),b.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(a,o,i,l,e.correlationId,b.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var n,a,o;(n=this.performanceClient)==null||n.addQueueMeasurement(b.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const r=new Map;if(ch(r,e.embeddedClientId||((a=e.tokenBodyParameters)==null?void 0:a[Fn])||this.config.authOptions.clientId),e.redirectUri&&dh(r,e.redirectUri),lh(r,e.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),Wx(r,Z0.REFRESH_TOKEN_GRANT),ph(r),mh(r,this.config.libraryInfo),fh(r,this.config.telemetry.application),Xx(r),this.serverTelemetryManager&&!Fx(this.config)&&Jx(r,this.serverTelemetryManager),zk(r,e.refreshToken),this.config.clientCredentials.clientSecret&&Vx(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const i=this.config.clientCredentials.clientAssertion;Gx(r,await ay(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),qx(r,i.assertionType)}if(e.authenticationScheme===ve.POP){const i=new Ps(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await P(i.generateCnf.bind(i),b.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,gh(r,l)}else if(e.authenticationScheme===ve.SSH)if(e.sshJwk)Yx(r,e.sshJwk);else throw Ne(gl);if((!Tt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&uh(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Wt.HOME_ACCOUNT_ID:try{const i=Ns(e.ccsCredential.credential);ka(r,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Wt.UPN:Fi(r,e.ccsCredential.credential);break}return e.embeddedClientId&&yl(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&an(r,e.tokenBodyParameters),xl(r,e.correlationId,this.performanceClient),Ja(r)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class p1 extends yh{constructor(e,r){super(e,r)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(b.SilentFlowClientAcquireCachedToken,e.correlationId);let r=wn.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Tt.isEmptyObj(e.claims))throw this.setCacheOutcome(wn.FORCE_REFRESH_OR_CLAIMS,e.correlationId),U(sn);if(!e.account)throw U(qu);const n=e.account.tenantId||s1(e.authority),a=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,a,n);if(o){if(Jk(o.cachedAt)||Hi(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(wn.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),U(sn);o.refreshOn&&Hi(o.refreshOn,0)&&(r=wn.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(wn.NO_CACHED_ACCESS_TOKEN,e.correlationId),U(sn);const i=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,a,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(i)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await P(this.generateResultFromCacheRecord.bind(this),b.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),r]}setCacheOutcome(e,r){var n,a;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(a=this.performanceClient)==null||a.addFields({cacheOutcome:e},r),e!==wn.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(b.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=Hs(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){const o=n==null?void 0:n.auth_time;if(!o)throw U(Gu);Px(o,r.maxAge)}return Hn.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const g1={sendGetRequestAsync:()=>Promise.reject(U(ae)),sendPostRequestAsync:()=>Promise.reject(U(ae))};/*! @azure/msal-common v15.12.0 2025-08-19 */function x1(t,e,r,n){var l,c;const a=e.correlationId,o=new Map;ch(o,e.embeddedClientId||((l=e.extraQueryParameters)==null?void 0:l[Fn])||t.clientId);const i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(lh(o,i,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),dh(o,e.redirectUri),hh(o,a),Pk(o,e.responseMode),ph(o),e.prompt&&(Uk(o,e.prompt),n==null||n.addFields({prompt:e.prompt},a)),e.domainHint&&(Dk(o,e.domainHint),n==null||n.addFields({domainHintFromRequest:!0},a)),e.prompt!==ct.SELECT_ACCOUNT)if(e.sid&&e.prompt===ct.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Df(o,e.sid),n==null||n.addFields({sidFromRequest:!0},a);else if(e.account){const d=w1(e.account);let u=b1(e.account);if(u&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Oo(o,u),n==null||n.addFields({loginHintFromClaim:!0},a);try{const h=Ns(e.account.homeAccountId);ka(o,h)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(d&&e.prompt===ct.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Df(o,d),n==null||n.addFields({sidFromClaim:!0},a);try{const h=Ns(e.account.homeAccountId);ka(o,h)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Oo(o,e.loginHint),Fi(o,e.loginHint),n==null||n.addFields({loginHintFromRequest:!0},a);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Oo(o,e.account.username),n==null||n.addFields({loginHintFromUpn:!0},a);try{const h=Ns(e.account.homeAccountId);ka(o,h)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Oo(o,e.loginHint),Fi(o,e.loginHint),n==null||n.addFields({loginHintFromRequest:!0},a));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Fk(o,e.nonce),e.state&&$x(o,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&uh(o,e.claims,t.clientCapabilities),e.embeddedClientId&&yl(o,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Rd))&&Qx(o),o}function Ch(t,e,r,n){const a=Ja(e,r,n);return pe.appendQueryString(t.authorizationEndpoint,a)}function y1(t,e){if(iy(t,e),!t.code)throw U(px);return t}function iy(t,e){if(!t.state||!e)throw t.state?U(Ad,"Cached State"):U(Ad,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw U(Rs,t.state)}try{n=decodeURIComponent(e)}catch{throw U(Rs,t.state)}if(r!==n)throw U(ox);if(t.error||t.error_description||t.suberror){const a=v1(t);throw sy(t.error,t.error_description,t.suberror)?new tr(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",a):new Gn(t.error||"",t.error_description,t.suberror,a)}}function v1(t){var n,a;const e="code=",r=(n=t.error_uri)==null?void 0:n.lastIndexOf(e);return r&&r>=0?(a=t.error_uri)==null?void 0:a.substring(r+e.length):void 0}function w1(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function b1(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const Kf=",",ly="|";function C1(t){const{skus:e,libraryName:r,libraryVersion:n,extensionName:a,extensionVersion:o}=t,i=new Map([[0,[r,n]],[2,[a,o]]]);let l=[];if(e!=null&&e.length){if(l=e.split(Kf),l.length<4)return e}else l=Array.from({length:4},()=>ly);return i.forEach((c,d)=>{var u,h;c.length===2&&((u=c[0])!=null&&u.length)&&((h=c[1])!=null&&h.length)&&N1({skuArr:l,index:d,skuName:c[0],skuVersion:c[1]})}),l.join(Kf)}function N1(t){const{skuArr:e,index:r,skuName:n,skuVersion:a}=t;r>=e.length||(e[r]=[n,a].join(ly))}class Xa{constructor(e,r){this.cacheOutcome=wn.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||M.EMPTY_STRING,this.wrapperVer=e.wrapperVer||M.EMPTY_STRING,this.telemetryCacheKey=Qe.CACHE_KEY+Ya.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Qe.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&r.push(`broker_error=${n}`);const a=r.join(Qe.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),i=[e,o].join(Qe.VALUE_SEPARATOR);return[Qe.SCHEMA_VERSION,i,a].join(Qe.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),r=Xa.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Qe.VALUE_SEPARATOR),a=e.errors.slice(0,r).join(Qe.VALUE_SEPARATOR),o=e.errors.length,i=r<o?Qe.OVERFLOW_TRUE:Qe.OVERFLOW_FALSE,l=[o,i].join(Qe.VALUE_SEPARATOR);return[Qe.SCHEMA_VERSION,e.cacheHits,n,a,l].join(Qe.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const r=this.getLastRequests();r.errors.length>=Qe.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ce?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Qe.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),r=Xa.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const a={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,a=0;const o=e.errors.length;for(r=0;r<o;r++){const i=e.failedRequests[2*r]||M.EMPTY_STRING,l=e.failedRequests[2*r+1]||M.EMPTY_STRING,c=e.errors[r]||M.EMPTY_STRING;if(a+=i.toString().length+l.toString().length+c.length+3,a<Qe.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||M.EMPTY_STRING),e.push(this.regionSource||M.EMPTY_STRING),e.push(this.regionOutcome||M.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return C1(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const cy="missing_kid_error",dy="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const k1={[cy]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[dy]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Nh extends Ce{constructor(e,r){super(e,r),this.name="JoseHeaderError",Object.setPrototypeOf(this,Nh.prototype)}}function Vf(t){return new Nh(t,k1[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class kh{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Vf(cy);if(!e.alg)throw Vf(dy);const r=new kh({typ:e.typ||xN.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(r)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Sh="pkce_not_created",Ah="ear_jwk_empty",uy="ear_jwe_empty",Pd="crypto_nonexistent",Sl="empty_navigate_uri",hy="hash_empty_error",Th="no_state_in_hash",my="hash_does_not_contain_known_properties",fy="unable_to_parse_state",py="state_interaction_type_mismatch",gy="interaction_in_progress",xy="popup_window_error",yy="empty_window_error",Za="user_cancelled",S1="monitor_popup_timeout",vy="monitor_window_timeout",wy="redirect_in_iframe",by="block_iframe_reload",Cy="block_nested_popups",A1="iframe_closed_prematurely",Al="silent_logout_unsupported",Ny="no_account_error",T1="silent_prompt_value_error",ky="no_token_request_cache_error",Sy="unable_to_parse_token_request_cache_error",E1="auth_request_not_set_error",j1="invalid_cache_type",Tl="non_browser_environment",Zn="database_not_open",$i="no_network_connectivity",Ay="post_request_failed",Ty="get_request_failed",Md="failed_to_parse_response",Ey="unable_to_load_token",Eh="crypto_key_not_found",jy="auth_code_required",Iy="auth_code_or_nativeAccountId_required",_y="spa_code_and_nativeAccountId_present",jh="database_unavailable",Ry="unable_to_acquire_token_from_native_platform",Py="native_handshake_timeout",My="native_extension_not_installed",Ih="native_connection_not_established",Sa="uninitialized_public_client_application",Oy="native_prompt_not_supported",Ly="invalid_base64_string",Dy="invalid_pop_token_request",Uy="failed_to_build_headers",Fy="failed_to_parse_headers",ei="failed_to_decrypt_ear_response",Ki="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const yr="For more visit: aka.ms/msaljs/browser-errors",I1={[Sh]:"The PKCE code challenge and verifier could not be generated.",[Ah]:"No EAR encryption key provided. This is unexpected.",[uy]:"Server response does not contain ear_jwe property. This is unexpected.",[Pd]:"The crypto object or function is not available.",[Sl]:"Navigation URI is empty. Please check stack trace for more info.",[hy]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${yr}`,[Th]:"Hash does not contain state. Please verify that the request originated from msal.",[my]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${yr}`,[fy]:"Unable to parse state. Please verify that the request originated from msal.",[py]:"Hash contains state but the interaction type does not match the caller.",[gy]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${yr}`,[xy]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[yy]:"window.open returned null or undefined window object.",[Za]:"User cancelled the flow.",[S1]:`Token acquisition in popup failed due to timeout.  ${yr}`,[vy]:`Token acquisition in iframe failed due to timeout.  ${yr}`,[wy]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[by]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${yr}`,[Cy]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[A1]:"The iframe being monitored was closed prematurely.",[Al]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Ny]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[T1]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ky]:"No token request found in cache.",[Sy]:"The cached token request could not be parsed.",[E1]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[j1]:"Invalid cache type",[Tl]:"Login and token requests are not supported in non-browser environments.",[Zn]:"Database is not open!",[$i]:"No network connectivity. Check your internet connection.",[Ay]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ty]:"Network request failed. Please check the network trace to determine root cause.",[Md]:"Failed to parse network response. Check network trace.",[Ey]:"Error loading token to cache.",[Eh]:"Cryptographic Key or Keypair not found in browser storage.",[jy]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Iy]:"An authorization code or nativeAccountId must be provided to this flow.",[_y]:"Request cannot contain both spa code and native account id.",[jh]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Ry]:`Unable to acquire token from native platform.  ${yr}`,[Py]:"Timed out while attempting to establish connection to browser extension",[My]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Ih]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${yr}`,[Sa]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${yr}`,[Oy]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ly]:"Invalid base64 encoded string.",[Dy]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Uy]:"Failed to build request headers object.",[Fy]:"Failed to parse response headers",[ei]:"Failed to decrypt ear response",[Ki]:"The request timed out."};class co extends Ce{constructor(e,r){super(e,I1[e],r),Object.setPrototypeOf(this,co.prototype),this.name="BrowserAuthError"}}function G(t,e){return new co(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const gt={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Mt={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},aa={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},$e={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Gf={GET:"GET",POST:"POST"},$r={SIGNIN:"signin",SIGNOUT:"signout"},Le={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Do={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},be={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var te;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(te||(te={}));const qf={scopes:Fs},Hy="jwk",Od="msal.db",_1=1,R1=`${Od}.keys`,at={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},P1=[at.Default,at.Skip,at.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function Uo(t){return encodeURIComponent(eo(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function un(t){return zy(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(t){return zy(new TextEncoder().encode(t))}function zy(t){const e=Array.from(t,r=>String.fromCodePoint(r)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Jt(t){return new TextDecoder().decode(on(t))}function on(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw G(Ly)}const r=atob(e);return Uint8Array.from(r,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const M1="RSASSA-PKCS1-v1_5",Bs="AES-GCM",By="HKDF",_h="SHA-256",O1=2048,L1=new Uint8Array([1,0,1]),Wf="0123456789abcdef",Qf=new Uint32Array(1),Rh="raw",$y="encrypt",Ph="decrypt",D1="deriveKey",U1="crypto_subtle_undefined",Mh={name:M1,hash:_h,modulusLength:O1,publicExponent:L1};function F1(t){if(!window)throw G(Tl);if(!window.crypto)throw G(Pd);if(!t&&!window.crypto.subtle)throw G(Pd,U1)}async function Ky(t,e,r){e==null||e.addQueueMeasurement(b.Sha256Digest,r);const a=new TextEncoder().encode(t);return window.crypto.subtle.digest(_h,a)}function H1(t){return window.crypto.getRandomValues(t)}function bc(){return window.crypto.getRandomValues(Qf),Qf[0]}function rr(){const t=Date.now(),e=bc()*1024+(bc()&1023),r=new Uint8Array(16),n=Math.trunc(e/2**30),a=e&2**30-1,o=bc();r[0]=t/2**40,r[1]=t/2**32,r[2]=t/2**24,r[3]=t/2**16,r[4]=t/2**8,r[5]=t,r[6]=112|n>>>8,r[7]=n,r[8]=128|a>>>24,r[9]=a>>>16,r[10]=a>>>8,r[11]=a,r[12]=o>>>24,r[13]=o>>>16,r[14]=o>>>8,r[15]=o;let i="";for(let l=0;l<r.length;l++)i+=Wf.charAt(r[l]>>>4),i+=Wf.charAt(r[l]&15),(l===3||l===5||l===7||l===9)&&(i+="-");return i}async function z1(t,e){return window.crypto.subtle.generateKey(Mh,t,e)}async function Cc(t){return window.crypto.subtle.exportKey(Hy,t)}async function B1(t,e,r){return window.crypto.subtle.importKey(Hy,t,Mh,e,r)}async function $1(t,e){return window.crypto.subtle.sign(Mh,t,e)}async function Oh(){const t=await Vy(),r={alg:"dir",kty:"oct",k:un(new Uint8Array(t))};return eo(JSON.stringify(r))}async function K1(t){const e=Jt(t),n=JSON.parse(e).k,a=on(n);return window.crypto.subtle.importKey(Rh,a,Bs,!1,[Ph])}async function V1(t,e){const r=e.split(".");if(r.length!==5)throw G(ei,"jwe_length");const n=await K1(t).catch(()=>{throw G(ei,"import_key")});try{const a=new TextEncoder().encode(r[0]),o=on(r[2]),i=on(r[3]),l=on(r[4]),c=l.byteLength*8,d=new Uint8Array(i.length+l.length);d.set(i),d.set(l,i.length);const u=await window.crypto.subtle.decrypt({name:Bs,iv:o,tagLength:c,additionalData:a},n,d);return new TextDecoder().decode(u)}catch{throw G(ei,"decrypt")}}async function Vy(){const t=await window.crypto.subtle.generateKey({name:Bs,length:256},!0,[$y,Ph]);return window.crypto.subtle.exportKey(Rh,t)}async function Yf(t){return window.crypto.subtle.importKey(Rh,t,By,!1,[D1])}async function Gy(t,e,r){return window.crypto.subtle.deriveKey({name:By,salt:e,hash:_h,info:new TextEncoder().encode(r)},t,{name:Bs,length:256},!1,[$y,Ph])}async function G1(t,e,r){const n=new TextEncoder().encode(e),a=window.crypto.getRandomValues(new Uint8Array(16)),o=await Gy(t,a,r),i=await window.crypto.subtle.encrypt({name:Bs,iv:new Uint8Array(12)},o,n);return{data:un(new Uint8Array(i)),nonce:un(a)}}async function Jf(t,e,r,n){const a=on(n),o=await Gy(t,on(e),r),i=await window.crypto.subtle.decrypt({name:Bs,iv:new Uint8Array(12)},o,a);return new TextDecoder().decode(i)}async function qy(t){const e=await Ky(t),r=new Uint8Array(e);return un(r)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const El="storage_not_supported",Wy="stubbed_public_client_application_called",Lh="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const ti={[El]:"Given storage configuration option was not supported.",[Wy]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Lh]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};ti[El],ti[Wy],ti[Lh];class Dh extends Ce{constructor(e,r){super(e,r),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Dh.prototype)}}function Uh(t){return new Dh(t,ti[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Qy(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function q1(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Fh(){return window.parent!==window}function W1(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${gt.POPUP_NAME_PREFIX}.`)===0}function kr(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Q1(){const e=new pe(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function Y1(){if(pe.hashContainsKnownProperties(window.location.hash)&&Fh())throw G(by)}function J1(t){if(Fh()&&!t)throw G(wy)}function X1(){if(W1())throw G(Cy)}function Yy(){if(typeof window>"u")throw G(Tl)}function Jy(t){if(!t)throw G(Sa)}function Hh(t){Yy(),Y1(),X1(),Jy(t)}function Xf(t,e){if(Hh(t),J1(e.system.allowRedirectInIframe),e.cache.cacheLocation===$e.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Uh(Lh)}function Xy(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function Z1(){return rr()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Vi{navigateInternal(e,r){return Vi.defaultNavigateWindow(e,r)}navigateExternal(e,r){return Vi.defaultNavigateWindow(e,r)}static defaultNavigateWindow(e,r){return r.noHistory?window.location.replace(e):window.location.assign(e),new Promise((n,a)=>{setTimeout(()=>{a(G(Ki,"failed_to_redirect"))},r.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class eS{async sendGetRequestAsync(e,r){let n,a={},o=0;const i=Zf(r);try{n=await fetch(e,{method:Gf.GET,headers:i})}catch(l){throw ua(G(window.navigator.onLine?Ty:$i),void 0,void 0,l)}a=ep(n.headers);try{return o=n.status,{headers:a,body:await n.json(),status:o}}catch(l){throw ua(G(Md),o,a,l)}}async sendPostRequestAsync(e,r){const n=r&&r.body||"",a=Zf(r);let o,i=0,l={};try{o=await fetch(e,{method:Gf.POST,headers:a,body:n})}catch(c){throw ua(G(window.navigator.onLine?Ay:$i),void 0,void 0,c)}l=ep(o.headers);try{return i=o.status,{headers:l,body:await o.json(),status:i}}catch(c){throw ua(G(Md),i,l,c)}}}function Zf(t){try{const e=new Headers;if(!(t&&t.headers))return e;const r=t.headers;return Object.entries(r).forEach(([n,a])=>{e.append(n,a)}),e}catch(e){throw ua(G(Uy),void 0,void 0,e)}}function ep(t){try{const e={};return t.forEach((r,n)=>{e[n]=r}),e}catch{throw G(Fy)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const tS=6e4,Ld=1e4,rS=3e4,Zy=2e3;function nS({auth:t,cache:e,system:r,telemetry:n},a){const o={clientId:M.EMPTY_STRING,authority:`${M.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:M.EMPTY_STRING,authorityMetadata:M.EMPTY_STRING,redirectUri:typeof window<"u"?kr():"",postLogoutRedirectUri:M.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:bt.AAD,OIDCOptions:{serverResponseType:pl.FRAGMENT,defaultScopes:[M.OPENID_SCOPE,M.PROFILE_SCOPE,M.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Xu.None,tenant:M.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},i={cacheLocation:$e.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:$e.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===$e.LocalStorage),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:Te.Info,piiLoggingEnabled:!1},d={...{...Ux,loggerOptions:l,networkClient:a?new eS:g1,navigationClient:new Vi,loadFrameTimeout:0,windowHashTimeout:(r==null?void 0:r.loadFrameTimeout)||tS,iframeHashTimeout:(r==null?void 0:r.loadFrameTimeout)||Ld,navigateFrameWait:0,redirectNavigationTimeout:rS,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(r==null?void 0:r.nativeBrokerHandshakeTimeout)||Zy,pollIntervalMilliseconds:gt.DEFAULT_POLL_INTERVAL_MS},...r,loggerOptions:(r==null?void 0:r.loggerOptions)||l},u={application:{appName:M.EMPTY_STRING,appVersion:M.EMPTY_STRING},client:new Dx};if((t==null?void 0:t.protocolMode)!==bt.OIDC&&(t!=null&&t.OIDCOptions)&&new dn(d.loggerOptions).warning(JSON.stringify(Ne(Ex))),t!=null&&t.protocolMode&&t.protocolMode===bt.OIDC&&(d!=null&&d.allowPlatformBroker))throw Ne(jx);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...i,...e},system:d,telemetry:{...u,...n}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const sS="@azure/msal-browser",zn="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Ve="msal",zh="browser",Nc="-",Ur=1,Dd=1,aS=`${Ve}.${zh}.log.level`,oS=`${Ve}.${zh}.log.pii`,iS=`${Ve}.${zh}.platform.auth.dom`,tp=`${Ve}.version`,rp="account.keys",np="token.keys";function cr(t=Dd){return t<1?`${Ve}.${rp}`:`${Ve}.${t}.${rp}`}function Tn(t,e=Ur){return e<1?`${Ve}.${np}.${t}`:`${Ve}.${e}.${np}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bh{static loggerCallback(e,r){switch(e){case Te.Error:console.error(r);return;case Te.Info:console.info(r);return;case Te.Verbose:console.debug(r);return;case Te.Warning:console.warn(r);return;default:console.log(r);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=nS(e,this.browserEnvironment);let r;try{r=window[$e.SessionStorage]}catch{}const n=r==null?void 0:r.getItem(aS),a=(c=r==null?void 0:r.getItem(oS))==null?void 0:c.toLowerCase(),o=a==="true"?!0:a==="false"?!1:void 0,i={...this.config.system.loggerOptions},l=n&&Object.keys(Te).includes(n)?Te[n]:void 0;l&&(i.loggerCallback=Bh.loggerCallback,i.logLevel=l),o!==void 0&&(i.piiLoggingEnabled=o),this.logger=new dn(i,sS,zn),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bn extends Bh{getModuleName(){return Bn.MODULE_NAME}getId(){return Bn.ID}async initialize(){return this.available=typeof window<"u",this.available}}Bn.MODULE_NAME="";Bn.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class lS{constructor(){this.dbName=Od,this.version=_1,this.tableName=R1,this.dbOpen=!1}async open(){return new Promise((e,r)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",a=>{a.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",a=>{const o=a;this.db=o.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>r(G(jh)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(Zn));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);i.addEventListener("success",l=>{const c=l;this.closeConnection(),r(c.target.result)}),i.addEventListener("error",l=>{this.closeConnection(),n(l)})})}async setItem(e,r){return await this.validateDbIsOpen(),new Promise((n,a)=>{if(!this.db)return a(G(Zn));const l=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(r,e);l.addEventListener("success",()=>{this.closeConnection(),n()}),l.addEventListener("error",c=>{this.closeConnection(),a(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(Zn));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);i.addEventListener("success",()=>{this.closeConnection(),r()}),i.addEventListener("error",l=>{this.closeConnection(),n(l)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,r)=>{if(!this.db)return r(G(Zn));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",i=>{const l=i;this.closeConnection(),e(l.target.result)}),o.addEventListener("error",i=>{this.closeConnection(),r(i)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(Zn));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);i.addEventListener("success",l=>{const c=l;this.closeConnection(),r(c.target.result===1)}),i.addEventListener("error",l=>{this.closeConnection(),n(l)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,r)=>{const n=window.indexedDB.deleteDatabase(Od),a=setTimeout(()=>r(!1),200);n.addEventListener("success",()=>(clearTimeout(a),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(a),e(!0))),n.addEventListener("error",()=>(clearTimeout(a),r(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class jl{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,r){this.cache.set(e,r)}async setUserData(e,r){this.setItem(e,r)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((r,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class cS{constructor(e){this.inMemoryCache=new jl,this.indexedDBCache=new lS,this.logger=e}handleDatabaseAccessError(e){if(e instanceof co&&e.errorCode===jh)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const r=this.inMemoryCache.getItem(e);if(!r)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return r}async setItem(e,r){this.inMemoryCache.setItem(e,r);try{await this.indexedDBCache.setItem(e,r)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(r){this.handleDatabaseAccessError(r)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(r){this.handleDatabaseAccessError(r)}return e}async containsKey(e){const r=this.inMemoryCache.containsKey(e);if(!r)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return r}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Pr{constructor(e,r,n){this.logger=e,F1(n??!1),this.cache=new cS(this.logger),this.performanceClient=r}createNewGuid(){return rr()}base64Encode(e){return eo(e)}base64Decode(e){return Jt(e)}base64UrlEncode(e){return Uo(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var u;const r=(u=this.performanceClient)==null?void 0:u.startMeasurement(b.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await z1(Pr.EXTRACTABLE,Pr.POP_KEY_USAGES),a=await Cc(n.publicKey),o={e:a.e,kty:a.kty,n:a.n},i=sp(o),l=await this.hashString(i),c=await Cc(n.privateKey),d=await B1(c,!1,["sign"]);return await this.cache.setItem(l,{privateKey:d,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),r&&r.end({success:!0}),l}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw U(gx)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,r,n,a){var p;const o=(p=this.performanceClient)==null?void 0:p.startMeasurement(b.CryptoOptsSignJwt,a),i=await this.cache.getItem(r);if(!i)throw G(Eh);const l=await Cc(i.publicKey),c=sp(l),d=Uo(JSON.stringify({kid:r})),u=kh.getShrHeaderString({...n==null?void 0:n.header,alg:l.alg,kid:d}),h=Uo(u);e.cnf={jwk:JSON.parse(c)};const f=Uo(JSON.stringify(e)),m=`${h}.${f}`,y=new TextEncoder().encode(m),A=await $1(i.privateKey,y),x=un(new Uint8Array(A)),g=`${m}.${x}`;return o&&o.end({success:!0}),g}async hashString(e){return qy(e)}}Pr.POP_KEY_USAGES=["sign","verify"];Pr.EXTRACTABLE=!0;function sp(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const dS=24*60*60*1e3,Ud={Lax:"Lax",None:"None"};class ev{initialize(){return Promise.resolve()}getItem(e){const r=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let a=0;a<n.length;a++){const o=n[a],[i,...l]=decodeURIComponent(o).trim().split("="),c=l.join("=");if(i===r)return c}return""}getUserData(){throw U(ae)}setItem(e,r,n,a=!0,o=Ud.Lax){let i=`${encodeURIComponent(e)}=${encodeURIComponent(r)};path=/;SameSite=${o};`;if(n){const l=uS(n);i+=`expires=${l};`}(a||o===Ud.None)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(U(ae))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),r=[];return e.forEach(n=>{const a=decodeURIComponent(n).trim().split("=");r.push(a[0])}),r}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function uS(t){const e=new Date;return new Date(e.getTime()+t*dS).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Aa(t,e){const r=t.getItem(cr(e));return r?JSON.parse(r):[]}function Ta(t,e,r){const n=e.getItem(Tn(t,r));if(n){const a=JSON.parse(n);if(a&&a.hasOwnProperty("idToken")&&a.hasOwnProperty("accessToken")&&a.hasOwnProperty("refreshToken"))return a}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Fd(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ap="msal.cache.encryption",hS="msal.broadcast.cache";class mS{constructor(e,r,n){if(!window.localStorage)throw Uh(El);this.memoryStorage=new jl,this.initialized=!1,this.clientId=e,this.logger=r,this.performanceClient=n,this.broadcast=new BroadcastChannel(hS)}async initialize(e){const r=new ev,n=r.getItem(ap);let a={key:"",id:""};if(n)try{a=JSON.parse(n)}catch{}if(a.key&&a.id){const o=Et(on,b.Base64Decode,this.logger,this.performanceClient,e)(a.key);this.encryptionCookie={id:a.id,key:await P(Yf,b.GenerateHKDF,this.logger,this.performanceClient,e)(o)}}else{const o=rr(),i=await P(Vy,b.GenerateBaseKey,this.logger,this.performanceClient,e)(),l=Et(un,b.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(i));this.encryptionCookie={id:o,key:await P(Yf,b.GenerateHKDF,this.logger,this.performanceClient,e)(i)};const c={id:o,key:l};r.setItem(ap,JSON.stringify(c),0,!0,Ud.None)}await P(this.importExistingCache.bind(this),b.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw G(Sa);return this.memoryStorage.getItem(e)}async decryptData(e,r,n){if(!this.initialized||!this.encryptionCookie)throw G(Sa);if(r.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null;const a=await P(Jf,b.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data);if(!a)return null;try{return JSON.parse(a)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},n),null}}setItem(e,r){window.localStorage.setItem(e,r)}async setUserData(e,r,n,a){if(!this.initialized||!this.encryptionCookie)throw G(Sa);const{data:o,nonce:i}=await P(G1,b.Encrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r,this.getContext(e)),l={id:this.encryptionCookie.id,nonce:i,data:o,lastUpdatedAt:a};this.memoryStorage.setItem(e,r),this.setItem(e,JSON.stringify(l)),this.broadcast.postMessage({key:e,value:r,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Aa(this).forEach(n=>this.removeItem(n));const r=Ta(this.clientId,this);r.idToken.forEach(n=>this.removeItem(n)),r.accessToken.forEach(n=>this.removeItem(n)),r.refreshToken.forEach(n=>this.removeItem(n)),this.getKeys().forEach(n=>{(n.startsWith(Ve)||n.indexOf(this.clientId)!==-1)&&this.removeItem(n)})}async importExistingCache(e){if(!this.encryptionCookie)return;let r=Aa(this);r=await this.importArray(r,e),r.length?this.setItem(cr(),JSON.stringify(r)):this.removeItem(cr());const n=Ta(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),n.idToken.length||n.accessToken.length||n.refreshToken.length?this.setItem(Tn(this.clientId),JSON.stringify(n)):this.removeItem(Tn(this.clientId))}async getItemFromEncryptedCache(e,r){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let a;try{a=JSON.parse(n)}catch{return null}return Fd(a)?a.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null):P(Jf,b.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,a.nonce,this.getContext(e),a.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},r),a)}async importArray(e,r){const n=[],a=[];return e.forEach(o=>{const i=this.getItemFromEncryptedCache(o,r).then(l=>{l?(this.memoryStorage.setItem(o,l),n.push(o)):this.removeItem(o)});a.push(i)}),await Promise.all(a),n}getContext(e){let r="";return e.includes(this.clientId)&&(r=this.clientId),r}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const r=this.performanceClient.startMeasurement(b.LocalStorageUpdated);r.add({isBackground:!0});const{key:n,value:a,context:o}=e.data;if(!n){this.logger.error("Broadcast event missing key"),r.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),r.end({success:!1,errorCode:"contextMismatch"});return}a?(this.memoryStorage.setItem(n,a),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),r.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class fS{constructor(){if(!window.sessionStorage)throw Uh(El)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,r){window.sessionStorage.setItem(e,r)}async setUserData(e,r){this.setItem(e,r)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ee={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function op(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Hd extends _d{constructor(e,r,n,a,o,i,l){super(e,n,a,o,l),this.cacheConfig=r,this.logger=a,this.internalStorage=new jl,this.browserStorage=ip(e,r.cacheLocation,a,o),this.temporaryCacheStorage=ip(e,r.temporaryCacheLocation,a,o),this.cookieStorage=new ev,this.eventHandler=i}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const r=Aa(this.browserStorage,0),n=Ta(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:r.length,oldAccessCount:n.accessToken.length,oldIdCount:n.idToken.length,oldRefreshCount:n.refreshToken.length},e);const a=Aa(this.browserStorage,1),o=Ta(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:a.length,currAccessCount:o.accessToken.length,currIdCount:o.idToken.length,currRefreshCount:o.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(Dd,r,a,e),this.updateV0ToCurrent(Ur,n.idToken,o.idToken,e),this.updateV0ToCurrent(Ur,n.accessToken,o.accessToken,e),this.updateV0ToCurrent(Ur,n.refreshToken,o.refreshToken,e)]),r.length>0?this.browserStorage.setItem(cr(0),JSON.stringify(r)):this.browserStorage.removeItem(cr(0)),a.length>0?this.browserStorage.setItem(cr(1),JSON.stringify(a)):this.browserStorage.removeItem(cr(1)),this.setTokenKeys(n,e,0),this.setTokenKeys(o,e,1)}async updateV0ToCurrent(e,r,n,a){const o=[];for(const i of[...r]){const l=this.browserStorage.getItem(i),c=this.validateAndParseJson(l||"");if(!c){op(r,i);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(c),a));const d=Fd(c)?await this.browserStorage.decryptData(i,c,a):c;let u;if(d&&(Ff(d)||Hf(d))&&(u=d.expiresOn),!d||Yk(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||u&&Hi(u,ex)){this.browserStorage.removeItem(i),op(r,i),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},a);continue}if(this.cacheConfig.cacheLocation!==$e.LocalStorage||Fd(c)){const h=`${Ve}.${e}${Nc}${i}`,f=this.browserStorage.getItem(h);if(f){const m=this.validateAndParseJson(f);if(Number(c.lastUpdatedAt)>Number(m.lastUpdatedAt)){o.push(this.setUserData(h,JSON.stringify(d),a,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},a)}));continue}}else{o.push(this.setUserData(h,JSON.stringify(d),a,c.lastUpdatedAt).then(()=>{n.push(h),this.performanceClient.incrementFields({upgradedCacheCount:1},a)}));continue}}}return Promise.all(o)}trackVersionChanges(e){const r=this.browserStorage.getItem(tp);r&&(this.logger.info(`MSAL.js was last initialized by version: ${r}`),this.performanceClient.addFields({previousLibraryVersion:r},e)),r!==zn&&this.setItem(tp,zn,e)}validateAndParseJson(e){if(!e)return null;try{const r=JSON.parse(e);return r&&typeof r=="object"?r:null}catch{return null}}setItem(e,r,n){let a=0,o=[];const i=20;for(let l=0;l<=i;l++)try{this.browserStorage.setItem(e,r),l>0&&(l<=a?this.removeAccessTokenKeys(o.slice(0,l),n,0):(this.removeAccessTokenKeys(o.slice(0,a),n,0),this.removeAccessTokenKeys(o.slice(a,l),n)));break}catch(c){const d=Id(c);if(d.errorCode===Oi&&l<i){if(!o.length){const u=e===Tn(this.clientId,0)?JSON.parse(r).accessToken:this.getTokenKeys(0).accessToken,h=e===Tn(this.clientId)?JSON.parse(r).accessToken:this.getTokenKeys().accessToken;o=[...u,...h],a=u.length}if(o.length<=l)throw d;this.removeAccessToken(o[l],n,!1)}else throw d}}async setUserData(e,r,n,a){let o=0,i=[];const l=20;for(let c=0;c<=l;c++)try{await P(this.browserStorage.setUserData.bind(this.browserStorage),b.SetUserData,this.logger,this.performanceClient)(e,r,n,a),c>0&&(c<=o?this.removeAccessTokenKeys(i.slice(0,c),n,0):(this.removeAccessTokenKeys(i.slice(0,o),n,0),this.removeAccessTokenKeys(i.slice(o,c),n)));break}catch(d){const u=Id(d);if(u.errorCode===Oi&&c<l){if(!i.length){const h=this.getTokenKeys(0).accessToken,f=this.getTokenKeys().accessToken;i=[...h,...f],o=h.length}if(i.length<=c)throw u;this.removeAccessToken(i[c],n,!1)}else throw u}}getAccount(e,r){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.browserStorage.getUserData(e);if(!n)return this.removeAccountKeyFromMap(e,r),null;const a=this.validateAndParseJson(n);return!a||!er.isAccountEntity(a)?null:_d.toObject(new er,a)}async setAccount(e,r){this.logger.trace("BrowserCacheManager.setAccount called");const n=this.generateAccountKey(e.getAccountInfo()),a=Date.now().toString();e.lastUpdatedAt=a,await this.setUserData(n,JSON.stringify(e),r,a);const o=this.addAccountKeyToMap(n,r);this.cacheConfig.cacheLocation===$e.LocalStorage&&o&&this.eventHandler.emitEvent(ee.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Aa(this.browserStorage)}addAccountKeyToMap(e,r){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const n=this.getAccountKeys();return n.indexOf(e)===-1?(n.push(e),this.setItem(cr(),JSON.stringify(n),r),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,r){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const n=this.getAccountKeys(),a=n.indexOf(e);if(a>-1){if(n.splice(a,1),n.length===0){this.removeItem(cr());return}else this.setItem(cr(),JSON.stringify(n),r);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,r){const n=this.getActiveAccount(r);(n==null?void 0:n.homeAccountId)===e.homeAccountId&&(n==null?void 0:n.environment)===e.environment&&this.setActiveAccount(null,r),super.removeAccount(e,r),this.removeAccountKeyFromMap(this.generateAccountKey(e),r),this.browserStorage.getKeys().forEach(a=>{a.includes(e.homeAccountId)&&a.includes(e.environment)&&this.browserStorage.removeItem(a)}),this.cacheConfig.cacheLocation===$e.LocalStorage&&this.eventHandler.emitEvent(ee.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,r){super.removeIdToken(e,r);const n=this.getTokenKeys(),a=n.idToken.indexOf(e);a>-1&&(this.logger.info("idToken removed from tokenKeys map"),n.idToken.splice(a,1),this.setTokenKeys(n,r))}removeAccessToken(e,r,n=!0){super.removeAccessToken(e,r),n&&this.removeAccessTokenKeys([e],r)}removeAccessTokenKeys(e,r,n=Ur){this.logger.trace("removeAccessTokenKey called");const a=this.getTokenKeys(n);let o=0;if(e.forEach(i=>{const l=a.accessToken.indexOf(i);l>-1&&(a.accessToken.splice(l,1),o++)}),o>0){this.logger.info(`removed ${o} accessToken keys from tokenKeys map`),this.setTokenKeys(a,r,n);return}}removeRefreshToken(e,r){super.removeRefreshToken(e,r);const n=this.getTokenKeys(),a=n.refreshToken.indexOf(e);a>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),n.refreshToken.splice(a,1),this.setTokenKeys(n,r))}getTokenKeys(e=Ur){return Ta(this.clientId,this.browserStorage,e)}setTokenKeys(e,r,n=Ur){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(Tn(this.clientId,n));return}else this.setItem(Tn(this.clientId,n),JSON.stringify(e),r)}getIdTokenCredential(e,r){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,r),null;const a=this.validateAndParseJson(n);return!a||!Xk(a)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),a)}async setIdTokenCredential(e,r){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=this.generateCredentialKey(e),a=Date.now().toString();e.lastUpdatedAt=a,await this.setUserData(n,JSON.stringify(e),r,a);const o=this.getTokenKeys();o.idToken.indexOf(n)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),o.idToken.push(n),this.setTokenKeys(o,r))}getAccessTokenCredential(e,r){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],r),null;const a=this.validateAndParseJson(n);return!a||!Ff(a)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),a)}async setAccessTokenCredential(e,r){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=this.generateCredentialKey(e),a=Date.now().toString();e.lastUpdatedAt=a,await this.setUserData(n,JSON.stringify(e),r,a);const o=this.getTokenKeys(),i=o.accessToken.indexOf(n);i!==-1&&o.accessToken.splice(i,1),this.logger.trace(`access token ${i===-1?"added to":"updated in"} map`),o.accessToken.push(n),this.setTokenKeys(o,r)}getRefreshTokenCredential(e,r){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,r),null;const a=this.validateAndParseJson(n);return!a||!Hf(a)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),a)}async setRefreshTokenCredential(e,r){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=this.generateCredentialKey(e),a=Date.now().toString();e.lastUpdatedAt=a,await this.setUserData(n,JSON.stringify(e),r,a);const o=this.getTokenKeys();o.refreshToken.indexOf(n)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),o.refreshToken.push(n),this.setTokenKeys(o,r))}getAppMetadata(e){const r=this.browserStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!r1(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(e,r){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=t1(e);this.setItem(n,JSON.stringify(e),r)}getServerTelemetry(e){const r=this.browserStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!Zk(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(e,r,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r),n)}getAuthorityMetadata(e){const r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(r);return n&&n1(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(r=>this.isAuthorityMetadata(r))}setWrapperMetadata(e,r){this.internalStorage.setItem(Do.WRAPPER_SKU,e),this.internalStorage.setItem(Do.WRAPPER_VER,r)}getWrapperMetadata(){const e=this.internalStorage.getItem(Do.WRAPPER_SKU)||M.EMPTY_STRING,r=this.internalStorage.getItem(Do.WRAPPER_VER)||M.EMPTY_STRING;return[e,r]}setAuthorityMetadata(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))}getActiveAccount(e){const r=this.generateCacheKey(Af.ACTIVE_ACCOUNT_FILTERS),n=this.browserStorage.getItem(r);if(!n)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const a=this.validateAndParseJson(n);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId,tenantId:a.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,r){const n=this.generateCacheKey(Af.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const a={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Ct().toString()};this.setItem(n,JSON.stringify(a),r)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(ee.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const r=this.browserStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!e1(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(e,r,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r),n)}getTemporaryCache(e,r){const n=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const a=this.temporaryCacheStorage.getItem(n);if(!a){if(this.cacheConfig.cacheLocation===$e.LocalStorage){const o=this.browserStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),a}setTemporaryCache(e,r,n){const a=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(a,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(a,r,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(r=>{(r.indexOf(Ve)!==-1||r.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(r)}),this.browserStorage.getKeys().forEach(r=>{(r.indexOf(Ve)!==-1||r.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(r)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(b.ClearTokensAndKeysWithClaims,e);const r=this.getTokenKeys();let n=0;r.accessToken.forEach(a=>{const o=this.getAccessTokenCredential(a,e);o!=null&&o.requestedClaimsHash&&a.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(a,e),n++)}),n>0&&this.logger.warning(`${n} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Tt.startsWith(e,Ve)?e:`${Ve}.${this.clientId}.${e}`}generateCredentialKey(e){const r=e.credentialType===Je.REFRESH_TOKEN&&e.familyId||e.clientId,n=e.tokenType&&e.tokenType.toLowerCase()!==ve.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Ve}.${Ur}`,e.homeAccountId,e.environment,e.credentialType,r,e.realm||"",e.target||"",e.requestedClaimsHash||"",n].join(Nc).toLowerCase()}generateAccountKey(e){const r=e.homeAccountId.split(".")[1];return[`${Ve}.${Dd}`,e.homeAccountId,e.environment,r||e.tenantId||""].join(Nc).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Le.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Le.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Le.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Le.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Le.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,r){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=eo(JSON.stringify(e));if(this.setTemporaryCache(Le.REQUEST_PARAMS,n,!0),r){const a=eo(r);this.setTemporaryCache(Le.VERIFIER,a,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Le.REQUEST_PARAMS,!0);if(!e)throw G(ky);const r=this.getTemporaryCache(Le.VERIFIER,!0);let n,a="";try{n=JSON.parse(Jt(e)),r&&(a=Jt(r))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),G(Sy)}return[n,a]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Le.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const r=this.validateAndParseJson(e);return r||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var n;const r=(n=this.getInteractionInProgress())==null?void 0:n.clientId;return e?r===this.clientId:!!r}getInteractionInProgress(){const e=`${Ve}.${Le.INTERACTION_STATUS_KEY}`,r=this.getTemporaryCache(e,!1);try{return r?JSON.parse(r):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Qy(window),null}}setInteractionInProgress(e,r=$r.SIGNIN){var a;const n=`${Ve}.${Le.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw G(gy);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:r}),!1)}else!e&&((a=this.getInteractionInProgress())==null?void 0:a.clientId)===this.clientId&&this.removeTemporaryItem(n)}async hydrateCache(e,r){var l,c,d;const n=wl((l=e.account)==null?void 0:l.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let a;r.claims&&(a=await this.cryptoImpl.hashString(r.claims));const o=bl((d=e.account)==null?void 0:d.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Uf(e.expiresOn):0,e.extExpiresOn?Uf(e.extExpiresOn):0,Jt,void 0,e.tokenType,void 0,r.sshKid,r.claims,a),i={idToken:n,accessToken:o};return this.saveCacheRecord(i,e.correlationId)}async saveCacheRecord(e,r,n){try{await super.saveCacheRecord(e,r,n)}catch(a){if(a instanceof Cs&&this.performanceClient&&r)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw a}}}function ip(t,e,r,n){try{switch(e){case $e.LocalStorage:return new mS(t,r,n);case $e.SessionStorage:return new fS;case $e.MemoryStorage:default:break}}catch(a){r.error(a)}return new jl}const pS=(t,e,r,n)=>{const a={cacheLocation:$e.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:$e.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Hd(t,a,Ri,e,r,n)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function gS(t,e,r,n,a){return t.verbose("getAllAccounts called"),r?e.getAllAccounts(a||{},n):[]}function xS(t,e,r,n){const a=r.getAccountInfoFilteredBy(t,n);return a?(e.verbose("getAccount: Account matching provided filter found, returning"),a):(e.verbose("getAccount: No matching account found, returning null"),null)}function yS(t,e,r,n){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const a=r.getAccountInfoFilteredBy({username:t},n);return a?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),a):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function vS(t,e,r,n){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const a=r.getAccountInfoFilteredBy({homeAccountId:t},n);return a?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),a):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function wS(t,e,r,n){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const a=r.getAccountInfoFilteredBy({localAccountId:t},n);return a?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),a):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function bS(t,e,r){e.setActiveAccount(t,r)}function CS(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const NS="msal.broadcast.event";class kS{constructor(e){this.eventCallbacks=new Map,this.logger=e||new dn({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(NS)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,r,n){if(typeof window<"u"){const a=n||Z1();return this.eventCallbacks.has(a)?(this.logger.error(`Event callback with id: ${a} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(a,[e,r||[]]),this.logger.verbose(`Event callback registered with id: ${a}`),a)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,r,n,a){var i;const o={eventType:e,interactionType:r||null,payload:n||null,error:a||null,timestamp:Date.now()};switch(e){case ee.ACCOUNT_ADDED:case ee.ACCOUNT_REMOVED:case ee.ACTIVE_ACCOUNT_CHANGED:(i=this.broadcastChannel)==null||i.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([r,n],a)=>{(n.length===0||n.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${a}: ${e.eventType}`),r.apply(null,[e]))})}invokeCrossTabCallbacks(e){const r=e.data;this.invokeCallbacks(r)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class tv{constructor(e,r,n,a,o,i,l,c,d){this.config=e,this.browserStorage=r,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.platformAuthProvider=c,this.correlationId=d||rr(),this.logger=a.clone(gt.MSAL_SKU,zn,this.correlationId),this.performanceClient=l}async clearCacheOnLogout(e,r){if(r)try{this.browserStorage.removeAccount(r,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const r=e||this.config.auth.redirectUri;return pe.getAbsoluteUrl(r,kr())}initializeServerTelemetryManager(e,r){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:r||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Xa(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:r}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(b.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const a={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n!=null&&n.length?n==="true":this.config.auth.instanceAware,l=r&&i?this.config.auth.authority.replace(pe.getDomainFromUrl(o),r.environment):o,c=rt.generateAuthority(l,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),d=await P(ty,b.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,a,this.logger,this.correlationId,this.performanceClient);if(r&&!d.isAlias(r.environment))throw Ne(Ix);return d}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function $h(t,e,r,n){r.addQueueMeasurement(b.InitializeBaseRequest,t.correlationId);const a=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],i={...t,correlationId:t.correlationId,authority:a,scopes:o};if(!i.authenticationScheme)i.authenticationScheme=ve.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(i.authenticationScheme===ve.SSH){if(!t.sshJwk)throw Ne(gl);if(!t.sshKid)throw Ne(Tx)}n.verbose(`Authentication Scheme set to "${i.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Tt.isEmptyObj(t.claims)&&(i.requestedClaimsHash=await qy(t.claims)),i}async function SS(t,e,r,n,a){n.addQueueMeasurement(b.InitializeSilentRequest,t.correlationId);const o=await P($h,b.InitializeBaseRequest,a,n,t.correlationId)(t,r,n,a);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}function rv(t,e){let r;const n=t.httpMethod;if(e===bt.EAR){if(r=n||An.POST,r!==An.POST)throw Ne(_x)}else r=n||An.GET;if(t.authorizePostBodyParameters&&r!==An.POST)throw Ne(Rx);return r}/*! @azure/msal-browser v4.22.1 2025-09-09 */class $s extends tv{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const r={correlationId:this.correlationId||rr(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=pe.getAbsoluteUrl(e.postLogoutRedirectUri,kr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=pe.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,kr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=pe.getAbsoluteUrl(kr(),kr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId),r}getLogoutHintFromIdTokenClaims(e){const r=e.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(b.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const r=await P(this.getClientConfiguration.bind(this),b.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new oy(r,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:r,requestAuthority:n,requestAzureCloudOptions:a,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(b.StandardInteractionClientGetClientConfiguration,this.correlationId);const l=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:a,requestExtraQueryParameters:o,account:i}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:gt.MSAL_SKU,version:zn,cpu:M.EMPTY_STRING,os:M.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,r){this.performanceClient.addQueueMeasurement(b.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),a={interactionType:r},o=zs.setRequestState(this.browserCrypto,e&&e.state||M.EMPTY_STRING,a),l={...await P($h,b.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||rr(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...l,httpMethod:rv(l,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const d=e.account||this.browserStorage.getActiveAccount(this.correlationId);return d&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${d.homeAccountId}`,this.correlationId),c.account=d),c}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function AS(t,e){if(!e)return null;try{return zs.parseRequestState(t,e).libraryState.meta}catch{throw U(Rs)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Ea(t,e,r){const n=Pi(t);if(!n)throw Mx(t)?(r.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),r.errorPii(`The ${e} detected is: ${t}`),G(my)):(r.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),G(hy));return n}function TS(t,e,r){if(!t.state)throw G(Th);const n=AS(e,t.state);if(!n)throw G(fy);if(n.interactionType!==r)throw G(py)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class nv{constructor(e,r,n,a,o){this.authModule=e,this.browserStorage=r,this.authCodeRequest=n,this.logger=a,this.performanceClient=o}async handleCodeResponse(e,r){this.performanceClient.addQueueMeasurement(b.HandleCodeResponse,r.correlationId);let n;try{n=y1(e,r.state)}catch(a){throw a instanceof Gn&&a.subError===Za?G(Za):a}return P(this.handleCodeResponseFromServer.bind(this),b.HandleCodeResponseFromServer,this.logger,this.performanceClient,r.correlationId)(n,r)}async handleCodeResponseFromServer(e,r,n=!0){if(this.performanceClient.addQueueMeasurement(b.HandleCodeResponseFromServer,r.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await P(this.authModule.updateAuthority.bind(this.authModule),b.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,r.correlationId)(e.cloud_instance_host_name,r.correlationId),n&&(e.nonce=r.nonce||void 0),e.state=r.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(r);o&&(this.authCodeRequest.ccsCredential=o)}return await P(this.authModule.acquireToken.bind(this.authModule),b.AuthClientAcquireToken,this.logger,this.performanceClient,r.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Wt.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Wt.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ES="ContentError",sv="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const jS="USER_INTERACTION_REQUIRED",IS="USER_CANCEL",_S="NO_NETWORK",RS="DISABLED",PS="ACCOUNT_UNAVAILABLE",MS="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const OS=-2147186943,LS={[sv]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class hr extends Ce{constructor(e,r,n){super(e,r),Object.setPrototypeOf(this,hr.prototype),this.name="NativeAuthError",this.ext=n}}function es(t){if(t.ext&&t.ext.status&&t.ext.status===RS||t.ext&&t.ext.error&&t.ext.error===OS)return!0;switch(t.errorCode){case ES:return!0;default:return!1}}function Gi(t,e,r){if(r&&r.status)switch(r.status){case PS:return Bi(ny);case jS:return new tr(t,e);case IS:return G(Za);case _S:return G($i);case MS:return Bi(wh)}return new hr(t,LS[t]||e,r)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class av extends $s{async acquireToken(e){this.performanceClient.addQueueMeasurement(b.SilentCacheClientAcquireToken,e.correlationId);const r=this.initializeServerTelemetryManager(be.acquireTokenSilent_silentFlow),n=await P(this.getClientConfiguration.bind(this),b.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),a=new p1(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const i=(await P(a.acquireCachedToken.bind(a),b.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),i}catch(o){throw o instanceof co&&o.errorCode===Eh&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const r=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(r.correlationId,r==null?void 0:r.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ri extends tv{constructor(e,r,n,a,o,i,l,c,d,u,h,f){super(e,r,n,a,o,i,c,d,f),this.apiId=l,this.accountId=u,this.platformAuthProvider=d,this.nativeStorageManager=h,this.silentCacheClient=new av(e,this.nativeStorageManager,n,a,o,i,c,d,f);const m=this.platformAuthProvider.getExtensionName();this.skus=Xa.makeExtraSkuString({libraryName:gt.MSAL_SKU,libraryVersion:zn,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Ik]:this.skus}}async acquireToken(e,r){this.performanceClient.addQueueMeasurement(b.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(b.NativeInteractionClientAcquireToken,this.correlationId),a=Ct(),o=this.initializeServerTelemetryManager(this.apiId);try{const i=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(r===at.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),n.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const l=await this.platformAuthProvider.sendMessage(i);return await this.handleNativeResponse(l,i,a).then(c=>(n.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),o.clearNativeBrokerErrorCode(),c)).catch(c=>{throw n.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(i){throw i instanceof hr&&o.setNativeBrokerErrorCode(i.errorCode),n.end({success:!1}),i}}createSilentCacheRequest(e,r){return{authority:e.authority,correlationId:this.correlationId,scopes:Be.fromString(e.scope).asArray(),account:r,forceRefresh:!1}}async acquireTokensFromCache(e,r){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),U(Ed);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!n)throw U(Ed);try{const a=this.createSilentCacheRequest(r,n),o=await this.silentCacheClient.acquireToken(a),i={...n,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:i}}catch(a){throw a}}async acquireTokenRedirect(e,r){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const a=await this.initializeNativeRequest(n);try{await this.platformAuthProvider.sendMessage(a)}catch(l){if(l instanceof hr&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(l.errorCode),es(l)))throw l}this.browserStorage.setTemporaryCache(Le.NATIVE_REQUEST,JSON.stringify(a),!0);const o={apiId:be.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);r.end({success:!0}),await this.navigationClient.navigateExternal(i,o)}async handleRedirectPromise(e,r){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&r&&(e==null||e.addFields({errorCode:"no_cached_request"},r)),null;const{prompt:a,...o}=n;a&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Le.NATIVE_REQUEST));const i=Ct();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=await this.platformAuthProvider.sendMessage(o),c=await this.handleNativeResponse(l,o,i);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(l){throw l}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,r,n){var u,h;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const a=Hs(e.id_token,Jt),o=this.createHomeAccountIdentifier(e,a),i=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:r.accountId},this.correlationId))==null?void 0:u.homeAccountId;if((h=r.extraParameters)!=null&&h.child_client_id&&e.account.id!==r.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==i&&e.account.id!==r.accountId)throw Gi(sv);const l=await this.getDiscoveredAuthority({requestAuthority:r.authority}),c=bh(this.browserStorage,l,o,Jt,this.correlationId,a,e.client_info,void 0,a.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const d=await this.generateAuthenticationResult(e,r,a,c,l.canonicalAuthority,n);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,r,o,a,e.access_token,d.tenantId,n),d}createHomeAccountIdentifier(e,r){return er.generateHomeAccountId(e.client_info||M.EMPTY_STRING,Gt.Default,this.logger,this.browserCrypto,r)}generateScopes(e,r){return r?Be.fromString(r):Be.fromString(e)}async generatePopAccessToken(e,r){if(r.tokenType===ve.POP&&r.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Ps(this.browserCrypto),a={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce};if(!r.keyId)throw U(Qu);return n.signPopToken(e.access_token,r.keyId,a)}else return e.access_token}async generateAuthenticationResult(e,r,n,a,o,i){const l=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(r.scope,e.scope),d=e.account.properties||{},u=d.UID||n.oid||n.sub||M.EMPTY_STRING,h=d.TenantId||n.tid||M.EMPTY_STRING,f=sh(a.getAccountInfo(),void 0,n,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,r),C=r.tokenType===ve.POP?ve.POP:ve.BEARER;return{authority:o,uniqueId:u,tenantId:h,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:n,accessToken:m,fromCache:l?this.isResponseFromCache(l):!1,expiresOn:ks(i+e.expires_in),tokenType:C,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,r){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),r)}cacheNativeTokens(e,r,n,a,o,i,l){const c=wl(n,r.authority,e.id_token||"",r.clientId,a.tid||""),d=r.tokenType===ve.POP?M.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=l+d,h=this.generateScopes(e.scope,r.scope),f=bl(n,r.authority,o,r.clientId,a.tid||i,h.printScopes(),u,0,Jt,void 0,r.tokenType,void 0,r.keyId),m={idToken:c,accessToken:f};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,r.storeInCache)}getExpiresInValue(e,r){return e===ve.POP?M.SHR_NONCE_VALIDITY:(typeof r=="string"?parseInt(r,10):r)||0}addTelemetryFromNativeResponse(e){const r=this.getMATSFromResponse(e);return r?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:r.broker_version,matsAccountJoinOnStart:r.account_join_on_start,matsAccountJoinOnEnd:r.account_join_on_end,matsDeviceJoin:r.device_join,matsPromptBehavior:r.prompt_behavior,matsApiErrorCode:r.api_error_code,matsUiVisible:r.ui_visible,matsSilentCode:r.silent_code,matsSilentBiSubCode:r.silent_bi_sub_code,matsSilentMessage:r.silent_message,matsSilentStatus:r.silent_status,matsHttpStatus:r.http_status,matsHttpEventCount:r.http_event_count},this.correlationId),r):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const r=await this.getCanonicalAuthority(e),{scopes:n,...a}=e,o=new Be(n||[]);o.appendScopes(Fs);const i={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(i.signPopToken&&e.popKid)throw G(Dy);if(this.handleExtraBrokerParams(i),i.extraParameters=i.extraParameters||{},i.extraParameters.telemetry=Mt.MATS_TELEMETRY,e.authenticationScheme===ve.POP){const l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Ps(this.browserCrypto);let d;if(i.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:i.keyId})),i.signPopToken=!1;else{const u=await P(c.generateCnf.bind(c),b.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(l,this.logger);d=u.reqCnfString,i.keyId=u.kid,i.signPopToken=!0}i.reqCnf=d}return this.addRequestSKUs(i),i}async getCanonicalAuthority(e){const r=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:r,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new pe(r);return n.validateAsUri(),n}getPrompt(e){switch(this.apiId){case be.ssoSilent:case be.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),ct.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case ct.NONE:case ct.CONSENT:case ct.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),G(Oy)}}handleExtraBrokerParams(e){var o;const r=e.extraParameters&&e.extraParameters.hasOwnProperty(Di)&&e.extraParameters.hasOwnProperty(Ui)&&e.extraParameters.hasOwnProperty(Fn);if(!e.embeddedClientId&&!r)return;let n="";const a=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ui],n=e.extraParameters[Fn]),e.extraParameters={child_client_id:n,child_redirect_uri:a},(o=this.performanceClient)==null||o.addFields({embeddedClientId:n,embeddedRedirectUri:a},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Kh(t,e,r,n,a){const o=x1({...t.auth,authority:e},r,n,a);if(mh(o,{sku:gt.MSAL_SKU,version:zn,os:"",cpu:""}),t.auth.protocolMode!==bt.OIDC&&fh(o,t.telemetry.application),r.platformBroker&&(Mk(o),a.addFields({isPlatformAuthorizeRequest:!0},r.correlationId),r.authenticationScheme===ve.POP)){const i=new Pr(n,a),l=new Ps(i);let c;r.popKid?c=i.encodeKid(r.popKid):c=(await P(l.generateCnf.bind(l),b.PopTokenGenerateCnf,n,a,r.correlationId)(r,n)).reqCnfString,gh(o,c)}return xl(o,r.correlationId,a),o}async function Vh(t,e,r,n,a){if(!r.codeChallenge)throw Ne(eh);const o=await P(Kh,b.GetStandardParams,n,a,r.correlationId)(t,e,r,n,a);return ih(o,Bu.CODE),Kx(o,r.codeChallenge,M.S256_CODE_CHALLENGE_METHOD),an(o,r.extraQueryParameters||{}),Ch(e,o,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}async function Gh(t,e,r,n,a,o){if(!n.earJwk)throw G(Ah);const i=await Kh(e,r,n,a,o);ih(i,Bu.IDTOKEN_TOKEN_REFRESHTOKEN),Vk(i,n.earJwk);const l=new Map;an(l,n.extraQueryParameters||{});const c=Ch(r,l,e.auth.encodeExtraQueryParams,n.extraQueryParameters);return ov(t,c,i)}async function qh(t,e,r,n,a,o){const i=await Kh(e,r,n,a,o);ih(i,Bu.CODE),Kx(i,n.codeChallenge,n.codeChallengeMethod||M.S256_CODE_CHALLENGE_METHOD),Gk(i,n.authorizePostBodyParameters||{});const l=new Map;an(l,n.extraQueryParameters||{});const c=Ch(r,l,e.auth.encodeExtraQueryParams,n.extraQueryParameters);return ov(t,c,i)}function ov(t,e,r){const n=t.createElement("form");return n.method="post",n.action=e,r.forEach((a,o)=>{const i=t.createElement("input");i.hidden=!0,i.name=o,i.value=a,n.appendChild(i)}),t.body.appendChild(n),n}async function iv(t,e,r,n,a,o,i,l,c,d){if(l.verbose("Account id found, calling WAM for token"),!d)throw G(Ih);const u=new Pr(l,c),h=new ri(n,a,u,l,i,n.system.navigationClient,r,c,d,e,o,t.correlationId),{userRequestState:f}=zs.parseRequestState(u,t.state);return P(h.acquireToken.bind(h),b.NativeInteractionClientAcquireToken,l,c,t.correlationId)({...t,state:f,prompt:void 0})}async function qi(t,e,r,n,a,o,i,l,c,d,u,h){if(ur.removeThrottle(i,a.auth.clientId,t),e.accountId)return P(iv,b.HandleResponsePlatformBroker,d,u,t.correlationId)(t,e.accountId,n,a,i,l,c,d,u,h);const f={...t,code:e.code||"",codeVerifier:r},m=new nv(o,i,f,d,u);return await P(m.handleCodeResponse.bind(m),b.HandleCodeResponse,d,u,t.correlationId)(e,t)}async function Wh(t,e,r,n,a,o,i,l,c,d,u){if(ur.removeThrottle(o,n.auth.clientId,t),iy(e,t.state),!e.ear_jwe)throw G(uy);if(!t.earJwk)throw G(Ah);const h=JSON.parse(await P(V1,b.DecryptEarResponse,c,d,t.correlationId)(t.earJwk,e.ear_jwe));if(h.accountId)return P(iv,b.HandleResponsePlatformBroker,c,d,t.correlationId)(t,h.accountId,r,n,o,i,l,c,d,u);const f=new Hn(n.auth.clientId,o,new Pr(c,d),c,null,null,d);f.validateTokenResponse(h);const m={code:"",state:t.state,nonce:t.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await P(f.handleServerTokenResponse.bind(f),b.HandleServerTokenResponse,c,d,t.correlationId)(h,a,Ct(),t,m,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const DS=32;async function Il(t,e,r){t.addQueueMeasurement(b.GeneratePkceCodes,r);const n=Et(US,b.GenerateCodeVerifier,e,t,r)(t,e,r),a=await P(FS,b.GenerateCodeChallengeFromVerifier,e,t,r)(n,t,e,r);return{verifier:n,challenge:a}}function US(t,e,r){try{const n=new Uint8Array(DS);return Et(H1,b.GetRandomValues,e,t,r)(n),un(n)}catch{throw G(Sh)}}async function FS(t,e,r,n){e.addQueueMeasurement(b.GenerateCodeChallengeFromVerifier,n);try{const a=await P(Ky,b.Sha256Digest,r,e,n)(t,e,n);return un(new Uint8Array(a))}catch{throw G(Sh)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Wi{constructor(e,r,n,a){this.logger=e,this.handshakeTimeoutMs=r,this.extensionId=a,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(b.NativeMessageHandlerHandshake),this.platformAuthType=Mt.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const r={method:aa.GetToken,request:e},n={channel:Mt.CHANNEL_ID,extensionId:this.extensionId,responseId:rr(),body:r};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n);const a=await new Promise((i,l)=>{this.resolvers.set(n.responseId,{resolve:i,reject:l})});return this.validatePlatformBrokerResponse(a)}static async createProvider(e,r,n){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const a=new Wi(e,r,n,Mt.PREFERRED_EXTENSION_ID);return await a.sendHandshakeRequest(),a}catch{const o=new Wi(e,r,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Mt.CHANNEL_ID,extensionId:this.extensionId,responseId:rr(),body:{method:aa.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=r=>{this.onChannelMessage(r)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((r,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:r,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(G(Py)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const r=e.data;if(!(!r.channel||r.channel!==Mt.CHANNEL_ID)&&!(r.extensionId&&r.extensionId!==this.extensionId)&&r.body.method===aa.HandshakeRequest){const n=this.handshakeResolvers.get(r.responseId);if(!n){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${r.responseId}`);return}this.logger.verbose(r.extensionId?`Extension with id: ${r.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(G(My))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const r=e.data,n=this.resolvers.get(r.responseId),a=this.handshakeResolvers.get(r.responseId);try{const o=r.body.method;if(o===aa.Response){if(!n)return;const i=r.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(i)}`),i.status!=="Success")n.reject(Gi(i.code,i.description,i.ext));else if(i.result)i.result.code&&i.result.description?n.reject(Gi(i.result.code,i.result.description,i.result.ext)):n.resolve(i.result);else throw Sd(_i,"Event does not contain result.");this.resolvers.delete(r.responseId)}else if(o===aa.HandshakeResponse){if(!a){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${r.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=r.extensionId,this.extensionVersion=r.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),a.resolve(),this.handshakeResolvers.delete(r.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):a&&a.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Sd(_i,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Mt.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Qh{constructor(e,r,n){this.logger=e,this.performanceClient=r,this.correlationId=n,this.platformAuthType=Mt.PLATFORM_DOM_PROVIDER}static async createProvider(e,r,n){var a;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(a=window.navigator)!=null&&a.platformAuthentication){const o=await window.navigator.platformAuthentication.getSupportedContracts(Mt.MICROSOFT_ENTRA_BROKERID);if(o!=null&&o.includes(Mt.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Qh(e,r,n)}}getExtensionId(){return Mt.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Mt.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const r=this.initializePlatformDOMRequest(e),n=await window.navigator.platformAuthentication.executeGetToken(r);return this.validatePlatformBrokerResponse(n)}catch(r){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),r}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:r,clientId:n,authority:a,scope:o,redirectUri:i,correlationId:l,state:c,storeInCache:d,embeddedClientId:u,extraParameters:h,...f}=e,m=this.getDOMExtraParams(f);return{accountId:r,brokerId:this.getExtensionId(),authority:a,clientId:n,correlationId:l||this.correlationId,extraParameters:{...h,...m},isSecurityTokenService:!1,redirectUri:i,scope:o,state:c,storeInCache:d,embeddedClientId:u}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const r=e;if(r.isSuccess===!1&&r.error&&r.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Gi(r.error.code,r.error.description,{error:parseInt(r.error.errorCode),protocol_error:r.error.protocolError,status:r.error.status,properties:r.error.properties})}}throw Sd(_i,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((a,[o,i])=>(a[o]=String(i),a),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function HS(t,e,r,n){t.trace("getPlatformAuthProvider called",r);const a=zS();t.trace("Has client allowed platform auth via DOM API: "+a);let o;try{a&&(o=await Qh.createProvider(t,e,r)),o||(t.trace("Platform auth via DOM API not available, checking for extension"),o=await Wi.createProvider(t,n||Zy,e))}catch(i){t.trace("Platform auth not available",i)}return o}function zS(){let t;try{return t=window[$e.SessionStorage],(t==null?void 0:t.getItem(iS))==="true"}catch{return!1}}function to(t,e,r,n){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(n)switch(n){case ve.BEARER:case ve.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class BS extends $s{constructor(e,r,n,a,o,i,l,c,d,u){super(e,r,n,a,o,i,l,d,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,r){let n;try{if(n={popupName:this.generatePopupName(e.scopes||Fs,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,r);{const o={...e,httpMethod:rv(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(o,n,r)}}catch(a){return Promise.reject(a)}}logout(e){try{this.logger.verbose("logoutPopup called");const r=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(r),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},a=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,n,a,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(r,n,a,o))}catch(r){return Promise.reject(r)}}async acquireTokenPopupAsync(e,r,n){this.logger.verbose("acquireTokenPopupAsync called");const a=await P(this.initializeAuthorizationRequest.bind(this),b.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,te.Popup);r.popup&&Xy(a.authority);const o=to(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return a.platformBroker=o,this.config.auth.protocolMode===bt.EAR?this.executeEarFlow(a,r):this.executeCodeFlow(a,r,n)}async executeCodeFlow(e,r,n){var c;const a=e.correlationId,o=this.initializeServerTelemetryManager(be.acquireTokenPopup),i=n||await P(Il,b.GeneratePkceCodes,this.logger,this.performanceClient,a)(this.performanceClient,this.logger,a),l={...e,codeChallenge:i.challenge};try{const d=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,a)({serverTelemetryManager:o,requestAuthority:l.authority,requestAzureCloudOptions:l.azureCloudOptions,requestExtraQueryParameters:l.extraQueryParameters,account:l.account});if(l.httpMethod===An.POST)return await this.executeCodeFlowWithPost(l,r,d,i.verifier);{const u=await P(Vh,b.GetAuthCodeUrl,this.logger,this.performanceClient,a)(this.config,d.authority,l,this.logger,this.performanceClient),h=this.initiateAuthRequest(u,r);this.eventHandler.emitEvent(ee.POPUP_OPENED,te.Popup,{popupWindow:h},null);const f=await this.monitorPopupForHash(h,r.popupWindowParent),m=Et(Ea,b.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await P(qi,b.HandleResponseCode,this.logger,this.performanceClient,a)(e,m,i.verifier,be.acquireTokenPopup,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(d){throw(c=r.popup)==null||c.close(),d instanceof Ce&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),d}}async executeEarFlow(e,r){const n=e.correlationId,a=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await P(Oh,b.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:o},l=r.popup||this.openPopup("about:blank",r);(await Gh(l.document,this.config,a,i,this.logger,this.performanceClient)).submit();const d=await P(this.monitorPopupForHash.bind(this),b.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(l,r.popupWindowParent),u=Et(Ea,b.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);return P(Wh,b.HandleResponseEar,this.logger,this.performanceClient,n)(i,u,be.acquireTokenPopup,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,r,n,a){const o=e.correlationId,i=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,o)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),l=r.popup||this.openPopup("about:blank",r);(await qh(l.document,this.config,i,e,this.logger,this.performanceClient)).submit();const d=await P(this.monitorPopupForHash.bind(this),b.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(l,r.popupWindowParent),u=Et(Ea,b.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);return P(qi,b.HandleResponseCode,this.logger,this.performanceClient,o)(e,u,a,be.acquireTokenPopup,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,r,n,a){var i,l,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ee.LOGOUT_START,te.Popup,e);const o=this.initializeServerTelemetryManager(be.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const d=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if((i=e.account)!=null&&i.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===bt.OIDC){if(this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Popup,e),a){const f={apiId:be.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=pe.getAbsoluteUrl(a,kr());await this.navigationClient.navigateInternal(m,f)}(l=r.popup)==null||l.close();return}}const u=d.getLogoutUri(e);this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Popup,e);const h=this.openPopup(u,r);if(this.eventHandler.emitEvent(ee.POPUP_OPENED,te.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,r.popupWindowParent).catch(()=>{}),a){const f={apiId:be.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=pe.getAbsoluteUrl(a,kr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(d){throw(c=r.popup)==null||c.close(),d instanceof Ce&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,te.Popup,null,d),this.eventHandler.emitEvent(ee.LOGOUT_END,te.Popup),d}this.eventHandler.emitEvent(ee.LOGOUT_END,te.Popup)}initiateAuthRequest(e,r){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,r);throw this.logger.error("Navigate url is empty"),G(Sl)}monitorPopupForHash(e,r){return new Promise((n,a)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),a(G(Za));return}let i="";try{i=e.location.href}catch{}if(!i||i==="about:blank")return;clearInterval(o);let l="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===pl.QUERY?l=e.location.search:l=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(l)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,r)})}openPopup(e,r){try{let n;if(r.popup?(n=r.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):typeof r.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,r)),!n)throw G(yy);return n.focus&&n.focus(),this.currentWindow=n,r.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),G(xy)}}openSizedPopup(e,{popupName:r,popupWindowAttributes:n,popupWindowParent:a}){var m,C,y,A;const o=a.screenLeft?a.screenLeft:a.screenX,i=a.screenTop?a.screenTop:a.screenY,l=a.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=a.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(m=n.popupSize)==null?void 0:m.width,u=(C=n.popupSize)==null?void 0:C.height,h=(y=n.popupPosition)==null?void 0:y.top,f=(A=n.popupPosition)==null?void 0:A.left;return(!d||d<0||d>l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=gt.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=gt.POPUP_HEIGHT),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-gt.POPUP_HEIGHT/2+i)),(!f||f<0||f>l)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,l/2-gt.POPUP_WIDTH/2+o)),a.open(e,r,`width=${d}, height=${u}, top=${h}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,r){e.close(),r.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,r){return`${gt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${r}.${this.correlationId}`}generateLogoutPopupName(e){const r=e.account&&e.account.homeAccountId;return`${gt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${r}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function $S(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class KS extends $s{constructor(e,r,n,a,o,i,l,c,d,u){super(e,r,n,a,o,i,l,d,u),this.nativeStorage=c}async acquireToken(e){const r=await P(this.initializeAuthorizationRequest.bind(this),b.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,te.Redirect);r.platformBroker=to(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const n=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ee.RESTORE_FROM_BFCACHE,te.Redirect))},a=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${a}`),this.browserStorage.setTemporaryCache(Le.ORIGIN_URI,a,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===bt.EAR?await this.executeEarFlow(r):await this.executeCodeFlow(r,e.onRedirectNavigate)}catch(o){throw o instanceof Ce&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),o}}async executeCodeFlow(e,r){const n=e.correlationId,a=this.initializeServerTelemetryManager(be.acquireTokenRedirect),o=await P(Il,b.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(i,o.verifier);try{if(i.httpMethod===An.POST)return await this.executeCodeFlowWithPost(i);{const l=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),c=await P(Vh,b.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,l.authority,i,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,r)}}catch(l){throw l instanceof Ce&&(l.setCorrelationId(this.correlationId),a.cacheFailedRequest(l)),l}}async executeEarFlow(e){const r=e.correlationId,n=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=await P(Oh,b.GenerateEarKey,this.logger,this.performanceClient,r)(),o={...e,earJwk:a};return this.browserStorage.cacheAuthorizeRequest(o),(await Gh(document,this.config,n,o,this.logger,this.performanceClient)).submit(),new Promise((l,c)=>{setTimeout(()=>{c(G(Ki,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const r=e.correlationId,n=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await qh(document,this.config,n,e,this.logger,this.performanceClient)).submit(),new Promise((o,i)=>{setTimeout(()=>{i(G(Ki,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",r,n,a){const o=this.initializeServerTelemetryManager(be.handleRedirectPromise);try{const[i,l]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),$S()!=="back_forward"?a.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(Le.ORIGIN_URI,!0)||M.EMPTY_STRING,d=Rf(c),u=Rf(window.location.href);if(d===u&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&q1(c),await this.handleResponse(i,r,n,o);if(this.config.auth.navigateToLoginRequestUrl){if(!Fh()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Le.URL_HASH,l,!0);const h={apiId:be.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(!c||c==="null"){const m=Q1();this.browserStorage.setTemporaryCache(Le.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=await this.navigationClient.navigateInternal(m,h)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),f=await this.navigationClient.navigateInternal(c,h);if(!f)return await this.handleResponse(i,r,n,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,r,n,o);return null}catch(i){throw i instanceof Ce&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let r=e;r||(this.config.auth.OIDCOptions.serverResponseType===pl.QUERY?r=window.location.search:r=window.location.hash);let n=Pi(r);if(n){try{TS(n,this.browserCrypto,te.Redirect)}catch(o){return o instanceof Ce&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return Qy(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,r]}const a=this.browserStorage.getTemporaryCache(Le.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Le.URL_HASH)),a&&(n=Pi(a),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,a]):[null,""]}async handleResponse(e,r,n,a){if(!e.state)throw G(Th);if(e.ear_jwe){const l=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r.correlationId)({requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account});return P(Wh,b.HandleResponseEar,this.logger,this.performanceClient,r.correlationId)(r,e,be.acquireTokenRedirect,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const i=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:r.authority});return P(qi,b.HandleResponseCode,this.logger,this.performanceClient,r.correlationId)(r,e,n,be.acquireTokenRedirect,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,r){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:be.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=r||this.config.auth.onRedirectNavigate;if(typeof a=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),a(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),G(Sl)}async logout(e){var a;this.logger.verbose("logoutRedirect called");const r=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(be.logout);try{this.eventHandler.emitEvent(ee.LOGOUT_START,te.Redirect,e),await this.clearCacheOnLogout(this.correlationId,r.account);const o={apiId:be.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(i.authority.protocolMode===bt.OIDC)try{i.authority.endSessionEndpoint}catch{if((a=r.account)!=null&&a.homeAccountId){this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Redirect,r);return}}const l=i.getLogoutUri(r);if(this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Redirect,r),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(l)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,$r.SIGNOUT),await this.navigationClient.navigateExternal(l,o);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,$r.SIGNOUT),await this.navigationClient.navigateExternal(l,o);return}}catch(o){throw o instanceof Ce&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,te.Redirect,null,o),this.eventHandler.emitEvent(ee.LOGOUT_END,te.Redirect),o}this.eventHandler.emitEvent(ee.LOGOUT_END,te.Redirect)}getRedirectStartPage(e){const r=e||window.location.href;return pe.getAbsoluteUrl(r,kr())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function VS(t,e,r,n,a){if(e.addQueueMeasurement(b.SilentHandlerInitiateAuthRequest,n),!t)throw r.info("Navigate url is empty"),G(Sl);return a?P(WS,b.SilentHandlerLoadFrame,r,e,n)(t,a,e,n):Et(QS,b.SilentHandlerLoadFrameSync,r,e,n)(t)}async function GS(t,e,r,n,a){const o=_l();if(!o.contentDocument)throw"No document associated with iframe!";return(await qh(o.contentDocument,t,e,r,n,a)).submit(),o}async function qS(t,e,r,n,a){const o=_l();if(!o.contentDocument)throw"No document associated with iframe!";return(await Gh(o.contentDocument,t,e,r,n,a)).submit(),o}async function lp(t,e,r,n,a,o,i){return n.addQueueMeasurement(b.SilentHandlerMonitorIframeForHash,o),new Promise((l,c)=>{e<Ld&&a.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Ld}ms). This may result in timeouts.`);const d=window.setTimeout(()=>{window.clearInterval(u),c(G(vy))},e),u=window.setInterval(()=>{let h="";const f=t.contentWindow;try{h=f?f.location.href:""}catch{}if(!h||h==="about:blank")return;let m="";f&&(i===pl.QUERY?m=f.location.search:m=f.location.hash),window.clearTimeout(d),window.clearInterval(u),l(m)},r)}).finally(()=>{Et(YS,b.RemoveHiddenIframe,a,n,o)(t)})}function WS(t,e,r,n){return r.addQueueMeasurement(b.SilentHandlerLoadFrame,n),new Promise((a,o)=>{const i=_l();window.setTimeout(()=>{if(!i){o("Unable to load iframe");return}i.src=t,a(i)},e)})}function QS(t){const e=_l();return e.src=t,e}function _l(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function YS(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class JS extends $s{constructor(e,r,n,a,o,i,l,c,d,u,h){super(e,r,n,a,o,i,c,u,h),this.apiId=l,this.nativeStorage=d}async acquireToken(e){this.performanceClient.addQueueMeasurement(b.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const r={...e};r.prompt?r.prompt!==ct.NONE&&r.prompt!==ct.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${r.prompt} with ${ct.NONE}`),r.prompt=ct.NONE):r.prompt=ct.NONE;const n=await P(this.initializeAuthorizationRequest.bind(this),b.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(r,te.Silent);return n.platformBroker=to(this.config,this.logger,this.platformAuthProvider,n.authenticationScheme),Xy(n.authority),this.config.auth.protocolMode===bt.EAR?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let r;const n=this.initializeServerTelemetryManager(this.apiId);try{return r=await P(this.createAuthCodeClient.bind(this),b.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await P(this.silentTokenHelper.bind(this),b.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(r,e)}catch(a){if(a instanceof Ce&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),!r||!(a instanceof Ce)||a.errorCode!==gt.INVALID_GRANT_ERROR)throw a;return this.performanceClient.addFields({retryError:a.errorCode},this.correlationId),await P(this.silentTokenHelper.bind(this),b.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(r,e)}}async executeEarFlow(e){const r=e.correlationId,n=await P(this.getDiscoveredAuthority.bind(this),b.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=await P(Oh,b.GenerateEarKey,this.logger,this.performanceClient,r)(),o={...e,earJwk:a},i=await P(qS,b.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,n,o,this.logger,this.performanceClient),l=this.config.auth.OIDCOptions.serverResponseType,c=await P(lp,b.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,l),d=Et(Ea,b.DeserializeResponse,this.logger,this.performanceClient,r)(c,l,this.logger);return P(Wh,b.HandleResponseEar,this.logger,this.performanceClient,r)(o,d,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(G(Al))}async silentTokenHelper(e,r){const n=r.correlationId;this.performanceClient.addQueueMeasurement(b.SilentIframeClientTokenHelper,n);const a=await P(Il,b.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...r,codeChallenge:a.challenge};let i;if(r.httpMethod===An.POST)i=await P(GS,b.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient);else{const u=await P(Vh,b.GetAuthCodeUrl,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient);i=await P(VS,b.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(u,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait)}const l=this.config.auth.OIDCOptions.serverResponseType,c=await P(lp,b.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,l),d=Et(Ea,b.DeserializeResponse,this.logger,this.performanceClient,n)(c,l,this.logger);return P(qi,b.HandleResponseCode,this.logger,this.performanceClient,n)(r,d,a.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class XS extends $s{async acquireToken(e){this.performanceClient.addQueueMeasurement(b.SilentRefreshClientAcquireToken,e.correlationId);const r=await P($h,b.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...r};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const a=this.initializeServerTelemetryManager(be.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:a,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return P(o.acquireTokenByRefreshToken.bind(o),b.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch(i=>{throw i.setCorrelationId(this.correlationId),a.cacheFailedRequest(i),i})}logout(){return Promise.reject(G(Al))}async createRefreshTokenClient(e){const r=await P(this.getClientConfiguration.bind(this),b.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new f1(r,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ZS{constructor(e,r,n,a){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=r,this.logger=n,this.cryptoObj=a}async loadExternalTokens(e,r,n){if(!this.isBrowserEnvironment)throw G(Tl);const a=e.correlationId||rr(),o=r.id_token?Hs(r.id_token,Jt):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=e.authority?new rt(rt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||rr()):void 0,c=await this.loadAccount(e,n.clientInfo||r.client_info||"",a,o,l),d=await this.loadIdToken(r,c.homeAccountId,c.environment,c.realm,a),u=await this.loadAccessToken(e,r,c.homeAccountId,c.environment,c.realm,n,a),h=await this.loadRefreshToken(r,c.homeAccountId,c.environment,a);return this.generateAuthenticationResult(e,{account:c,idToken:d,accessToken:u,refreshToken:h},o,l)}async loadAccount(e,r,n,a,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const d=er.createFromAccountInfo(e.account);return await this.storage.setAccount(d,n),d}else if(!o||!r&&!a)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),G(Ey);const i=er.generateHomeAccountId(r,o.authorityType,this.logger,this.cryptoObj,a),l=a==null?void 0:a.tid,c=bh(this.storage,o,i,Jt,n,a,r,o.hostnameAndPort,l,void 0,void 0,this.logger);return await this.storage.setAccount(c,n),c}async loadIdToken(e,r,n,a,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=wl(r,n,e.id_token,this.config.auth.clientId,a);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,r,n,a,o,i,l){if(r.access_token)if(r.expires_in){if(!r.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=r.scope?Be.fromString(r.scope):new Be(e.scopes),d=i.expiresOn||r.expires_in+Ct(),u=i.extendedExpiresOn||(r.ext_expires_in||r.expires_in)+Ct(),h=bl(n,a,r.access_token,this.config.auth.clientId,o,c.printScopes(),d,u,Jt);return await this.storage.setAccessTokenCredential(h,l),h}async loadRefreshToken(e,r,n,a){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Zx(r,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,a),o}generateAuthenticationResult(e,r,n,a){var u,h,f;let o="",i=[],l=null,c;r!=null&&r.accessToken&&(o=r.accessToken.secret,i=Be.fromString(r.accessToken.target).asArray(),l=ks(r.accessToken.expiresOn),c=ks(r.accessToken.extendedExpiresOn));const d=r.account;return{authority:a?a.canonicalAuthority:"",uniqueId:r.account.localAccountId,tenantId:r.account.realm,scopes:i,account:d.getAccountInfo(),idToken:((u=r.idToken)==null?void 0:u.secret)||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:l,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((h=r.refreshToken)==null?void 0:h.familyId)||"",tokenType:((f=r==null?void 0:r.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class eA extends oy{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class tA extends $s{constructor(e,r,n,a,o,i,l,c,d,u){super(e,r,n,a,o,i,c,d,u),this.apiId=l}async acquireToken(e){if(!e.code)throw G(jy);const r=await P(this.initializeAuthorizationRequest.bind(this),b.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,te.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const a={...r,code:e.code},o=await P(this.getClientConfiguration.bind(this),b.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),i=new eA(o);this.logger.verbose("Auth code client created");const l=new nv(i,this.browserStorage,a,this.logger,this.performanceClient);return await P(l.handleCodeResponseFromServer.bind(l),b.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r,!1)}catch(a){throw a instanceof Ce&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),a}}logout(){return Promise.reject(G(Al))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function rA(t,e,r){var i;const n=((i=window.msal)==null?void 0:i.clientIds)||[],a=n.length,o=n.filter(l=>l===t).length;o>1&&r.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:a,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function ir(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Fo(t,e){try{Hh(t)}catch(r){throw e.end({success:!1},r),r}}class Rl{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Pr(this.logger,this.performanceClient):Ri,this.eventHandler=new kS(this.logger),this.browserStorage=this.isBrowserEnvironment?new Hd(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,a1(this.config.auth)):pS(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const r={cacheLocation:$e.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:$e.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Hd(this.config.auth.clientId,r,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new ZS(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,r){const n=new Rl(e);return await n.initialize(r),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,r){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ee.INITIALIZE_END);return}const n=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),a=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(b.InitializeClientApplication,n);if(this.eventHandler.emitEvent(ee.INITIALIZE_START),!r)try{this.logMultipleInstances(o)}catch{}if(await P(this.browserStorage.initialize.bind(this.browserStorage),b.InitializeCache,this.logger,this.performanceClient,n)(n),a)try{this.platformAuthProvider=await HS(this.logger,this.performanceClient,n,this.config.system.nativeBrokerHandshakeTimeout)}catch(i){this.logger.verbose(i)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Et(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),b.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,n)(n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(ee.INITIALIZE_END),o.end({allowPlatformBroker:a,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Jy(this.initialized),this.isBrowserEnvironment){const r=e||"";let n=this.redirectResponse.get(r);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(r,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===$r.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),a=this.browserStorage.getCachedNativeRequest(),o=a&&this.platformAuthProvider&&!e;let i;this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_START,te.Redirect);let l;try{if(o&&this.platformAuthProvider){i=this.performanceClient.startMeasurement(b.AcquireTokenRedirect,(a==null?void 0:a.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),i.add({isPlatformBrokerRequest:!0});const d=new ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,be.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,a.accountId,this.nativeInternalStorage,a.correlationId);l=P(d.handleRedirectPromise.bind(d),b.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{const[d,u]=this.browserStorage.getCachedRequest(),h=d.correlationId;i=this.performanceClient.startMeasurement(b.AcquireTokenRedirect,h),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const f=this.createRedirectClient(h);l=P(f.handleRedirectPromise.bind(f),b.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,i.event.correlationId)(e,d,u,i)}}catch(d){throw this.browserStorage.resetRequestCache(),d}return l.then(d=>(d?(this.browserStorage.resetRequestCache(),n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ee.LOGIN_SUCCESS,te.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:ir(d.account)})):i.event.errorCode?i.end({success:!1}):i.discard(),this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,te.Redirect),d)).catch(d=>{this.browserStorage.resetRequestCache();const u=d;throw n.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Redirect,null,u):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Redirect,null,u),this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,te.Redirect),i.end({success:!1},u),d})}async acquireTokenRedirect(e){const r=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",r);const n=this.performanceClient.startMeasurement(b.AcquireTokenPreRedirect,r);n.add({accountType:ir(e.account),scenarioId:e.scenarioId});const a=e.onRedirectNavigate;if(a)e.onRedirectNavigate=i=>{const l=typeof a=="function"?a(i):void 0;return n.add({navigateCallbackResult:l!==!1}),n.event=n.end({success:!0})||n.event,l};else{const i=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=l=>{const c=typeof i=="function"?i(l):void 0;return n.add({navigateCallbackResult:c!==!1}),n.event=n.end({success:!0})||n.event,c}}const o=this.getAllAccounts().length>0;try{Xf(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,$r.SIGNIN),o?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Redirect,e):this.eventHandler.emitEvent(ee.LOGIN_START,te.Redirect,e);let i;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?i=new ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,be.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,r).acquireTokenRedirect(e,n).catch(c=>{if(n.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof hr&&es(c))return this.platformAuthProvider=void 0,this.createRedirectClient(r).acquireToken(e);if(c instanceof tr)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(r).acquireToken(e);throw c}):i=this.createRedirectClient(r).acquireToken(e),await i}catch(i){throw this.browserStorage.resetRequestCache(),n.event.status===2?this.performanceClient.startMeasurement(b.AcquireTokenRedirect,r).end({success:!1},i):n.end({success:!1},i),o?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Redirect,null,i):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Redirect,null,i),i}}acquireTokenPopup(e){const r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(b.AcquireTokenPopup,r);n.add({scenarioId:e.scenarioId,accountType:ir(e.account)});try{this.logger.verbose("acquireTokenPopup called",r),Fo(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,$r.SIGNIN)}catch(l){return Promise.reject(l)}const a=this.getAllAccounts();a.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Popup,e):this.eventHandler.emitEvent(ee.LOGIN_START,te.Popup,e);let o;const i=this.getPreGeneratedPkceCodes(r);return this.canUsePlatformBroker(e)?(n.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative({...e,correlationId:r},be.acquireTokenPopup).then(l=>(n.end({success:!0,accountType:ir(l.account)}),l)).catch(l=>{if(n.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l instanceof hr&&es(l))return this.platformAuthProvider=void 0,this.createPopupClient(r).acquireToken(e,i);if(l instanceof tr)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(r).acquireToken(e,i);throw l})):o=this.createPopupClient(r).acquireToken(e,i),o.then(l=>(a.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ee.LOGIN_SUCCESS,te.Popup,l):this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Popup,l),n.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:ir(l.account)}),l)).catch(l=>(a.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Popup,null,l):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Popup,null,l),n.end({success:!1},l),Promise.reject(l))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,i,l;const r=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:r};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(b.SsoSilent,r),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:ir(e.account)}),Fo(this.initialized,this.ssoSilentMeasurement),(i=this.ssoSilentMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(ee.SSO_SILENT_START,te.Silent,n);let a;return this.canUsePlatformBroker(n)?((l=this.ssoSilentMeasurement)==null||l.add({isPlatformBrokerRequest:!0}),a=this.acquireTokenNative(n,be.ssoSilent).catch(c=>{var d;if((d=this.ssoSilentMeasurement)==null||d.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof hr&&es(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw c})):a=this.createSilentIframeClient(n.correlationId).acquireToken(n),a.then(c=>{var d;return this.eventHandler.emitEvent(ee.SSO_SILENT_SUCCESS,te.Silent,c),(d=this.ssoSilentMeasurement)==null||d.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:ir(c.account)}),c}).catch(c=>{var d;throw this.eventHandler.emitEvent(ee.SSO_SILENT_FAILURE,te.Silent,null,c),(d=this.ssoSilentMeasurement)==null||d.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const r=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",r);const n=this.performanceClient.startMeasurement(b.AcquireTokenByCode,r);Fo(this.initialized,n),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_START,te.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw G(_y);if(e.code){const a=e.code;let o=this.hybridAuthCodeResponses.get(a);return o?(this.logger.verbose("Existing acquireTokenByCode request found",r),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",r),o=this.acquireTokenByCodeAsync({...e,correlationId:r}).then(i=>(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_SUCCESS,te.Silent,i),this.hybridAuthCodeResponses.delete(a),n.end({success:!0,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length,accountType:ir(i.account)}),i)).catch(i=>{throw this.hybridAuthCodeResponses.delete(a),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,te.Silent,null,i),n.end({success:!1},i),i}),this.hybridAuthCodeResponses.set(a,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){n.add({isPlatformBrokerRequest:!0});const a=await this.acquireTokenNative({...e,correlationId:r},be.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof hr&&es(o)&&(this.platformAuthProvider=void 0),n.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o});return n.end({accountType:ir(a.account),success:!0}),a}else throw G(Ry);else throw G(Iy)}catch(a){throw this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,te.Silent,null,a),n.end({success:!1},a),a}}async acquireTokenByCodeAsync(e){var a;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(b.AcquireTokenByCodeAsync,e.correlationId),(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var i;return(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.end({success:!0,fromCache:o.fromCache}),o}).catch(o=>{var i;throw(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,r){switch(this.performanceClient.addQueueMeasurement(b.AcquireTokenFromCache,e.correlationId),r){case at.Default:case at.AccessToken:case at.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(e.correlationId);return P(n.acquireToken.bind(n),b.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw U(sn)}}async acquireTokenByRefreshToken(e,r){switch(this.performanceClient.addQueueMeasurement(b.AcquireTokenByRefreshToken,e.correlationId),r){case at.Default:case at.AccessTokenAndRefreshToken:case at.RefreshToken:case at.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(e.correlationId);return P(n.acquireToken.bind(n),b.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw U(sn)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(b.AcquireTokenBySilentIframe,e.correlationId);const r=this.createSilentIframeClient(e.correlationId);return P(r.acquireToken.bind(r),b.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const r=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",r),this.logoutRedirect({correlationId:r,...e})}async logoutRedirect(e){const r=this.getRequestCorrelationId(e);return Xf(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,$r.SIGNOUT),this.createRedirectClient(r).logout(e)}logoutPopup(e){try{const r=this.getRequestCorrelationId(e);return Hh(this.initialized),this.browserStorage.setInteractionInProgress(!0,$r.SIGNOUT),this.createPopupClient(r).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(r){return Promise.reject(r)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const r=this.getRequestCorrelationId(e);return this.createSilentCacheClient(r).logout(e)}getAllAccounts(e){const r=this.getRequestCorrelationId();return gS(this.logger,this.browserStorage,this.isBrowserEnvironment,r,e)}getAccount(e){const r=this.getRequestCorrelationId();return xS(e,this.logger,this.browserStorage,r)}getAccountByUsername(e){const r=this.getRequestCorrelationId();return yS(e,this.logger,this.browserStorage,r)}getAccountByHomeId(e){const r=this.getRequestCorrelationId();return vS(e,this.logger,this.browserStorage,r)}getAccountByLocalId(e){const r=this.getRequestCorrelationId();return wS(e,this.logger,this.browserStorage,r)}setActiveAccount(e){const r=this.getRequestCorrelationId();bS(e,this.browserStorage,r)}getActiveAccount(){const e=this.getRequestCorrelationId();return CS(this.browserStorage,e)}async hydrateCache(e,r){this.logger.verbose("hydrateCache called");const n=er.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,r)):this.browserStorage.hydrateCache(e,r)}async acquireTokenNative(e,r,n,a){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw G(Ih);return new ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,r,this.performanceClient,this.platformAuthProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,a)}canUsePlatformBroker(e,r){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!to(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case ct.NONE:case ct.CONSENT:case ct.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!r&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const r=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return r&&r.nativeAccountId||""}createPopupClient(e){return new BS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new KS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new JS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,be.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new av(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new XS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new tA(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,be.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,r){return this.eventHandler.addEventCallback(e,r)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Yy(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==$e.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==$e.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,r){this.browserStorage.setWrapperMetadata(e,r)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?rr():M.EMPTY_STRING}async loginRedirect(e){const r=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",r),this.acquireTokenRedirect({correlationId:r,...e||qf})}loginPopup(e){const r=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup({correlationId:r,...e||qf})}async acquireTokenSilent(e){const r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(b.AcquireTokenSilent,r);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Fo(this.initialized,n),this.logger.verbose("acquireTokenSilent called",r);const a=e.account||this.getActiveAccount();if(!a)throw G(Ny);return n.add({accountType:ir(a)}),this.acquireTokenSilentDeduped(e,a,r).then(o=>(n.end({success:!0,fromCache:o.fromCache,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),{...o,state:e.state,correlationId:r})).catch(o=>{throw o instanceof Ce&&o.setCorrelationId(r),n.end({success:!1},o),o})}async acquireTokenSilentDeduped(e,r,n){const a=Cl(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},r.homeAccountId),o=JSON.stringify(a),i=this.activeSilentTokenRequests.get(o);if(typeof i>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const l=P(this.acquireTokenSilentAsync.bind(this),b.AcquireTokenSilentAsync,this.logger,this.performanceClient,n)({...e,correlationId:n},r);return this.activeSilentTokenRequests.set(o,l),l.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),i}async acquireTokenSilentAsync(e,r){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(b.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const a=await P(SS,b.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,r,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||at.Default;return this.acquireTokenSilentNoIframe(a,o).catch(async l=>{if(nA(l,o))if(this.activeIframeRequest)if(o!==at.Skip){const[d,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,a.correlationId);const h=this.performanceClient.startMeasurement(b.AwaitConcurrentIframe,a.correlationId);h.add({awaitIframeCorrelationId:u});const f=await d;if(h.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,a.correlationId),this.acquireTokenSilentNoIframe(a,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),l}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",a.correlationId),P(this.acquireTokenBySilentIframe.bind(this),b.AcquireTokenBySilentIframe,this.logger,this.performanceClient,a.correlationId)(a);else{let d;return this.activeIframeRequest=[new Promise(u=>{d=u}),a.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",a.correlationId),P(this.acquireTokenBySilentIframe.bind(this),b.AcquireTokenBySilentIframe,this.logger,this.performanceClient,a.correlationId)(a).then(u=>(d(!0),u)).catch(u=>{throw d(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw l}).then(l=>(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Silent,l),e.correlationId&&this.performanceClient.addFields({fromCache:l.fromCache},e.correlationId),l)).catch(l=>{throw this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Silent,null,l),l}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,r){return to(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,be.acquireTokenSilent_silentFlow,e.account.nativeAccountId,r).catch(async n=>{throw this.performanceClient.addFields({brokerErrorName:n.name,brokerErrorCode:n.errorCode},e.correlationId),n instanceof hr&&es(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,U(sn)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),r===at.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),P(this.acquireTokenFromCache.bind(this),b.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,r).catch(n=>{if(r===at.AccessToken)throw n;return this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_NETWORK_START,te.Silent,e),P(this.acquireTokenByRefreshToken.bind(this),b.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,r)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await P(Il,b.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const r=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${r?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!r},e),r}logMultipleInstances(e){const r=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(r),rA(r,e,this.logger)}}function nA(t,e){const r=!(t instanceof tr&&t.subError!==kl),n=t.errorCode===gt.INVALID_GRANT_ERROR||t.errorCode===sn,a=r&&n||t.errorCode===zi||t.errorCode===vh,o=P1.includes(e);return a&&o}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function sA(t,e){const r=new Bn(t);return await r.initialize(),Rl.createController(r,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Yh{static async createPublicClientApplication(e){const r=await sA(e);return new Yh(e,r)}constructor(e,r){this.isBroker=!1,this.controller=r||new Rl(new Bn(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,r){return this.controller.addEventCallback(e,r)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,r){return this.controller.initializeWrapperLibrary(e,r)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,r){return this.controller.hydrateCache(e,r)}clearCache(e){return this.controller.clearCache(e)}}const aA="modulepreload",oA=function(t){return"/"+t},cp={},iA=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=oA(c),c in cp)return;cp[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":aA,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},lv="your-google-client-id",Jh="613e41ad-ed10-491c-8788-b42f488aaa29",Xh="53be55ec-4183-4a38-8c83-8e6e12e2318a",cv="your-yahoo-client-id",dv={auth:{clientId:Jh,authority:`https://login.microsoftonline.com/${Xh}`,redirectUri:"https://aiva-chat-app.azurewebsites.net",postLogoutRedirectUri:"https://aiva-chat-app.azurewebsites.net"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(t,e,r)=>{if(!r)switch(t){case 0:console.error("[MSAL Error]",e);break;case 1:console.warn("[MSAL Warning]",e);break;case 2:console.info("[MSAL Info]",e);break;case 3:console.debug("[MSAL Debug]",e);break}},piiLoggingEnabled:!1,logLevel:2}}},dt=new Yh(dv),bn={client_id:lv,redirect_uri:"http://localhost:5173/auth/google/callback",scope:"openid email profile",response_type:"code",access_type:"offline",prompt:"consent"},zd={scopes:["openid","profile","email","User.Read","Directory.Read.All","RoleManagement.Read.Directory"],prompt:"select_account"},Bd={scopes:["openid","profile","email","User.Read","Directory.Read.All","RoleManagement.Read.Directory"],prompt:"select_account"},uv=()=>{const t="https://accounts.google.com/o/oauth2/v2/auth",e=new URLSearchParams({client_id:bn.client_id,redirect_uri:bn.redirect_uri,scope:bn.scope,response_type:bn.response_type,access_type:bn.access_type,prompt:bn.prompt});return`${t}?${e.toString()}`},hv=()=>{const t="https://api.login.yahoo.com/oauth2/request_auth",e=new URLSearchParams({client_id:cv,redirect_uri:"http://localhost:5173/auth/yahoo/callback",response_type:"code",scope:"openid email profile"});return`${t}?${e.toString()}`},uo=t=>window.open("about:blank",t,"width=500,height=600,scrollbars=yes,resizable=yes"),Zh=(t,e)=>new Promise((r,n)=>{if(!t){n(new Error("Popup blocked"));return}t.location.href=e;const a=setInterval(()=>{t.closed&&(clearInterval(a),n(new Error("Authentication cancelled")))},1e3),o=i=>{i.origin===window.location.origin&&(i.data.type==="OAUTH_SUCCESS"?(clearInterval(a),window.removeEventListener("message",o),t.close(),r(i.data.user)):i.data.type==="OAUTH_ERROR"&&(clearInterval(a),window.removeEventListener("message",o),t.close(),n(new Error(i.data.error))))};window.addEventListener("message",o)}),em=async t=>{try{const e=uv(),r=t||uo("google-login");if(!r)throw new Error("Popup blocked");return await Zh(r,e)}catch(e){throw console.error("Google login error:",e),e}},mv=async t=>{var e;try{console.log("Checking user roles...");const r=await fetch("https://graph.microsoft.com/v1.0/me/memberOf",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)return console.error("Failed to fetch user roles:",r.status,r.statusText),!1;const n=await r.json();console.log("User roles data:",n);const a=(e=n.value)==null?void 0:e.some(o=>{var i;return o.displayName==="AI Administrator"||o.roleName==="AI Administrator"||((i=o.description)==null?void 0:i.includes("AI Administrator"))});return console.log("User has AI Administrator role:",a),a}catch(r){return console.error("Error checking user roles:",r),!1}},lA=async t=>{try{console.log("Starting Microsoft admin login..."),dt.getActiveAccount()||(await dt.initialize(),console.log("MSAL initialized")),t&&t.close(),console.log("Attempting MSAL popup login with admin request:",Bd);const e=await dt.loginPopup(Bd);if(console.log("MSAL admin login response:",e),e&&e.account&&e.accessToken){if(dt.setActiveAccount(e.account),console.log("Microsoft admin account received:",e.account),!await mv(e.accessToken))throw new Error('Access denied. You must have the "AI Administrator" role to access the admin portal.');const n=e.account,a={id:n.localAccountId||n.homeAccountId,name:n.name||n.username||"Microsoft Admin",email:n.username||n.environment,picture:null,tenantId:n.tenantId,provider:"microsoft",roles:["AI Administrator"],accessToken:e.accessToken};if(console.log("Extracted admin user data:",a),!a.email)throw console.error("No email found in Microsoft admin account"),new Error("Unable to get email from Microsoft account. Please ensure your account has an email address.");return console.log("Microsoft admin login successful:",a),a}else throw console.error("No account information in MSAL admin response"),new Error("No account information received from Microsoft")}catch(e){if(console.error("Microsoft admin login error details:",e),e instanceof Error){if(console.error("Error message:",e.message),console.error("Error stack:",e.stack),e.message.includes("user_cancelled")||e.message.includes("User cancelled"))throw new Error("Login was cancelled by the user");if(e.message.includes("popup_window_error")||e.message.includes("popup"))throw new Error("Popup was blocked. Please allow popups for this site.");if(e.message.includes("consent_required"))throw new Error("Additional permissions required. Please contact your administrator.");if(e.message.includes("interaction_required"))throw new Error("User interaction required. Please try logging in again.");if(e.message.includes("AI Administrator"))throw e}throw new Error(`Microsoft admin authentication failed: ${e instanceof Error?e.message:"Unknown error"}`)}},tm=async t=>{try{console.log("Starting Microsoft login..."),dt.getActiveAccount()||(await dt.initialize(),console.log("MSAL initialized")),console.log("Attempting MSAL popup login with request:",zd);const e=await dt.loginPopup(zd);if(console.log("MSAL login response:",e),e&&e.account){dt.setActiveAccount(e.account),console.log("Microsoft account received:",e.account);const r=e.account,n={id:r.localAccountId||r.homeAccountId,name:r.name||r.username||"Microsoft User",email:r.username||r.environment,picture:null,tenantId:r.tenantId,provider:"microsoft"};if(console.log("Extracted user data:",n),!n.email)throw console.error("No email found in Microsoft account"),new Error("Unable to get email from Microsoft account. Please ensure your account has an email address.");return console.log("Microsoft login successful:",n),n}else throw console.error("No account information in MSAL response"),new Error("No account information received from Microsoft")}catch(e){if(console.error("Microsoft login error details:",e),e instanceof Error){if(console.error("Error message:",e.message),console.error("Error stack:",e.stack),e.message.includes("user_cancelled")||e.message.includes("User cancelled"))throw new Error("Login was cancelled by the user");if(e.message.includes("popup_window_error")||e.message.includes("popup"))throw new Error("Popup was blocked. Please allow popups for this site.");if(e.message.includes("consent_required"))throw new Error("Additional permissions required. Please contact your administrator.");if(e.message.includes("interaction_required"))throw new Error("User interaction required. Please try logging in again.")}throw new Error(`Microsoft authentication failed: ${e instanceof Error?e.message:"Unknown error"}`)}},fv=async()=>{try{await dt.logoutPopup({postLogoutRedirectUri:window.location.origin,mainWindowRedirectUri:window.location.origin})}catch(t){console.error("Microsoft logout error:",t),dt.clearCache()}},Pl=()=>dt.getAllAccounts().length>0,rm=()=>{const t=dt.getActiveAccount();return t?{id:t.localAccountId,name:t.name||t.username,email:t.username,picture:null,tenantId:t.tenantId,provider:"microsoft"}:null},nm=async t=>{try{const e=hv(),r=t||uo("yahoo-login");if(!r)throw new Error("Popup blocked");return await Zh(r,e)}catch(e){throw console.error("Yahoo login error:",e),e}},cA=Object.freeze(Object.defineProperty({__proto__:null,GOOGLE_CLIENT_ID:lv,MICROSOFT_CLIENT_ID:Jh,MICROSOFT_TENANT_ID:Xh,YAHOO_CLIENT_ID:cv,checkUserRole:mv,createOAuthPopup:uo,getCurrentMicrosoftUser:rm,getGoogleAuthUrl:uv,getYahooAuthUrl:hv,googleAuthConfig:bn,handleGoogleLogin:em,handleMicrosoftAdminLogin:lA,handleMicrosoftLogin:tm,handleMicrosoftLogout:fv,handleOAuthPopupMessages:Zh,handleYahooLogin:nm,isLoggedInWithMicrosoft:Pl,msalAdminLoginRequest:Bd,msalConfig:dv,msalInstance:dt,msalLoginRequest:zd},Symbol.toStringTag,{value:"Module"})),dA=({onBack:t,onLoginSuccess:e,onNavigateToSignUp:r,onNavigateToHome:n,onNavigateToAdminLogin:a})=>{const[o,i]=v.useState(!1),[l,c]=v.useState(""),[d,u]=v.useState(""),[h,f]=v.useState(!1),[m,C]=v.useState(null),[y,A]=v.useState(null);v.useEffect(()=>{(async()=>{try{if(await dt.initialize(),Pl()){const w=rm();w&&console.log("User already logged in with Microsoft:",w)}}catch(w){console.error("MSAL initialization error:",w)}})()},[]);const x=async p=>{p.preventDefault(),C("local"),A(null);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:d})});if(!w.ok){let E="Login failed";try{E=(await w.json()).message||E}catch{E=`Server error: ${w.status} ${w.statusText}`}throw new Error(E)}let N;try{N=await w.json()}catch{throw new Error("Server returned invalid response. Please try again.")}localStorage.setItem("authToken",N.token),localStorage.setItem("user",JSON.stringify(N.user));const _={id:N.user.id,name:`${N.user.firstName} ${N.user.lastName}`.trim(),email:N.user.email,avatar:`${N.user.firstName.charAt(0)}${N.user.lastName.charAt(0)}`.toUpperCase(),provider:N.user.provider,role:N.user.role,tenantId:N.user.tenantId};e(_)}catch(w){console.error("Login error:",w),w instanceof Error?w.message.includes("Failed to fetch")?A("Unable to connect to the server. Please make sure the backend is running."):w.message.includes("Invalid email or password")?A("Invalid email or password. Please check your credentials and try again."):A(w.message):A("An unexpected error occurred. Please try again.")}finally{C(null)}},g=async p=>{var w,N,_;C(p),A(null);try{let E;if(console.log(`Starting ${p} login...`),p==="microsoft"){const $=await tm();console.log(`${p} login user data received:`,$);try{const T=await fetch("/api/auth/microsoft/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:"placeholder",email:$.email,name:$.name,tenantId:$.tenantId,provider:"microsoft"})});if(!T.ok){const se=await T.json();throw new Error(se.message||"Microsoft authentication failed")}const V=await T.json();localStorage.setItem("authToken",V.token),localStorage.setItem("user",JSON.stringify(V.user)),E={id:V.user.id,name:V.user.firstName+" "+V.user.lastName,email:V.user.email,avatar:(((w=V.user.firstName)==null?void 0:w.charAt(0))||"")+(((N=V.user.lastName)==null?void 0:N.charAt(0))||""),provider:"microsoft",role:V.user.role,tenantId:V.user.tenantId}}catch(T){throw console.error("Backend Microsoft auth error:",T),T}}else{const $=uo(`${p}-login`);if(!$){C(null),A("Please allow pop-ups for this site and try again. Check your browser's address bar for a pop-up blocker icon.");return}switch(p){case"google":E=await em($);break;case"yahoo":E=await nm($);break}}if(console.log(`${p} login successful, processing user data:`,E),!E)throw new Error("No user data received from authentication provider");if(!E.email&&!E.name)throw new Error("Incomplete user information received. Please try again.");const O={name:(E==null?void 0:E.name)||((_=E==null?void 0:E.email)==null?void 0:_.split("@")[0])||"User",email:(E==null?void 0:E.email)||"user@example.com",avatar:E!=null&&E.name?E.name.substring(0,2).toUpperCase():"SU",provider:p,tenantId:E==null?void 0:E.tenantId};console.log("Calling onLoginSuccess with userData:",O),e(O)}catch(E){console.error(`${p} login failed with error:`,E);const O=E instanceof Error?E.message:"Unknown error";O.includes("Popup blocked")||O.includes("popup")?A("Please allow pop-ups for this site and try again. Check your browser's address bar for a pop-up blocker icon."):O.includes("cancelled")?A(`${p.charAt(0).toUpperCase()+p.slice(1)} login was cancelled.`):O.includes("consent_required")?A("Additional permissions required. Please contact your administrator."):O.includes("interaction_required")?A("User interaction required. Please try logging in again."):A(`${p.charAt(0).toUpperCase()+p.slice(1)} login failed: ${O}`)}finally{C(null)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-full blur-lg animate-float-medium"}),s.jsx("div",{className:"absolute bottom-40 left-20 w-40 h-40 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-2xl animate-float-fast"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-28 h-28 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-radial from-blue-600/30 via-purple-600/20 to-transparent rounded-full animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-radial from-green-600/30 via-cyan-600/20 to-transparent rounded-full animate-pulse-medium"}),s.jsx("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400/60 rounded-full animate-particle-1"}),s.jsx("div",{className:"absolute top-2/3 left-1/3 w-1 h-1 bg-purple-400/60 rounded-full animate-particle-2"}),s.jsx("div",{className:"absolute top-1/2 right-1/3 w-3 h-3 bg-cyan-400/60 rounded-full animate-particle-3"}),s.jsx("div",{className:"absolute bottom-1/3 left-2/3 w-2 h-2 bg-green-400/60 rounded-full animate-particle-4"}),s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-transparent via-blue-500/30 to-transparent transform -translate-x-1/2 animate-line-glow"}),s.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-500/30 to-transparent transform -translate-y-1/2 animate-line-glow-horizontal"})]}),s.jsx("div",{className:"absolute top-1/4 right-1/4 w-16 h-16 border border-blue-500/30 rotate-45 animate-rotate-slow"}),s.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-12 h-12 border border-purple-500/30 rotate-12 animate-rotate-reverse"})]}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{onClick:n,className:"cursor-pointer mb-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("img",{src:"/alyasra-logo.png",alt:"Alyasra Logo",className:"w-12 h-12"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"AIVA"})]}),s.jsx("p",{className:"text-slate-300",children:"Welcome back! Please sign in to continue."})]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm border border-slate-600/50 rounded-2xl shadow-2xl p-8 animate-slide-in-right animation-delay-300 hover:shadow-blue-500/20 transition-all duration-500",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Sign In"}),s.jsx("p",{className:"text-slate-300",children:"Enter your credentials to access your account"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6 animate-stagger-children",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"email",id:"email",value:l,onChange:p=>c(p.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-600/50 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500/50 transition-all text-white placeholder-slate-400 hover:border-slate-500/50",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:o?"text":"password",id:"password",value:d,onChange:p=>u(p.target.value),placeholder:"Enter your password",className:"w-full pl-10 pr-12 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-600/50 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500/50 transition-all text-white placeholder-slate-400 hover:border-slate-500/50",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-all duration-300 transform hover:scale-110",children:o?s.jsx(Wa,{className:"w-5 h-5"}):s.jsx(Un,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:p=>f(p.target.checked),className:"w-4 h-4 text-blue-600 bg-slate-800/50 border-slate-600/50 rounded focus:ring-blue-500 focus:ring-2"}),s.jsx("span",{className:"ml-2 text-sm text-slate-300",children:"Remember me"})]}),s.jsx("button",{type:"button",className:"text-sm text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 rounded-[30px] text-white font-semibold py-3 px-4 transition-all duration-300 transform hover:scale-105 animate-pulse-glow shadow-lg hover:shadow-blue-500/20",children:"Sign In"}),s.jsx("button",{type:"button",onClick:a,className:"w-full bg-slate-600 hover:bg-slate-700 rounded-[30px] text-white font-semibold py-3 px-4 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-slate-500/20",children:"Admin Login"}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-slate-300",children:"Don't have an account? "}),s.jsx("button",{type:"button",onClick:r,className:"text-blue-400 hover:text-blue-300 font-medium transition-colors duration-200",children:"Sign up"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-600/50"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-slate-700/50 text-slate-400",children:"Or continue with"})})]}),y&&s.jsx("div",{className:"bg-red-500/10 backdrop-blur-sm border border-red-500/20 rounded-lg p-4 mb-4 animate-slide-in-left",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-red-400 text-lg",children:""})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-400",children:y})})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"button",onClick:()=>g("google"),disabled:m!==null,className:"w-full bg-red-600 rounded-[30px] hover:bg-red-700 disabled:bg-red-400 text-white font-medium py-3 px-4 transition-all duration-300 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2 shadow-lg hover:shadow-red-500/20",children:m==="google"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:"G"}),s.jsx("span",{children:"Continue with Google"})]})}),s.jsx("button",{type:"button",onClick:()=>g("microsoft"),disabled:m!==null,className:"w-full bg-blue-700 rounded-[30px] hover:bg-blue-800 disabled:bg-blue-400 text-white font-medium py-3 px-4 transition-all duration-300 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2 shadow-lg hover:shadow-blue-500/20",children:m==="microsoft"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:""}),s.jsx("span",{children:"Continue with Microsoft"})]})}),s.jsx("button",{type:"button",onClick:()=>g("yahoo"),disabled:m!==null,className:"w-full bg-purple-600 rounded-[30px] hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-4 transition-all duration-300 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2 shadow-lg hover:shadow-purple-500/20",children:m==="yahoo"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:"Y!"}),s.jsx("span",{children:"Continue with Yahoo"})]})})]})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-sm text-slate-400",children:["By signing in, you agree to our"," ",s.jsx("button",{className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Terms of Service"})," ","and"," ",s.jsx("button",{className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Privacy Policy"})]})}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-300 transition-colors duration-200 text-sm",children:" Back to Home"})})]})})]})},$d="https://aiva-chat-app.azurewebsites.net/api",Kd=()=>localStorage.getItem("authToken"),Pe=async(t,e={})=>{const r=Kd(),n={"Content-Type":"application/json"};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${$d}${t}`,{...e,headers:{...n,...e.headers}});if(!a.ok){const o=await a.json().catch(()=>({message:`HTTP ${a.status}: ${a.statusText}`})),i=new Error(o.message||`HTTP ${a.status}: ${a.statusText}`);throw i.status=a.status,i}return a.json()},uA={async getBookmarks(){return Pe("/bookmarks")},async addBookmark(t){return Pe(`/bookmarks/${t}`,{method:"POST"})},async removeBookmark(t){return Pe(`/bookmarks/${t}`,{method:"DELETE"})}},Ho={async getLikedMessages(){return Pe("/message-actions/liked")},async getDislikedMessages(){return Pe("/message-actions/disliked")},async addMessageAction(t,e){return Pe(`/message-actions/${t}/${e}`,{method:"POST"})},async removeMessageAction(t,e){return Pe(`/message-actions/${t}/${e}`,{method:"DELETE"})}},hA={async getWorkspaces(){return Pe("/workspaces")},async createWorkspace(t){return Pe("/workspaces",{method:"POST",body:JSON.stringify(t)})},async updateWorkspace(t,e){return Pe(`/workspaces/${t}`,{method:"PUT",body:JSON.stringify(e)})},async deleteWorkspace(t){return Pe(`/workspaces/${t}`,{method:"DELETE"})}},dp={async sendMessage(t){t.workspaceId||delete t.workspaceId;try{return await Pe("/chat/message",{method:"POST",body:JSON.stringify(t)})}catch(e){throw console.error("Error sending message:",e),e instanceof Error?e:new Error("Failed to send message. Please try again.")}},async getChats(t){const e=new URLSearchParams;t!=null&&t.page&&e.set("page",t.page.toString()),t!=null&&t.limit&&e.set("limit",t.limit.toString()),t!=null&&t.sortBy&&e.set("sortBy",t.sortBy),t!=null&&t.sortOrder&&e.set("sortOrder",t.sortOrder);const r=e.toString()?`/chat?${e}`:"/chat";return Pe(r)},async createChat(t){return t.workspaceId||delete t.workspaceId,Pe("/chat",{method:"POST",body:JSON.stringify(t)})},async getChatMessages(t,e){const r=new URLSearchParams;e!=null&&e.page&&r.set("page",e.page.toString()),e!=null&&e.limit&&r.set("limit",e.limit.toString());const n=r.toString()?`/chat/${t}/messages?${r}`:`/chat/${t}/messages`;return Pe(n)},async deleteChat(t){return Pe(`/chat/${t}`,{method:"DELETE"})}},up={async getChatHistory(t){const e=t?`/history?limit=${t}`:"/history";return Pe(e)},async getChatDetails(t){return Pe(`/history/${t}`)}},hp={async submitFeedback(t){return Pe("/feedback",{method:"POST",body:JSON.stringify(t)})},async getUserFeedback(){return Pe("/feedback/my-feedback")}},mA={async uploadFile(t,e,r){const n=new FormData;n.append("file",t),e&&n.append("chatId",e),r&&n.append("messageId",r);const a=Kd(),o=await fetch(`${$d}/files/upload`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:n});if(!o.ok){const i=await o.json().catch(()=>({message:`HTTP ${o.status}: ${o.statusText}`})),l=new Error(i.message||`HTTP ${o.status}: ${o.statusText}`);throw l.status=o.status,l}return o.json()},async getFiles(){return Pe("/files")},async deleteFile(t){return Pe(`/files/${t}`,{method:"DELETE"})},async downloadFile(t){const e=Kd(),r=await fetch(`${$d}/files/download/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const n=await r.json().catch(()=>({message:`HTTP ${r.status}: ${r.statusText}`})),a=new Error(n.message||`HTTP ${r.status}: ${r.statusText}`);throw a.status=r.status,a}return r}},fA=({onBack:t})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"About AIVA"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(cN,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Why AIVA?"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Conversational BI, Not Just Chat"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Natural language queries for both simple data lookups and deep analytics."})]})]})}),s.jsx("div",{className:"bg-green-50 p-6 rounded-xl border border-green-200",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Proactive Insights & Forecasts"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI identifies patterns, anomalies, and trends before you even ask."})]})]})}),s.jsx("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-200",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Enterprise-Ready & Secure"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Built on Microsoft Fabric, secured with Entra ID, governed by RLS."})]})]})}),s.jsx("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-200",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Cross-Platform Access"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Available on Microsoft Teams, Web, and Mobilewherever you work."})]})]})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(Rr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" What Can You Ask?"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Example Questions You Can Ask:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"?"})}),s.jsx("p",{className:"text-gray-800 font-medium",children:'"What are the top 5 performing stores this month?"'})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"?"})}),s.jsx("p",{className:"text-gray-800 font-medium",children:'"Show inventory levels compared to forecasts."'})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"?"})}),s.jsx("p",{className:"text-gray-800 font-medium",children:'"Why did footfall drop last weekend?"'})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(QC,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" How It Works"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Simple 3-step process to get AI-powered business insights:"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:"1"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Ask"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Use plain English in chat to ask business questions, request analyses, or seek recommendations"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:"2"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Analyze"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI + Microsoft Fabric process your request, accessing data securely and running advanced analytics"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:"3"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Act"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Receive actionable insights, forecasts, visualizations, and strategic suggestions in real-time"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(FC,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Why Choose AIVA?"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Enterprise Security"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Bank-level encryption and compliance with industry standards ensure your data and communications remain secure."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Scalable Solutions"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"From small teams to enterprise organizations, AIVA scales with your business needs and growth."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"AI-Powered Insights"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Leverage artificial intelligence to gain actionable insights and automate routine tasks."})]})]})]})]})}),pA=({onBack:t,bookmarkedMessages:e,onNavigateToMessage:r})=>{const[n,a]=v.useState(""),o=e.filter(l=>l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase())),i=l=>{switch(l){case"Reports":return"bg-blue-100 text-blue-800";case"Documentation":return"bg-green-100 text-green-800";case"Process":return"bg-purple-100 text-purple-800";case"Templates":return"bg-orange-100 text-orange-800";case"Conversation":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Bookmarks"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(Ei,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Saved Items"}),s.jsx("p",{className:"text-gray-600",children:"Access your bookmarked conversations, resources, and important information"})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search bookmarks...",value:n,onChange:l=>a(l.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ei,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:n?"No bookmarks found":"No bookmarks yet"}),s.jsx("p",{className:"text-gray-500",children:n?"Try adjusting your search terms":"Start bookmarking messages to see them here"})]}):o.map(l=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>r(l.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(l.category)}`,children:l.category})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:l.description}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:l.date}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{children:l.type})]})]},l.id))})]})]})})},gA=({onBack:t,likedMessages:e,onNavigateToMessage:r})=>{const[n,a]=v.useState(""),o=e.filter(l=>l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase())),i=l=>{switch(l){case"Reports":return"bg-blue-100 text-blue-800";case"Documentation":return"bg-green-100 text-green-800";case"Process":return"bg-purple-100 text-purple-800";case"Templates":return"bg-orange-100 text-orange-800";case"Conversation":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Liked Messages"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(Nd,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Liked Messages"}),s.jsx("p",{className:"text-gray-600",children:"Messages you've liked and found helpful"})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search liked messages...",value:n,onChange:l=>a(l.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nd,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:n?"No liked messages found":"No liked messages yet"}),s.jsx("p",{className:"text-gray-500",children:n?"Try adjusting your search terms":"Start liking messages to see them here"})]}):o.map(l=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors cursor-pointer border-l-4 border-green-500",onClick:()=>r(l.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(l.category)}`,children:l.category})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:l.description}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:l.date}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{children:l.type})]})]},l.id))})]})]})})},xA=({onBack:t,dislikedMessages:e,onNavigateToMessage:r})=>{const[n,a]=v.useState(""),o=e.filter(l=>l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase())),i=l=>{switch(l){case"Reports":return"bg-blue-100 text-blue-800";case"Documentation":return"bg-green-100 text-green-800";case"Process":return"bg-purple-100 text-purple-800";case"Templates":return"bg-orange-100 text-orange-800";case"Conversation":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Disliked Messages"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(bs,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Disliked Messages"}),s.jsx("p",{className:"text-gray-600",children:"Messages you've disliked for review and improvement"})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search disliked messages...",value:n,onChange:l=>a(l.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:n?"No disliked messages found":"No disliked messages yet"}),s.jsx("p",{className:"text-gray-500",children:n?"Try adjusting your search terms":"Disliked messages will appear here for review"})]}):o.map(l=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors cursor-pointer border-l-4 border-red-500",onClick:()=>r(l.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(l.category)}`,children:l.category})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:l.description}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:l.date}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{children:l.type})]})]},l.id))})]})]})})},yA=({onBack:t,chatHistory:e,onLoadChat:r,onNavigateToMessage:n})=>{const[a,o]=v.useState(""),i=e.filter(c=>c.title.toLowerCase().includes(a.toLowerCase())||c.description.toLowerCase().includes(a.toLowerCase())||c.lastMessage.toLowerCase().includes(a.toLowerCase())),l=c=>{const d=new Date(c),h=Math.abs(new Date().getTime()-d.getTime()),f=Math.ceil(h/(1e3*60*60*24));return f===1?"Today":f===2?"Yesterday":f<=7?`${f-1} days ago`:d.toLocaleDateString()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Chat History"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(wd,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Previous Conversations"}),s.jsx("p",{className:"text-gray-600",children:"Access your previous chat sessions and conversations"})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search chat history...",value:a,onChange:c=>o(c.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"space-y-4",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wd,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:a?"No chat history found":"No chat history yet"}),s.jsx("p",{className:"text-gray-500",children:a?"Try adjusting your search terms":"Start chatting to see your conversation history here"})]}):i.map(c=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors cursor-pointer border-l-4 border-purple-500",onClick:()=>r(c.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:c.title}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(lt,{className:"w-4 h-4"}),s.jsxs("span",{children:[c.messageCount," messages"]})]})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),s.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[s.jsx("strong",{children:"Last message:"})," ",c.lastMessage]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:l(c.date)})]})]},c.id))})]})]})})},vA=({onBack:t,workspaces:e,onSelectWorkspace:r})=>{const[n,a]=v.useState(""),o=e.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase())),i=l=>{const c=new Date(l),u=Math.abs(new Date().getTime()-c.getTime()),h=Math.ceil(u/(1e3*60*60*24));return h===1?"Today":h===2?"Yesterday":h<=7?`${h-1} days ago`:c.toLocaleDateString()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-700 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-slate-600 hover:bg-slate-500 rounded-full flex items-center justify-center text-white transition-colors mr-4",children:s.jsx(Us,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Workspaces"})]})}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(ba,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Available Workspaces"}),s.jsx("p",{className:"text-gray-600",children:"Select a workspace to organize your conversations"})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search workspaces...",value:n,onChange:l=>a(l.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ba,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:n?"No workspaces found":"No workspaces available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:n?"Try adjusting your search terms":"Contact your administrator to create workspaces"})]}):o.map(l=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors cursor-pointer border-l-4 group",style:{borderLeftColor:l.color},onClick:()=>r(l.id),children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white",style:{backgroundColor:l.color},children:s.jsx(ba,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l.name}),l.isShared&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-blue-600",children:[s.jsx(Rr,{className:"w-3 h-3"}),s.jsx("span",{children:"Shared"})]})]})]})}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:l.description}),s.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(lt,{className:"w-4 h-4"}),s.jsxs("span",{children:[l.chatCount," chats"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zt,{className:"w-4 h-4"}),s.jsx("span",{children:i(l.lastActivity)})]})]})})]},l.id))})]})]})})},wA=({user:t,onNavigateToDashboard:e})=>{const[r,n]=v.useState("submit"),[a,o]=v.useState({subject:"",message:"",category:"general",priority:"medium"}),[i,l]=v.useState(!1),[c,d]=v.useState([]),[u,h]=v.useState(!1),f=[{value:"bug",label:"Bug Report",icon:G0,color:"text-red-500"},{value:"feature",label:"Feature Request",icon:Q0,color:"text-yellow-500"},{value:"improvement",label:"Improvement",icon:Tr,color:"text-blue-500"},{value:"complaint",label:"Complaint",icon:vs,color:"text-orange-500"},{value:"compliment",label:"Compliment",icon:zu,color:"text-pink-500"},{value:"general",label:"General Feedback",icon:lt,color:"text-gray-500"}],m=[{value:"low",label:"Low",color:"bg-gray-100 text-gray-800"},{value:"medium",label:"Medium",color:"bg-blue-100 text-blue-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800"}];v.useEffect(()=>{r==="history"&&C()},[r]);const C=async()=>{h(!0);try{const p=await hp.getUserFeedback();d(p.feedback)}catch(p){console.error("Error fetching feedback:",p)}finally{h(!1)}},y=async p=>{p.preventDefault(),l(!0);try{await hp.submitFeedback(a),o({subject:"",message:"",category:"general",priority:"medium"}),alert("Feedback submitted successfully! Thank you for your input."),r==="history"&&C()}catch(w){console.error("Error submitting feedback:",w),alert("Failed to submit feedback. Please try again.")}finally{l(!1)}},A=p=>{switch(p){case"open":return s.jsx(_n,{className:"h-4 w-4 text-blue-500"});case"in-progress":return s.jsx(Tr,{className:"h-4 w-4 text-yellow-500 animate-spin"});case"resolved":return s.jsx(Dt,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Dt,{className:"h-4 w-4 text-gray-500"});default:return s.jsx(_n,{className:"h-4 w-4 text-gray-500"})}},x=p=>{switch(p){case"open":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("button",{onClick:e,className:"mb-4 flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(tN,{className:"h-4 w-4"}),s.jsx("span",{children:"Return to Dashboard"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Feedback"}),s.jsx("p",{className:"text-gray-600",children:"Help us improve AIVA by sharing your thoughts, reporting issues, or suggesting new features."})]}),s.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[s.jsx("button",{onClick:()=>n("submit"),className:`px-4 py-2 rounded-md font-medium transition-colors ${r==="submit"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Submit Feedback"}),s.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-md font-medium transition-colors ${r==="history"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"My Feedback"})]}),r==="submit"?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Feedback Category"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f.map(p=>{const w=p.icon;return s.jsxs("button",{type:"button",onClick:()=>o(N=>({...N,category:p.value})),className:`p-3 border rounded-lg flex items-center space-x-2 transition-colors ${a.category===p.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(w,{className:`h-5 w-5 ${p.color}`}),s.jsx("span",{className:"font-medium",children:p.label})]},p.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),s.jsx("div",{className:"flex space-x-3",children:m.map(p=>s.jsx("button",{type:"button",onClick:()=>o(w=>({...w,priority:p.value})),className:`px-3 py-2 rounded-lg font-medium transition-colors ${a.priority===p.value?p.color:"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsx("input",{type:"text",id:"subject",value:a.subject,onChange:p=>o(w=>({...w,subject:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief summary of your feedback",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),s.jsx("textarea",{id:"message",rows:6,value:a.message,onChange:p=>o(w=>({...w,message:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide detailed feedback...",required:!0})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:i,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(X0,{className:"h-5 w-5"}),s.jsx("span",{children:i?"Submitting...":"Submit Feedback"})]})})]})}):s.jsx("div",{className:"space-y-4",children:u?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading your feedback..."})]}):c.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[s.jsx(lt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No feedback yet"}),s.jsx("p",{className:"text-gray-500",children:"Switch to the Submit tab to send your first feedback."})]}):c.map(p=>{var w;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.subject}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${((w=m.find(N=>N.value===p.priority))==null?void 0:w.color)||"bg-gray-100 text-gray-800"}`,children:p.priority.charAt(0).toUpperCase()+p.priority.slice(1)})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:p.message}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zt,{className:"h-4 w-4"}),s.jsx("span",{children:g(p.createdAt)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[A(p.status),s.jsx("span",{className:"capitalize",children:p.status.replace("-"," ")})]})]})]})}),p.adminResponse&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"font-medium text-blue-900",children:["Admin Response ",p.adminName&&`by ${p.adminName}`]}),p.respondedAt&&s.jsxs("span",{className:"text-sm text-blue-600",children:[" ",g(p.respondedAt)]})]}),s.jsx("p",{className:"text-blue-800",children:p.adminResponse})]})]},p.id)})})]})},bA=({onLogout:t,onSwitchAccount:e,onNavigateToHome:r,user:n,onNavigateHome:a,onNavigateToDashboard:o})=>{var po;const[i,l]=v.useState(!0),[c,d]=v.useState("chat"),[u,h]=v.useState(""),[f,m]=v.useState([{id:"1",text:`Hey ${(n==null?void 0:n.name)||"User"}! How can I assist you?`,isUser:!1,timestamp:"3:42:31 PM"}]),[C,y]=v.useState([]),A=S=>{if(!S)return"U";const D=S.trim().split(" ");return D.length>=2?(D[0].charAt(0)+D[D.length-1].charAt(0)).toUpperCase():S.charAt(0).toUpperCase()+(S.charAt(1)||"").toUpperCase()},[x,g]=v.useState(!1),[p,w]=v.useState(!1),[N,_]=v.useState(!1),[E,O]=v.useState(!1),[$,T]=v.useState(null),[V,se]=v.useState(!1),[ue,xe]=v.useState(null),[Fe,F]=v.useState(!1),[ne,k]=v.useState(null),[j,L]=v.useState(null),[re,Y]=v.useState({}),[oe,I]=v.useState(null),B=v.useRef(null),[le,R]=v.useState([]),[Z,he]=v.useState(null),[ge,me]=v.useState(!0),Ke=async()=>{try{const S={title:"New Chat",description:"Auto-generated chat"};xr&&(S.workspaceId=xr);const z=(await dp.createChat(S)).chat.id;he(z),m([{id:"1",text:`Hey ${(n==null?void 0:n.name)||"User"}! How can I assist you?`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}]),Y({}),h(""),j&&(window.speechSynthesis.cancel(),L(null)),await Ht()}catch(S){console.error("Error creating new chat:",S);const D="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(z){const X=Math.random()*16|0;return(z==="x"?X:X&3|8).toString(16)});he(D),m([{id:"1",text:`Hey ${(n==null?void 0:n.name)||"User"}! How can I assist you?`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}]),Y({}),h(""),j&&(window.speechSynthesis.cancel(),L(null)),await Ht()}},Oe=S=>{d("chat"),setTimeout(()=>{const D=document.getElementById(`message-${S}`);D&&(D.scrollIntoView({behavior:"smooth",block:"center"}),D.classList.add("bg-yellow-100","border-2","border-yellow-400"),setTimeout(()=>{D.classList.remove("bg-yellow-100","border-2","border-yellow-400")},3e3))},100)},Ks=async S=>{try{const z=(await up.getChatDetails(S)).chat;if(!z){console.error("Chat not found:",S);return}const X=z.messages.map(ce=>({id:ce.id,text:ce.content,isUser:ce.role==="user",timestamp:new Date(ce.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}));m(X),he(z.id);const W={};X.forEach(ce=>{W[ce.id]={liked:!1,disliked:!1,starred:!1,bookmarked:!1}}),Y(W),d("chat"),j&&(window.speechSynthesis.cancel(),L(null))}catch(D){console.error("Error loading chat from history:",D);const z=le.find(W=>W.id===S);if(!z)return;m(z.messages||[]),he(z.id);const X={};(z.messages||[]).forEach(W=>{X[W.id]={liked:!1,disliked:!1,starred:!1,bookmarked:!1}}),Y(X),d("chat"),j&&(window.speechSynthesis.cancel(),L(null))}},Vs=S=>{We(S),d("chat")},ho=async()=>{try{const S=await hA.getWorkspaces();S.workspaces&&S.workspaces.length>0?(Ll(S.workspaces),We(S.workspaces[0].id)):We(null)}catch(S){console.error("Error initializing workspaces:",S),We(null)}},[Ml,pn]=v.useState([{id:"11111111-1111-1111-1111-111111111111",title:"Monthly Sales Report - Q4 2024",description:"Comprehensive analysis of Q4 sales performance with visualizations",date:"2024-01-15",type:"Conversation",category:"Reports"},{id:"22222222-2222-2222-2222-222222222222",title:"Team Collaboration Best Practices",description:"Guidelines and tips for effective team collaboration using AIVA",date:"2024-01-12",type:"Resource",category:"Documentation"},{id:"33333333-3333-3333-3333-333333333333",title:"Client Onboarding Process",description:"Step-by-step guide for onboarding new clients",date:"2024-01-10",type:"Guide",category:"Process"},{id:"44444444-4444-4444-4444-444444444444",title:"Data Visualization Templates",description:"Collection of chart templates for different data types",date:"2024-01-08",type:"Template",category:"Templates"}]),[Ol,qn]=v.useState([]),[gn,Wn]=v.useState([]),[nr,Ll]=v.useState([]),[xr,We]=v.useState(null);v.useEffect(()=>{var S;(S=B.current)==null||S.scrollIntoView({behavior:"smooth"})},[f]),K.useEffect(()=>{if(!Z){const S="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(D){const z=Math.random()*16|0;return(D==="x"?z:z&3|8).toString(16)});he(S)}if(Ht(),Dl(),Ul(),Qn(),ho(),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const S=window.SpeechRecognition||window.webkitSpeechRecognition,D=new S;D.continuous=!1,D.interimResults=!1,D.lang="en-US",D.onstart=()=>{F(!0)},D.onresult=z=>{const X=z.results[0][0].transcript;h(X),F(!1),setTimeout(()=>{X.trim()&&(Qs(X.trim()),h(""))},500)},D.onerror=z=>{console.error("Speech recognition error:",z.error),F(!1)},D.onend=()=>{F(!1)},k(D)}},[]);const Ht=async()=>{try{const S=await up.getChatHistory(50);R(S.chatHistory||[])}catch(S){console.error("Error loading chat history:",S)}},Dl=async()=>{try{const S=await uA.getBookmarks();pn(S.bookmarks||[])}catch(S){console.error("Error loading bookmarks:",S)}},Ul=async()=>{try{const S=await Ho.getLikedMessages();qn(S.messages||[])}catch(S){console.error("Error loading liked messages:",S)}},Qn=async()=>{try{const S=await Ho.getDislikedMessages();Wn(S.messages||[])}catch(S){console.error("Error loading disliked messages:",S)}},Fl=(S,D)=>{T({id:S,text:D}),O(!0)},Gs=S=>{if(!$)return;const{text:D}=$,z=new Date().toLocaleString(),X=`AIVA_Message_${Date.now()}`;O(!1),T(null);const W=`AIVA Message

Downloaded on: ${z}

${D}

Generated by AIVA Chat System`,ce=new Blob([W],{type:"text/plain"}),ye=URL.createObjectURL(ce),J=document.createElement("a");J.href=ye,J.download=`${X}.txt`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(ye)},qs=(S,D)=>{xe({id:S,text:D}),se(!0)},Or=()=>{if(!ue)return;const{text:S}=ue,z=`AIVA Chat Response (${new Date().toLocaleString()}):

${S}

---
Shared from AIVA Chat System`,X=`https://teams.microsoft.com/l/chat/0/0?users=&topicName=AIVA%20Chat%20Response&message=${encodeURIComponent(z)}`;window.open(X,"_blank","width=800,height=600"),se(!1),xe(null)},mo=()=>{if(!ue)return;const{text:S}=ue,D=new Date().toLocaleString(),z=`AIVA Chat Response - ${D}`,X=`Hi,

I wanted to share this response from AIVA:

---

${S}

---

Generated on: ${D}
Shared from AIVA Chat System

Best regards`,W=`https://outlook.live.com/mail/0/deeplink/compose?subject=${encodeURIComponent(z)}&body=${encodeURIComponent(X)}`;window.open(W,"_blank","width=800,height=600"),se(!1),xe(null)},Lr=async()=>{if(!ue)return;const{text:S}=ue,z=`AIVA Chat Response (${new Date().toLocaleString()}):

${S}

---
Shared from AIVA Chat System`;try{await navigator.clipboard.writeText(z),alert("Response copied to clipboard! You can now paste it anywhere.")}catch(X){console.error("Failed to copy:",X);const W=document.createElement("textarea");W.value=z,document.body.appendChild(W),W.select(),document.execCommand("copy"),document.body.removeChild(W),alert("Response copied to clipboard! You can now paste it anywhere.")}se(!1),xe(null)},Ws=async S=>{const D=document.createElement("input");switch(D.type="file",S){case"image":D.accept="image/*";break;case"file":D.accept="*/*";break;case"document":D.accept=".pdf,.doc,.docx,.txt,.rtf";break}D.onchange=async z=>{var W;const X=(W=z.target.files)==null?void 0:W[0];if(X){const ce={id:`pending-${Date.now()}`,file:X,type:S,previewUrl:S==="image"?URL.createObjectURL(X):void 0};y(J=>[...J,ce]);const ye={id:ce.id,text:` ${X.name}`,isUser:!0,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})};m(J=>[...J,ye]),setTimeout(()=>{var J;(J=B.current)==null||J.scrollIntoView({behavior:"smooth"})},100)}},D.click(),_(!1)},Hl=()=>{if(!ne){alert("Speech recognition is not supported in your browser");return}Fe?ne.stop():ne.start()},Qs=async S=>{if(!S.trim()&&C.length===0)return;const D=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),z={id:`temp-${Date.now()}`,text:S||(C.length>0?` ${C.length} file(s) attached`:""),isUser:!0,timestamp:D};m(W=>[...W,z]),setTimeout(()=>{var W;(W=B.current)==null||W.scrollIntoView({behavior:"smooth"})},100);const X={id:`temp-ai-${Date.now()}`,text:"Thinking...",isUser:!1,timestamp:D,isLoading:!0};m(W=>[...W,X]),setTimeout(()=>{var W;(W=B.current)==null||W.scrollIntoView({behavior:"smooth"})},100);try{let W=[];if(C.length>0){const J=C.map(async ie=>(await mA.uploadFile(ie.file,Z||void 0)).file);W=await Promise.all(J),y([]),m(ie=>ie.filter(ar=>!C.some(zl=>zl.id===ar.id)))}const ce={message:S,chatId:Z||void 0,useDataAgent:ge};W.length>0&&(ce.files=W.map(J=>({id:J.id,originalName:J.originalName,url:J.url,mimeType:J.mimeType,fileName:J.fileName}))),xr&&xr.length===36&&(ce.workspaceId=xr);const ye=await dp.sendMessage(ce);ye.chatId&&ye.chatId!==Z&&he(ye.chatId),m(J=>{const ie=J.filter(sm=>sm.id!==z.id&&sm.id!==X.id),ar={id:ye.userMessage.id,text:ye.userMessage.content||S||(W.length>0?` ${W.length} file(s) attached`:""),isUser:!0,timestamp:new Date(ye.userMessage.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})},zl={id:ye.aiResponse.id,text:ye.aiResponse.content,isUser:!1,timestamp:new Date(ye.aiResponse.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})};return[...ie,ar,zl]}),Y(J=>({...J,[ye.userMessage.id]:{liked:!1,disliked:!1,starred:!1,bookmarked:!1},[ye.aiResponse.id]:{liked:!1,disliked:!1,starred:!1,bookmarked:!1}})),setTimeout(()=>{var J;(J=B.current)==null||J.scrollIntoView({behavior:"smooth"})},100),await Ht()}catch(W){console.error("Error sending message:",W),m(ie=>ie.filter(ar=>ar.id!==z.id&&ar.id!==X.id));let ce="Sorry, there was an error processing your message. Please try again.";W.message&&(W.message.includes("timeout")||W.message.includes("timed out")?ce="The AI service is taking too long to respond. Please try again later.":W.message.includes("overloaded")||W.message.includes("rate limit")?ce="The AI service is currently overloaded. Please wait a moment and try again.":W.message.includes("authentication")||W.message.includes("unauthorized")?ce="Authentication failed. Please refresh the page and try again.":W.message.includes("model")||W.message.includes("configuration")?ce="There is an issue with the AI model configuration. Please contact support.":W.message.includes("workspace")?ce="Workspace configuration error. Please refresh the page and try again.":ce=W.message);const ye=`error-${Date.now()}`,J={id:ye,text:ce,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),isError:!0};m(ie=>[...ie,J]),Y(ie=>({...ie,[ye]:{liked:!1,disliked:!1,starred:!1,bookmarked:!1}})),setTimeout(()=>{var ie;(ie=B.current)==null||ie.scrollIntoView({behavior:"smooth"})},100)}},fo=S=>{S.preventDefault(),Qs(u),h("")},Yn=async(S,D)=>{var W;if(S.startsWith("temp-")||S.startsWith("error-")){console.warn("Cannot perform actions on temporary or error messages");return}const z=f.find(ce=>ce.id===S);if(!z||z.isUser)return;const X=((W=re[S])==null?void 0:W[D])||!1;try{const ye={liked:"like",disliked:"dislike",starred:"star",bookmarked:"bookmark"}[D];if(X)await Ho.removeMessageAction(S,ye),D==="bookmarked"?pn(J=>J.filter(ie=>ie.id!==S)):D==="liked"?qn(J=>J.filter(ie=>ie.id!==S)):D==="disliked"&&Wn(J=>J.filter(ie=>ie.id!==S));else if(await Ho.addMessageAction(S,ye),D==="bookmarked"){const J={id:S,title:`AI Response - ${z.timestamp}`,description:z.text.length>100?z.text.substring(0,100)+"...":z.text,date:new Date().toISOString().split("T")[0],type:"Conversation",category:"Conversation"};pn(ie=>[J,...ie])}else if(D==="liked"){const J={id:S,title:`AI Response - ${z.timestamp}`,description:z.text.length>100?z.text.substring(0,100)+"...":z.text,date:new Date().toISOString().split("T")[0],type:"Conversation",category:"Conversation"};qn(ie=>[J,...ie])}else if(D==="disliked"){const J={id:S,title:`AI Response - ${z.timestamp}`,description:z.text.length>100?z.text.substring(0,100)+"...":z.text,date:new Date().toISOString().split("T")[0],type:"Conversation",category:"Conversation"};Wn(ie=>[J,...ie])}Y(J=>{var ie,ar;return{...J,[S]:{...J[S]||{liked:!1,disliked:!1,starred:!1,bookmarked:!1},[D]:!X,...D==="liked"&&((ie=J[S])!=null&&ie.disliked)?{disliked:!1}:{},...D==="disliked"&&((ar=J[S])!=null&&ar.liked)?{liked:!1}:{}}}})}catch(ce){console.error(`Error ${X?"removing":"adding"} ${D}:`,ce),alert(`Failed to ${X?"remove":"add"} ${D}. Please try again.`)}},Ys=(S,D)=>{if(j){window.speechSynthesis.cancel(),L(null);return}if(!("speechSynthesis"in window)){alert("Text-to-speech is not supported in your browser");return}const z=new SpeechSynthesisUtterance(D);z.rate=.9,z.pitch=1,z.volume=1,z.onstart=()=>{L(S)},z.onend=()=>{L(null)},z.onerror=()=>{L(null),alert("Speech synthesis failed. Please try again or check if your browser supports text-to-speech.")},window.speechSynthesis.speak(z)},sr=async(S,D)=>{try{await navigator.clipboard.writeText(D),I(S),setTimeout(()=>{I(null)},300)}catch(z){console.error("Failed to copy message:",z);const X=document.createElement("textarea");X.value=D,document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),I(S),setTimeout(()=>{I(null)},300)}};return s.jsxs(s.Fragment,{children:[c==="about"&&s.jsx(fA,{onBack:()=>d("chat")}),c==="bookmarks"&&s.jsx(pA,{onBack:()=>d("chat"),bookmarkedMessages:Ml,onNavigateToMessage:Oe}),c==="liked"&&s.jsx(gA,{onBack:()=>d("chat"),likedMessages:Ol,onNavigateToMessage:Oe}),c==="disliked"&&s.jsx(xA,{onBack:()=>d("chat"),dislikedMessages:gn,onNavigateToMessage:Oe}),c==="history"&&s.jsx(yA,{onBack:()=>d("chat"),chatHistory:le,onLoadChat:Ks,onNavigateToMessage:Oe}),c==="workspaces"&&s.jsx(vA,{onBack:()=>d("chat"),workspaces:nr,onSelectWorkspace:Vs}),c==="feedback"&&s.jsx(wA,{user:n,onNavigateToDashboard:()=>d("chat")}),c==="chat"&&s.jsxs("div",{className:"h-screen bg-slate-100 flex overflow-hidden flex-shrink-0",children:[s.jsxs("div",{className:`bg-slate-800 text-white transition-all duration-300 ${i?"w-64":"w-16"} flex flex-col h-screen fixed left-0 top-0 z-10`,children:[s.jsx("div",{className:"p-4 border-b border-slate-700",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("button",{onClick:()=>l(!i),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:s.jsx(J0,{className:"w-5 h-5"})})})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[s.jsxs("div",{onClick:()=>d("about"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(zC,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"About AIVA"})]}),s.jsxs("div",{onClick:()=>d("bookmarks"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(Ei,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"Bookmarks"})]}),s.jsxs("div",{onClick:()=>d("workspaces"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(pr,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"Workspaces"})]}),s.jsxs("div",{onClick:()=>d("liked"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(zu,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"Liked messages"})]}),s.jsxs("div",{onClick:()=>d("disliked"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(YC,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"Disliked messages"})]}),s.jsxs("div",{onClick:()=>d("history"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx(wd,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"History"})]}),s.jsxs("div",{onClick:()=>d("feedback"),className:"flex items-center space-x-3 p-3 hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",children:[s.jsx($C,{className:"w-5 h-5"}),i&&s.jsx("span",{children:"Feedback"})]})]}),s.jsx("div",{className:"p-4 border-t border-slate-700",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:n?A(n.name):"U"}),i&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:(n==null?void 0:n.name)||"Guest User"}),s.jsx("div",{className:"text-sm text-slate-400",children:(n==null?void 0:n.email)||"No email"})]})]})})]}),s.jsxs("div",{className:`flex-1 flex flex-col ${i?"ml-64":"ml-16"} h-screen transition-all duration-300`,children:[s.jsxs("header",{className:"bg-slate-800 text-white p-4 flex items-center justify-between flex-shrink-0 sticky top-0 z-30",children:[s.jsxs("button",{className:"flex items-center space-x-3",onClick:()=>{n&&a(n)},children:[s.jsx("img",{src:"/alyasra-logo.png",alt:"Alyasra Logo",className:"w-8 h-8"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-xl font-bold flex justify-start",children:"AIVA"}),xr&&s.jsx("p",{className:"text-sm text-slate-300",children:((po=nr.find(S=>S.id===xr))==null?void 0:po.name)||"Workspace"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:Ke,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx(Qa,{className:"w-4 h-4"}),s.jsx("span",{children:"New Chat"})]}),s.jsx("button",{onClick:()=>me(!ge),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors font-medium ${ge?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:s.jsx("span",{children:ge?"Data Mode On":"Data Mode Off"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>w(!p),className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-slate-600 transition-colors",children:s.jsx(pr,{className:"w-5 h-5"})}),p&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>w(!1)}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-[60] border border-gray-200",children:[s.jsxs("button",{type:"button",onClick:()=>{w(!1),r(),setTimeout(()=>{e()},100)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center space-x-3 text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(uN,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Account"})]}),s.jsxs("button",{type:"button",onClick:()=>{w(!1),e()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center space-x-3 text-gray-700 hover:bg-green-50 hover:text-green-700",children:[s.jsx(Ar,{className:"w-4 h-4"}),s.jsx("span",{children:"Switch Account"})]}),s.jsxs("button",{type:"button",onClick:()=>{w(!1),alert("Collaboration features coming soon! You can share messages using the share button on individual messages.")},className:"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center space-x-3 text-gray-700 hover:bg-purple-50 hover:text-purple-700",children:[s.jsx(Rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Collaboration"})]}),s.jsx("hr",{className:"my-2 border-gray-200"}),s.jsxs("button",{type:"button",onClick:()=>{w(!1),t()},className:"w-full text-left px-4 py-2 hover:bg-red-50 transition-colors flex items-center space-x-3 text-red-600 hover:text-red-700",children:[s.jsx(Y0,{className:"w-4 h-4"}),s.jsx("span",{children:"Log Out"})]})]})]})]})]})]}),V&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Share Response"}),s.jsx("button",{onClick:()=>se(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Rn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to share this response:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:Or,className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:s.jsx(Rr,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Share via Microsoft Teams"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Open Teams with pre-filled message"})]})]}),s.jsxs("button",{onClick:mo,className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:s.jsx(ml,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Share via Outlook Email"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Open Outlook with pre-filled email"})]})]}),s.jsxs("button",{onClick:Lr,className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center",children:s.jsx(vd,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Copy to Clipboard"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Copy formatted text for sharing anywhere"})]})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[s.jsx("div",{className:"flex-1 p-6 overflow-y-auto scroll-smooth",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.map(S=>{var D,z,X,W;return s.jsx("div",{id:`message-${S.id}`,className:"mb-6 transition-all duration-300 rounded-lg p-2",children:s.jsxs("div",{className:`flex items-start space-x-3 ${S.isUser?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${S.isUser?"bg-blue-600":S.isError?"bg-red-600":S.isLoading?"bg-amber-500":"bg-slate-600"}`,children:S.isUser?s.jsx(pr,{className:"w-4 h-4 text-white"}):S.isError?s.jsx(vs,{className:"w-4 h-4 text-white"}):S.isLoading?s.jsx(_n,{className:"w-4 h-4 text-white animate-pulse"}):s.jsx(lt,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`rounded-lg p-4 mb-2 ${S.isUser?"bg-blue-600 text-white ml-12":S.isError?"bg-red-100 text-red-800 mr-12 border border-red-300":S.isLoading?"bg-slate-100 text-slate-600 mr-12 animate-pulse":"bg-slate-200 text-slate-800 mr-12"}`,children:s.jsx("p",{children:S.text})}),!S.isUser&&!S.isError&&!S.isLoading&&s.jsxs("div",{className:`flex items-center space-x-2 ${S.isUser?"justify-end":""}`,children:[s.jsx("button",{onClick:()=>sr(S.id,S.text),className:`p-2 rounded transition-all duration-300 ${oe===S.id?"bg-green-500 text-white animate-pulse":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(vd,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Fl(S.id,S.text),className:"p-2 text-slate-500 hover:bg-slate-200 rounded transition-colors",children:s.jsx(GC,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ys(S.id,S.text),className:`p-2 rounded transition-colors ${j===S.id?"bg-blue-600 text-white hover:bg-blue-700":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(hN,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Yn(S.id,"liked"),className:`p-2 rounded transition-colors ${(D=re[S.id])!=null&&D.liked?"bg-green-600 text-white hover:bg-green-700":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(Nd,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Yn(S.id,"disliked"),className:`p-2 rounded transition-colors ${(z=re[S.id])!=null&&z.disliked?"bg-red-600 text-white hover:bg-red-700":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Yn(S.id,"starred"),className:`p-2 rounded transition-colors ${(X=re[S.id])!=null&&X.starred?"bg-yellow-500 text-white hover:bg-yellow-600":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(lN,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Yn(S.id,"bookmarked"),className:`p-2 rounded transition-colors ${(W=re[S.id])!=null&&W.bookmarked?"bg-blue-600 text-white hover:bg-blue-700":"text-slate-500 hover:bg-slate-200"}`,children:s.jsx(Ei,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>qs(S.id,S.text),className:"p-2 text-slate-500 hover:bg-slate-200 rounded transition-colors",children:s.jsx(oN,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-xs text-slate-400 ml-2",children:S.timestamp})]})]})]})},S.id)}),s.jsx("div",{ref:B})]})}),s.jsx("div",{className:"border-t border-slate-200 p-4 flex-shrink-0 sticky bottom-0 bg-white z-20",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("form",{onSubmit:fo,className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:u,onChange:S=>h(S.target.value),placeholder:"Type something...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),s.jsx("button",{type:"button",onClick:Hl,className:`absolute right-12 top-1/2 transform -translate-y-1/2 p-1 hover:bg-slate-100 rounded transition-colors ${Fe?"bg-red-100 text-red-600":"text-slate-500"}`,children:s.jsx(ZC,{className:`w-5 h-5 ${Fe?"animate-pulse":""}`})}),s.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-slate-100 rounded transition-colors",children:s.jsx(Qa,{className:"w-5 h-5 text-slate-500"})})]}),s.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg transition-colors",children:s.jsx(X0,{className:"w-5 h-5"})})]})})})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Attach Files"}),s.jsx("button",{onClick:()=>_(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Rn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>Ws("image"),className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(JC,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-800",children:"Attach Image"})]}),s.jsxs("button",{onClick:()=>Ws("file"),className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(xc,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-800",children:"Attach File"})]}),s.jsxs("button",{onClick:()=>Ws("document"),className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(rN,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-800",children:"Attach Document"})]})]})]})}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Download Message"}),s.jsx("button",{onClick:()=>O(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Rn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Choose the format you want to download this message in:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>Gs(),className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(xc,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"PDF Document"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Download as PDF file"})]})]}),s.jsxs("button",{onClick:()=>Gs(),className:"w-full flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(xc,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Word Document"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Download as DOCX file"})]})]})]})]})})]})]})},CA=({onBack:t,onSignUpSuccess:e,onNavigateToLogin:r,onNavigateToHome:n})=>{const[a,o]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[u,h]=v.useState(!1),[f,m]=v.useState(null),[C,y]=v.useState(null),A=p=>{const{name:w,value:N}=p.target;d(_=>({..._,[w]:N}))},x=async p=>{if(p.preventDefault(),m("local"),y(null),c.password!==c.confirmPassword){y("Passwords do not match"),m(null);return}if(!u){y("Please agree to the Terms of Service and Privacy Policy"),m(null);return}try{const w=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:c.firstName,lastName:c.lastName,email:c.email,password:c.password})});if(!w.ok){const E=await w.json();throw new Error(E.message||"Registration failed")}const N=await w.json();localStorage.setItem("authToken",N.token),localStorage.setItem("user",JSON.stringify(N.user));const _={id:N.user.id,name:`${N.user.firstName} ${N.user.lastName}`,email:N.user.email,avatar:N.user.firstName.charAt(0).toUpperCase()+N.user.lastName.charAt(0).toUpperCase(),provider:N.user.provider,role:N.user.role};e(_)}catch(w){console.error("Registration error:",w),w instanceof Error?y(w.message):y("An unexpected error occurred. Please try again.")}finally{m(null)}},g=async p=>{m(p),y(null);try{let w;if(p==="microsoft")w=await tm();else{const _=uo(`${p}-signup`);if(!_){m(null),y("Please allow pop-ups for this site and try again. Check your browser's address bar for a pop-up blocker icon.");return}switch(p){case"google":w=await em(_);break;case"yahoo":w=await nm(_);break}}console.log(`${p} signup successful:`,w);const N={name:(w==null?void 0:w.name)||"New User",email:(w==null?void 0:w.email)||"user@example.com",avatar:w!=null&&w.name?w.name.substring(0,2).toUpperCase():"NU"};e(N)}catch(w){console.error(`${p} signup failed:`,w);const N=w instanceof Error?w.message:"Unknown error";N.includes("Popup blocked")||N.includes("popup")?y("Please allow pop-ups for this site and try again. Check your browser's address bar for a pop-up blocker icon."):N.includes("cancelled")?y(`${p.charAt(0).toUpperCase()+p.slice(1)} signup was cancelled.`):y(`${p.charAt(0).toUpperCase()+p.slice(1)} signup failed. Please try again.`)}finally{m(null)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",onClick:n,children:s.jsx("img",{src:"/alyasra-logo.png",alt:"Alyasra Logo",className:"w-12 h-12"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"AIVA"}),s.jsx("p",{className:"text-slate-300",children:"Create your account to get started."})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Fill in your details to create your account"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:A,placeholder:"First name",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:A,placeholder:"Last name",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:A,placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:a?"text":"password",id:"password",name:"password",value:c.password,onChange:A,placeholder:"Create a password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0}),s.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:a?s.jsx(Wa,{className:"w-5 h-5"}):s.jsx(Un,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:i?"text":"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:A,placeholder:"Confirm your password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:i?s.jsx(Wa,{className:"w-5 h-5"}):s.jsx(Un,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"agreeToTerms",checked:u,onChange:p=>h(p.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 mt-1",required:!0}),s.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",s.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800 transition-colors duration-200",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800 transition-colors duration-200",children:"Privacy Policy"})]})]}),s.jsx("button",{type:"submit",disabled:f==="local",className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none shadow-lg hover:shadow-xl flex items-center justify-center",children:f==="local"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):"Create Account"}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),s.jsx("button",{type:"button",onClick:r,className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:"Sign in"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),C&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-red-400 text-lg",children:""})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:C})})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"button",onClick:()=>g("google"),disabled:f!==null,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2",children:f==="google"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:"G"}),s.jsx("span",{children:"Sign up with Google"})]})}),s.jsx("button",{type:"button",onClick:()=>g("microsoft"),disabled:f!==null,className:"w-full bg-blue-700 hover:bg-blue-800 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2",children:f==="microsoft"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:""}),s.jsx("span",{children:"Sign up with Microsoft"})]})}),s.jsx("button",{type:"button",onClick:()=>g("yahoo"),disabled:f!==null,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2",children:f==="yahoo"?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:"Y!"}),s.jsx("span",{children:"Sign up with Yahoo"})]})})]})]})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-300 transition-colors duration-200 text-sm",children:" Back to Home"})})]})})},NA=({onBack:t,onAdminLoginSuccess:e})=>{const[r,n]=v.useState(""),[a,o]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState(!1),[u,h]=v.useState(!1),[f,m]=v.useState(null),[C,y]=v.useState(!1),[A,x]=v.useState(!1),[g,p]=v.useState(null),w=()=>{console.log("Demo admin should be initialized in backend")},N=async()=>{var E,O;x(!0),p(null);try{console.log("Starting Microsoft admin login with role verification...");const{handleMicrosoftAdminLogin:$}=await iA(async()=>{const{handleMicrosoftAdminLogin:xe}=await Promise.resolve().then(()=>cA);return{handleMicrosoftAdminLogin:xe}},void 0),T=await $();if(console.log("Microsoft admin login user data received:",T),!T)throw new Error("No user data received from Microsoft authentication");if(!T.email&&!T.name)throw new Error("Incomplete user information received. Please try again.");if(!T.tenantId)throw new Error("User is not from the authorized organization.");const V=await fetch("/api/auth/microsoft/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:"placeholder",email:T.email,name:T.name,tenantId:T.tenantId,provider:"microsoft"})});if(!V.ok){const xe=await V.json();throw new Error(xe.message||"Microsoft authentication failed")}const se=await V.json();localStorage.setItem("authToken",se.token),localStorage.setItem("adminUser",JSON.stringify(se.user));const ue={email:se.user.email||"admin@microsoft.com",firstName:se.user.firstName||((E=T.name)==null?void 0:E.split(" ")[0])||"Admin",lastName:se.user.lastName||((O=T.name)==null?void 0:O.split(" ")[1])||"User",provider:"microsoft",tenantId:T.tenantId,roles:T.roles||["AI Administrator"]};console.log("Calling onAdminLoginSuccess with adminData:",ue),e(ue)}catch($){console.error("Microsoft admin login failed:",$);const T=$ instanceof Error?$.message:"Unknown error";T.includes("Popup blocked")||T.includes("popup")?p("Please allow pop-ups for this site and try again. Check your browser's address bar for a pop-up blocker icon."):T.includes("cancelled")?p("Microsoft login was cancelled."):T.includes("consent_required")?p("Additional permissions required. Please contact your administrator."):T.includes("interaction_required")?p("User interaction required. Please try logging in again."):T.includes("AI Administrator")?p('Access denied. You must have the "AI Administrator" role to access the admin portal.'):p(`Microsoft admin login failed: ${T}`)}finally{x(!1)}},_=async E=>{if(E.preventDefault(),m(null),y(!0),!r||!a){m("Email and password are required"),y(!1);return}if(u&&i!=="AlyasraFashion"){m("Invalid product key"),y(!1);return}try{const O=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:a,adminLogin:!0})}),$=await O.json();if(!O.ok){m($.message||"Invalid email or password"),y(!1);return}if($.user.role!=="admin"){m("Access denied. Admin privileges required."),y(!1);return}localStorage.setItem("authToken",$.token),e({email:$.user.email,firstName:$.user.firstName||"Admin",lastName:$.user.lastName||"User"})}catch{m("An error occurred. Please try again.")}finally{y(!1)}};return v.useEffect(()=>{(async()=>{try{if(await dt.initialize(),Pl()){const O=rm();O&&console.log("Admin already logged in with Microsoft:",O)}}catch(O){console.error("MSAL initialization error:",O)}})(),w()},[]),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-full blur-lg animate-float-medium"}),s.jsx("div",{className:"absolute bottom-40 left-20 w-40 h-40 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-2xl animate-float-fast"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-28 h-28 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-xl animate-float-slow"}),s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-radial from-blue-600/30 via-purple-600/20 to-transparent rounded-full animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-radial from-green-600/30 via-cyan-600/20 to-transparent rounded-full animate-pulse-medium"}),s.jsx("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400/60 rounded-full animate-particle-1"}),s.jsx("div",{className:"absolute top-2/3 left-1/3 w-1 h-1 bg-purple-400/60 rounded-full animate-particle-2"}),s.jsx("div",{className:"absolute top-1/2 right-1/3 w-3 h-3 bg-cyan-400/60 rounded-full animate-particle-3"}),s.jsx("div",{className:"absolute bottom-1/3 left-2/3 w-2 h-2 bg-green-400/60 rounded-full animate-particle-4"}),s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-transparent via-blue-500/30 to-transparent transform -translate-x-1/2 animate-line-glow"}),s.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-500/30 to-transparent transform -translate-y-1/2 animate-line-glow-horizontal"})]}),s.jsx("div",{className:"absolute top-1/4 right-1/4 w-16 h-16 border border-blue-500/30 rotate-45 animate-rotate-slow"}),s.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-12 h-12 border border-purple-500/30 rotate-12 animate-rotate-reverse"})]}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[s.jsxs("button",{onClick:t,className:"flex items-center text-slate-300 hover:text-white mb-8 transition-all duration-300 transform hover:scale-110 animate-slide-in-left",children:[s.jsx(q0,{className:"h-4 w-4 mr-1"}),"Back to Login"]}),s.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm border border-slate-600/50 rounded-2xl shadow-2xl p-8 animate-slide-in-right animation-delay-300 hover:shadow-blue-500/20 transition-all duration-500",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 flex items-center justify-center mx-auto mb-4 animate-bounce-subtle",children:s.jsx("img",{src:"alyasra-logo.png",alt:"logo"})}),s.jsx("h1",{className:"text-2xl font-bold text-white animate-fade-in-up animation-delay-400",children:u?"Create Admin Account":"Admin Portal"}),s.jsx("p",{className:"text-slate-300 mt-2 animate-fade-in-up animation-delay-500",children:u?"Set up the first administrator account":"Sign in to access the admin portal (requires AI Administrator role for Microsoft login)"})]}),s.jsxs("form",{onSubmit:_,className:"space-y-6 animate-stagger-children",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:r,onChange:E=>n(E.target.value),className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-600/50 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500/50 transition-all text-white placeholder-slate-400 hover:border-slate-500/50",placeholder:"admin@company.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",value:a,onChange:E=>o(E.target.value),className:"w-full px-4 py-3 pr-12 bg-slate-800/50 backdrop-blur-sm border border-slate-600/50 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500/50 transition-all text-white placeholder-slate-400 hover:border-slate-500/50",placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-all duration-300 transform hover:scale-110",children:c?s.jsx(Wa,{className:"h-5 w-5"}):s.jsx(Un,{className:"h-5 w-5"})})]})]}),u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Product Key"}),s.jsx("input",{type:"text",value:i,onChange:E=>l(E.target.value),className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-600/50 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500/50 transition-all text-white placeholder-slate-400 hover:border-slate-500/50",placeholder:"Enter product key",required:!0}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Product key is required to create the first admin account"})]}),g&&s.jsx("div",{className:"bg-red-500/10 backdrop-blur-sm border border-red-500/20 rounded-lg p-4 mb-4 animate-slide-in-left",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-red-400 text-lg",children:""})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-400",children:g})})]})}),f&&s.jsx("div",{className:"bg-red-500/10 backdrop-blur-sm border border-red-500/20 rounded-lg p-3 animate-slide-in-left",children:s.jsx("p",{className:"text-sm text-red-400",children:f})}),s.jsx("button",{type:"button",onClick:N,disabled:C||A,className:"w-full bg-blue-700 hover:bg-blue-800 disabled:bg-blue-400 rounded-[30px] text-white font-medium py-3 px-4 transition-all duration-300 transform hover:scale-105 disabled:transform-none flex items-center justify-center space-x-2 shadow-lg hover:shadow-blue-500/20 mb-4",children:A?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg font-bold",children:""}),s.jsx("span",{children:"Continue with Microsoft"})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-600/50"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-slate-700/50 text-slate-400",children:"Or continue with credentials"})})]}),s.jsx("button",{type:"submit",disabled:C||A,className:"w-full bg-blue-600 hover:bg-blue-700 rounded-[30px] text-white py-3 font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transform hover:scale-105 animate-pulse-glow shadow-lg hover:shadow-blue-500/20",children:C||A?s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u?"Create Admin Account":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center animate-fade-in-up animation-delay-600",children:s.jsx("button",{type:"button",onClick:()=>{h(!u),m(null),n(""),o(""),l("")},className:"text-sm text-slate-400 hover:text-white transition-all duration-300 transform hover:scale-110",children:u?"Already have admin credentials? Sign in":"Need to create admin account?"})}),!u&&s.jsx("div",{className:"mt-4 p-3 bg-slate-800/30 backdrop-blur-sm rounded-lg border border-slate-600/30 animate-fade-in-up animation-delay-700",children:s.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Demo: admin@alyasra.com / admin123"})}),u&&s.jsx("div",{className:"mt-4 p-3 bg-slate-800/30 backdrop-blur-sm rounded-lg border border-slate-600/30 animate-fade-in-up animation-delay-700",children:s.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Product Key: AlyasraFashion"})})]})]})})]})},mp=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(!0),[a,o]=v.useState(""),[i,l]=v.useState("all"),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,m]=v.useState([]),[C,y]=v.useState({firstName:"",lastName:"",email:"",password:"",provider:"local"});v.useEffect(()=>{A();const T=setInterval(A,3e4);return()=>clearInterval(T)},[]);const A=async()=>{try{const T=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@alyasra.com",provider:"microsoft",isActive:!0,lastLoginAt:new Date(Date.now()-Math.random()*864e5).toISOString(),createdAt:"2024-01-15T10:30:00Z",updatedAt:new Date().toISOString()},{id:"2",firstName:"Sarah",lastName:"Wilson",email:"sarah.wilson@alyasra.com",provider:"microsoft",isActive:!0,lastLoginAt:new Date(Date.now()-Math.random()*864e5).toISOString(),createdAt:"2024-01-10T14:20:00Z",updatedAt:new Date().toISOString()},{id:"3",firstName:"Ahmed",lastName:"Al-Hassan",email:"ahmed.hassan@alyasra.com",provider:"local",isActive:!0,lastLoginAt:new Date(Date.now()-Math.random()*864e5).toISOString(),createdAt:"2024-01-08T09:15:00Z",updatedAt:new Date().toISOString()},{id:"4",firstName:"Maria",lastName:"Garcia",email:"maria.garcia@consultant.alyasra.com",provider:"google",isActive:!1,lastLoginAt:new Date(Date.now()-Math.random()*864e5*7).toISOString(),createdAt:"2024-01-05T16:45:00Z",updatedAt:new Date().toISOString()},{id:"5",firstName:"David",lastName:"Thompson",email:"david.thompson@alyasra.com",provider:"microsoft",isActive:!0,lastLoginAt:new Date(Date.now()-Math.random()*36e5).toISOString(),createdAt:"2024-01-12T11:00:00Z",updatedAt:new Date().toISOString()},{id:"6",firstName:"Fatima",lastName:"Al-Zahra",email:"fatima.zahra@alyasra.com",provider:"local",isActive:!0,lastLoginAt:new Date(Date.now()-Math.random()*72e5).toISOString(),createdAt:"2024-01-20T08:30:00Z",updatedAt:new Date().toISOString()}];e(T)}catch(T){console.error("Failed to fetch users:",T)}finally{n(!1)}},x=async T=>{T.preventDefault();try{(await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(C)})).ok&&(A(),d(!1),N())}catch(V){console.error("Failed to create user:",V)}},g=async T=>{if(T.preventDefault(),!!u)try{(await fetch(`/api/admin/users/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(C)})).ok&&(A(),h(null),N())}catch(V){console.error("Failed to update user:",V)}},p=async T=>{if(confirm("Are you sure you want to delete this user?"))try{(await fetch(`/api/admin/users/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok&&A()}catch(V){console.error("Failed to delete user:",V)}},w=async()=>{if(f.length!==0&&confirm(`Are you sure you want to delete ${f.length} users?`))try{(await fetch("/api/admin/users/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({userIds:f})})).ok&&(A(),m([]))}catch(T){console.error("Failed to bulk delete users:",T)}},N=()=>{y({firstName:"",lastName:"",email:"",password:"",provider:"local"})},_=T=>{h(T),y({firstName:T.firstName,lastName:T.lastName,email:T.email,password:"",provider:T.provider})},E=t.filter(T=>{const V=T.firstName.toLowerCase().includes(a.toLowerCase())||T.lastName.toLowerCase().includes(a.toLowerCase())||T.email.toLowerCase().includes(a.toLowerCase()),se=i==="all"||T.provider===i;return V&&se}),O=T=>{m(V=>V.includes(T)?V.filter(se=>se!==T):[...V,T])},$=()=>{m(f.length===E.length?[]:E.map(T=>T.id))};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage user accounts and permissions"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Create User"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rr,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})}),s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(fl,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(T=>T.isActive).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"})]})]})}),s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ml,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(T=>T.provider==="local").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Local Accounts"})]})]})}),s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zt,{className:"h-8 w-8 text-orange-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(T=>{const V=new Date(T.lastLoginAt),ue=Math.abs(new Date().getTime()-V.getTime());return Math.ceil(ue/(1e3*60*60*24))<=7}).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active This Week"})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground"})]}),s.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"px-4 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",children:[s.jsx("option",{value:"all",children:"All Providers"}),s.jsx("option",{value:"local",children:"Local"}),s.jsx("option",{value:"microsoft",children:"Microsoft"}),s.jsx("option",{value:"google",children:"Google"})]}),f.length>0&&s.jsxs("button",{onClick:w,className:"flex items-center px-4 py-2 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors",children:[s.jsx(kd,{className:"h-4 w-4 mr-2"}),"Delete Selected (",f.length,")"]})]}),s.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:f.length===E.length&&E.length>0,onChange:$,className:"rounded border-border"})}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"User"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Provider"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Last Login"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:E.map(T=>s.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:f.includes(T.id),onChange:()=>O(T.id),className:"rounded border-border"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-foreground",children:[T.firstName," ",T.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",T.id]})]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-foreground",children:T.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.provider==="local"?"bg-blue-100 text-blue-800":T.provider==="microsoft"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:T.provider})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:T.lastLoginAt?new Date(T.lastLoginAt).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>_(T),className:"p-1 text-muted-foreground hover:text-foreground transition-colors",title:"Edit user",children:s.jsx(iN,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(T.id),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",title:"Delete user",children:s.jsx(kd,{className:"h-4 w-4"})})]})})]},T.id))})]})})}),(c||u)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:u?"Edit User":"Create New User"}),s.jsxs("form",{onSubmit:u?g:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"First Name"}),s.jsx("input",{type:"text",value:C.firstName,onChange:T=>y(V=>({...V,firstName:T.target.value})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Last Name"}),s.jsx("input",{type:"text",value:C.lastName,onChange:T=>y(V=>({...V,lastName:T.target.value})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),s.jsx("input",{type:"email",value:C.email,onChange:T=>y(V=>({...V,email:T.target.value})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-1",children:["Password ",u&&"(leave blank to keep current)"]}),s.jsx("input",{type:"password",value:C.password,onChange:T=>y(V=>({...V,password:T.target.value})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",required:!u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Provider"}),s.jsxs("select",{value:C.provider,onChange:T=>y(V=>({...V,provider:T.target.value})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",children:[s.jsx("option",{value:"local",children:"Local"}),s.jsx("option",{value:"microsoft",children:"Microsoft"}),s.jsx("option",{value:"google",children:"Google"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{d(!1),h(null),N()},className:"px-4 py-2 text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:u?"Update User":"Create User"})]})]})]})})]})},kA=()=>{var j,L,re,Y,oe,I,B,le;const[t,e]=v.useState("database"),[r,n]=v.useState({}),[a,o]=v.useState({}),[i,l]=v.useState(!0),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,m]=v.useState([]),[C,y]=v.useState([]),A=[{id:"database",name:"SQL Database",icon:ws,description:"Azure SQL Database connection settings",status:((j=a.database)==null?void 0:j.status)||"disconnected"},{id:"openai",name:"Azure OpenAI",icon:HC,description:"Azure OpenAI API configuration",status:((L=a.openai)==null?void 0:L.status)||"disconnected"},{id:"storage",name:"Blob Storage",icon:W0,description:"Azure Blob Storage configuration",status:((re=a.storage)==null?void 0:re.status)||"disconnected"},{id:"identity",name:"Active Directory",icon:fl,description:"Azure Active Directory settings",status:((Y=a.identity)==null?void 0:Y.status)||"disconnected"},{id:"fabric",name:"Microsoft Fabric",icon:Ti,description:"Microsoft Fabric data platform",status:((oe=a.fabric)==null?void 0:oe.status)||"disconnected"},{id:"security",name:"Security",icon:Ca,description:"Authentication and security settings",status:((I=a.security)==null?void 0:I.status)||"disconnected"}];v.useEffect(()=>{x(),g()},[]);const x=async()=>{try{const R=await fetch("/api/admin/config",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(R.ok){const Z=await R.json();n(w(Z))}else throw new Error("Failed to fetch configuration")}catch(R){console.error("Failed to fetch configs:",R),p()}finally{l(!1)}},g=async()=>{try{const R=await fetch("/api/admin/azure-services",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(R.ok){const he=(await R.json()).services.reduce((ge,me)=>(ge[me.id.replace("-","")]={name:me.name,status:me.status,lastChecked:me.lastChecked,endpoint:me.endpoint||me.server||me.accountName},ge),{});o(he)}}catch(R){console.error("Failed to fetch service statuses:",R)}},p=()=>{n({database:[{key:"SQL_SERVER",label:"Server",value:"aiva-sql-server.database.windows.net",type:"text",required:!0,description:"SQL Server hostname"},{key:"SQL_DATABASE",label:"Database",value:"aiva-production",type:"text",required:!0,description:"Database name"},{key:"SQL_USERNAME",label:"Username",value:"aivaadmin",type:"text",required:!0,description:"Database username"},{key:"SQL_PASSWORD",label:"Password",value:"",type:"password",required:!0,description:"Database password"},{key:"SQL_ENCRYPT",label:"Encrypt Connection",value:"true",type:"text",required:!1,description:"Enable SSL encryption"},{key:"SQL_TRUST_SERVER_CERTIFICATE",label:"Trust Server Certificate",value:"true",type:"text",required:!1,description:"Trust server certificate"},{key:"SQL_POOL_MAX",label:"Max Pool Size",value:"10",type:"number",required:!1,description:"Maximum connection pool size"},{key:"SQL_POOL_MIN",label:"Min Pool Size",value:"0",type:"number",required:!1,description:"Minimum connection pool size"},{key:"SQL_REQUEST_TIMEOUT",label:"Request Timeout (ms)",value:"30000",type:"number",required:!1,description:"Request timeout in milliseconds"},{key:"SQL_CONNECTION_TIMEOUT",label:"Connection Timeout (ms)",value:"15000",type:"number",required:!1,description:"Connection timeout in milliseconds"}],openai:[{key:"AZURE_OPENAI_ENDPOINT",label:"Azure OpenAI Endpoint",value:"https://aiva-openai.openai.azure.com",type:"url",required:!0,description:"Azure OpenAI service endpoint"},{key:"AZURE_OPENAI_API_KEY",label:"API Key",value:"",type:"password",required:!0,description:"Azure OpenAI API key"},{key:"AZURE_OPENAI_DEPLOYMENT_NAME",label:"Deployment Name",value:"gpt-4o",type:"text",required:!0,description:"OpenAI model deployment name"}],storage:[{key:"AZURE_STORAGE_ACCOUNT_NAME",label:"Storage Account Name",value:"aivastorage",type:"text",required:!0,description:"Azure Storage account name"},{key:"AZURE_STORAGE_CONNECTION_STRING",label:"Connection String",value:"",type:"password",required:!1,description:"Storage connection string (alternative to managed identity)"},{key:"AZURE_STORAGE_CONTAINER_NAME",label:"Container Name",value:"aiva-files",type:"text",required:!1,description:"Default storage container name"}],identity:[{key:"AZURE_TENANT_ID",label:"Tenant ID",value:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",type:"text",required:!0,description:"Azure AD tenant ID"},{key:"AZURE_CLIENT_ID",label:"Client ID",value:"f9e8d7c6-b5a4-3210-9876-543210fedcba",type:"text",required:!0,description:"Azure AD application ID"},{key:"AZURE_CLIENT_SECRET",label:"Client Secret",value:"",type:"password",required:!0,description:"Azure AD client secret"}],fabric:[{key:"FABRIC_WORKSPACE_ID",label:"Workspace ID",value:"",type:"text",required:!1,description:"Microsoft Fabric workspace ID"},{key:"FABRIC_CAPACITY_ID",label:"Capacity ID",value:"",type:"text",required:!1,description:"Microsoft Fabric capacity ID"},{key:"FABRIC_DATASET_ID",label:"Dataset ID",value:"",type:"text",required:!1,description:"Default dataset ID for queries"}],security:[{key:"JWT_SECRET",label:"JWT Secret",value:"",type:"password",required:!0,description:"Secret for JWT token signing"},{key:"ADMIN_EMAILS",label:"Admin Emails",value:"admin@aiva.com",type:"text",required:!1,description:"Comma-separated list of admin emails"},{key:"SESSION_TIMEOUT",label:"Session Timeout",value:"24h",type:"text",required:!1,description:"Session expiration time"}]}),o({database:{name:"Azure SQL Database",status:"connected",lastChecked:new Date().toISOString(),endpoint:"aiva-sql-server.database.windows.net"},openai:{name:"Azure OpenAI",status:"connected",lastChecked:new Date().toISOString(),endpoint:"aiva-openai.openai.azure.com"},storage:{name:"Azure Blob Storage",status:"connected",lastChecked:new Date().toISOString(),endpoint:"aivastorage.blob.core.windows.net"},identity:{name:"Azure Active Directory",status:"connected",lastChecked:new Date().toISOString()},fabric:{name:"Microsoft Fabric",status:"disconnected",lastChecked:new Date().toISOString()},security:{name:"Security Settings",status:"connected",lastChecked:new Date().toISOString()}})},w=R=>{if(!(R!=null&&R.config))return r;const Z=R.config,he={};for(const[ge,me]of Object.entries(Z)){const Ke=[];if(me&&typeof me=="object")for(const[Oe,Ks]of Object.entries(me)){const Vs={key:Oe,label:N(Oe),value:Ks||"",type:_(Oe),required:E(ge,Oe),description:O(ge,Oe),placeholder:$(Oe)};Ke.push(Vs)}he[ge]=Ke}return he},N=R=>R.split("_").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1).toLowerCase()).join(" "),_=R=>{const Z=R.toLowerCase();return Z.includes("password")||Z.includes("secret")||Z.includes("key")?"password":Z.includes("endpoint")||Z.includes("url")||Z.includes("server")?"url":Z.includes("timeout")||Z.includes("pool")||Z.includes("port")?"number":"text"},E=(R,Z)=>{var ge;return((ge={database:["SQL_SERVER","SQL_DATABASE","SQL_USERNAME","SQL_PASSWORD"],openai:["AZURE_OPENAI_ENDPOINT","AZURE_OPENAI_API_KEY"],storage:["AZURE_STORAGE_ACCOUNT_NAME"],identity:["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET"],security:["JWT_SECRET"]}[R])==null?void 0:ge.includes(Z))||!1},O=(R,Z)=>({SQL_SERVER:"SQL Server hostname or IP address",SQL_DATABASE:"Name of the SQL database",SQL_USERNAME:"Database user account",SQL_PASSWORD:"Database user password",AZURE_OPENAI_ENDPOINT:"Azure OpenAI service endpoint URL",AZURE_OPENAI_API_KEY:"Azure OpenAI API access key",AZURE_OPENAI_DEPLOYMENT_NAME:"Name of the OpenAI model deployment",AZURE_STORAGE_ACCOUNT_NAME:"Azure Storage account name",AZURE_STORAGE_CONNECTION_STRING:"Storage connection string (optional)",AZURE_STORAGE_CONTAINER_NAME:"Default storage container name",AZURE_TENANT_ID:"Azure Active Directory tenant ID",AZURE_CLIENT_ID:"Azure AD application (client) ID",AZURE_CLIENT_SECRET:"Azure AD client secret value",JWT_SECRET:"Secret key for JWT token signing",ADMIN_EMAILS:"Comma-separated list of admin email addresses"})[Z]||"",$=R=>({SQL_SERVER:"server.database.windows.net",SQL_DATABASE:"mydatabase",SQL_USERNAME:"adminuser",AZURE_OPENAI_ENDPOINT:"https://myopenai.openai.azure.com",AZURE_OPENAI_DEPLOYMENT_NAME:"gpt-4o",AZURE_STORAGE_ACCOUNT_NAME:"mystorageaccount",AZURE_STORAGE_CONTAINER_NAME:"aiva-files",ADMIN_EMAILS:"admin@company.com,manager@company.com"})[R]||"",T=(R,Z,he)=>{n(me=>{var Ke;return{...me,[R]:((Ke=me[R])==null?void 0:Ke.map(Oe=>Oe.key===Z?{...Oe,value:he}:Oe))||[]}});const ge=`${R}.${Z}`;C.includes(ge)||y(me=>[...me,ge])},V=async R=>{d(!0);try{const he=(r[R]||[]).reduce((me,Ke)=>(me[Ke.key]=Ke.value,me),{}),ge=await fetch(`/api/admin/config/${R}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify(he)});if(ge.ok){const me=await ge.json();y(Ke=>Ke.filter(Oe=>!Oe.startsWith(`${R}.`))),await se(R),console.log(` ${R} configuration saved successfully`)}else{const me=await ge.json();throw new Error(me.message||"Failed to save configuration")}}catch(Z){console.error("Failed to save config:",Z)}finally{d(!1)}},se=async R=>{h(R);try{const Z=await fetch(`/api/admin/config/${R}/test`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(Z.ok){const he=await Z.json();o(ge=>({...ge,[R]:{...ge[R],status:he.success?"connected":"error",lastChecked:new Date().toISOString()}})),he.success?console.log(` ${R} connection test passed`):console.warn(` ${R} connection test failed: ${he.error}`)}else throw new Error("Test request failed")}catch(Z){console.error("Service test failed:",Z),o(he=>({...he,[R]:{...he[R],status:"error",lastChecked:new Date().toISOString()}}))}finally{h(null)}},ue=R=>{m(Z=>Z.includes(R)?Z.filter(he=>he!==R):[...Z,R])},xe=R=>{switch(R){case"connected":return s.jsx(Dt,{className:"h-5 w-5 text-green-500"});case"error":return s.jsx(Nf,{className:"h-5 w-5 text-red-500"});case"configuring":return s.jsx(Tr,{className:"h-5 w-5 text-blue-500"});default:return s.jsx(Sn,{className:"h-5 w-5 text-yellow-500"})}},Fe=R=>{switch(R){case"connected":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"configuring":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}};if(i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})});const F=r[t]||[],ne=C.some(R=>R.startsWith(`${t}.`)),k=a[t];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"System Configuration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage Azure services and system settings"})]}),C.length>0&&s.jsxs("div",{className:"flex items-center space-x-2 text-orange-600",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[C.length," unsaved changes"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:Object.values(a).filter(R=>R.status==="connected").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected"})]})]})}),s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nf,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:Object.values(a).filter(R=>R.status==="error").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]})}),s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sn,{className:"h-8 w-8 text-yellow-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:Object.values(a).filter(R=>R.status==="disconnected").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Disconnected"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Services"}),s.jsx("nav",{className:"space-y-1",children:A.map(R=>{const Z=R.icon,he=t===R.id,ge=C.some(Ke=>Ke.startsWith(`${R.id}.`)),me=a[R.id];return s.jsxs("button",{onClick:()=>e(R.id),className:`w-full flex items-center px-3 py-2 text-left rounded-lg transition-all ${he?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"}`,children:[s.jsx(Z,{className:"h-4 w-4 mr-3"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:R.name}),s.jsxs("div",{className:"flex items-center space-x-1",children:[ge&&s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),xe((me==null?void 0:me.status)||"disconnected")]})]})})]},R.id)})})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg",children:[s.jsx("div",{className:"border-b border-border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground",children:(B=A.find(R=>R.id===t))==null?void 0:B.name}),k&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fe(k.status)}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(le=A.find(R=>R.id===t))==null?void 0:le.description}),(k==null?void 0:k.endpoint)&&s.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"Endpoint: "}),s.jsx("span",{className:"font-mono ml-1",children:k.endpoint}),s.jsx(qC,{className:"h-3 w-3 ml-1"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>se(t),disabled:u===t,className:"flex items-center px-3 py-2 text-muted-foreground hover:text-foreground border border-border rounded-lg hover:bg-muted transition-all disabled:opacity-50",children:[s.jsx(Ar,{className:`h-4 w-4 mr-2 ${u===t?"animate-spin":""}`}),"Test"]}),s.jsxs("button",{onClick:()=>V(t),disabled:!ne||c,className:"flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(aN,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[F.map(R=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground",children:[R.label,R.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),R.type==="password"&&s.jsx("button",{type:"button",onClick:()=>ue(R.key),className:"text-muted-foreground hover:text-foreground transition-colors",children:f.includes(R.key)?s.jsx(Wa,{className:"h-4 w-4"}):s.jsx(Un,{className:"h-4 w-4"})})]}),s.jsx("input",{type:R.type==="password"&&!f.includes(R.key)?"password":R.type==="number"?"number":"text",value:R.value,onChange:Z=>T(t,R.key,Z.target.value),placeholder:R.placeholder||R.description,className:"w-full px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",required:R.required}),R.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:R.description}),C.includes(`${t}.${R.key}`)&&s.jsxs("div",{className:"flex items-center text-orange-600 text-xs",children:[s.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Unsaved changes"]})]},R.key)),F.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Tr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No configuration items available for this section."})]})]})]})})]})]})},SA=()=>{const[t,e]=v.useState([]),[r,n]=v.useState([]),[a,o]=v.useState(!0),[i,l]=v.useState("1h"),[c,d]=v.useState(!0);v.useEffect(()=>{u(),h();let x;return c&&(x=setInterval(()=>{f(),m()},1e4)),()=>{x&&clearInterval(x)}},[c,i]);const u=async()=>{try{o(!1)}catch(x){console.error("Failed to fetch system metrics:",x),o(!1)}},h=async()=>{},f=()=>{e(x=>x.map(g=>{const p=(Math.random()-.5)*10;let w=g.value;if(g.id==="cpu"){const N=parseInt(g.value),_=Math.max(10,Math.min(90,N+p));w=`${Math.round(_)}%`}else if(g.id==="memory"){const N=parseInt(g.value),_=Math.max(30,Math.min(95,N+p));w=`${Math.round(_)}%`}else if(g.id==="active-users"){const N=parseInt(g.value.replace(",",""));w=Math.max(1e3,N+Math.round(Math.random()*100-50)).toLocaleString()}else g.id==="messages-today"&&(w=(parseInt(g.value.replace(",",""))+Math.round(Math.random()*50)).toLocaleString());return{...g,value:w,change:p>0?`+${Math.round(p)}%`:`${Math.round(p)}%`}}))},m=()=>{const x=["Database query optimization completed","User session initiated successfully","Cache refresh completed","Backup process started","API rate limit warning threshold reached","New user registration completed","File upload processed successfully","Azure service health check passed","Memory usage within normal parameters","Network latency optimization applied"],g=["info","info","info","warning","error"],p=["api-server","database","auth-service","storage-service","monitoring"],w={id:Date.now().toString(),timestamp:new Date().toISOString(),level:g[Math.floor(Math.random()*g.length)],message:x[Math.floor(Math.random()*x.length)],source:p[Math.floor(Math.random()*p.length)]};n(N=>[w,...N.slice(0,9)])};v.useEffect(()=>{!a&&t.length===0&&(e([{id:"cpu",name:"CPU Usage",value:"45%",change:"+2%",status:"good",icon:VC},{id:"memory",name:"Memory Usage",value:"78%",change:"+5%",status:"warning",icon:XC},{id:"disk",name:"Disk Usage",value:"23%",change:"+1%",status:"good",icon:W0},{id:"active-users",name:"Active Users",value:"1,247",change:"+12%",status:"good",icon:Rr},{id:"messages-today",name:"Messages Today",value:"8,432",change:"+18%",status:"good",icon:lt},{id:"db-connections",name:"DB Connections",value:"15/100",change:"+3",status:"good",icon:ws},{id:"response-time",name:"Avg Response Time",value:"127ms",change:"-5ms",status:"good",icon:_n},{id:"uptime",name:"System Uptime",value:"99.9%",change:"0%",status:"good",icon:Ti}]),n([{id:"1",timestamp:new Date().toISOString(),level:"info",message:"User authentication successful",source:"auth-service"},{id:"2",timestamp:new Date(Date.now()-5e3).toISOString(),level:"warning",message:"High memory usage detected",source:"system-monitor"},{id:"3",timestamp:new Date(Date.now()-1e4).toISOString(),level:"info",message:"Database backup completed successfully",source:"backup-service"},{id:"4",timestamp:new Date(Date.now()-15e3).toISOString(),level:"error",message:"Failed to connect to Azure OpenAI service",source:"openai-service"},{id:"5",timestamp:new Date(Date.now()-2e4).toISOString(),level:"info",message:"New user registration",source:"user-service"}]))},[a,t]);const C=x=>{switch(x){case"good":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=x=>{switch(x){case"info":return"text-blue-600 bg-blue-100";case"warning":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=x=>{switch(x){case"info":return s.jsx(Dt,{className:"h-4 w-4"});case"warning":return s.jsx(Sn,{className:"h-4 w-4"});case"error":return s.jsx(Sn,{className:"h-4 w-4"});default:return s.jsx(Ti,{className:"h-4 w-4"})}};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"System Monitoring"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time system performance and health metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("select",{value:i,onChange:x=>l(x.target.value),className:"px-3 py-2 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",children:[s.jsx("option",{value:"1h",children:"Last Hour"}),s.jsx("option",{value:"6h",children:"Last 6 Hours"}),s.jsx("option",{value:"24h",children:"Last 24 Hours"}),s.jsx("option",{value:"7d",children:"Last 7 Days"})]}),s.jsxs("label",{className:"flex items-center space-x-2 text-sm text-foreground",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:x=>d(x.target.checked),className:"rounded border-border"}),s.jsx("span",{children:"Auto-refresh"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(x=>{const g=x.icon;return s.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${C(x.status)}`,children:s.jsx(g,{className:"h-5 w-5"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:x.name}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:x.value})]})]}),s.jsxs("div",{className:`text-right ${x.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[s.jsx(dN,{className:"h-4 w-4 mb-1"}),s.jsx("p",{className:"text-sm font-medium",children:x.change})]})]})},x.id)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Status"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-4 w-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Healthy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Warnings"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:new Date().toLocaleTimeString()})]})]})]}),s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Service Status"}),s.jsx("div",{className:"space-y-3",children:[{name:"API Server",status:"good"},{name:"Database",status:"good"},{name:"Azure OpenAI",status:"good"},{name:"Blob Storage",status:"good"},{name:"Authentication",status:"good"}].map((x,g)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:x.name}),s.jsx("div",{className:"flex items-center",children:x.status==="good"?s.jsx(Dt,{className:"h-4 w-4 text-green-500"}):s.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]},g))})]}),s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all",children:"Restart Services"}),s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all",children:"Clear Cache"}),s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all",children:"Export Logs"}),s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all",children:"Run Health Check"})]})]})]}),s.jsxs("div",{className:"bg-card border border-border rounded-lg",children:[s.jsxs("div",{className:"border-b border-border p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground",children:"Recent System Logs"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Latest system events and notifications"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:r.map(x=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-muted/30 rounded-lg transition-colors",children:[s.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${y(x.level)}`,children:A(x.level)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:x.message}),s.jsx("time",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleTimeString()})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",x.source]})]})]},x.id))})})]})]})},AA=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,o]=v.useState(!0),[i,l]=v.useState(1),[c,d]=v.useState(1),[u,h]=v.useState(null);v.useEffect(()=>{f()},[i,r]);const f=async()=>{var A;o(!0);const y=[{id:"1",title:"How to analyze sales data?",description:"The AI response was not helpful for understanding sales trends...",content:"The AI provided generic advice instead of specific data analysis steps for sales metrics. Users expected more actionable insights about interpreting sales performance data.",date:"2024-01-15T10:30:00Z",type:"assistant",category:"Data Analysis",chatId:"chat-001",userName:"John Smith",userEmail:"john.smith@company.com"},{id:"2",title:"Customer retention strategies",description:"Response lacked specific implementation details...",content:"The AI gave broad customer retention concepts but failed to provide concrete, actionable strategies that could be implemented immediately.",date:"2024-01-14T15:45:00Z",type:"assistant",category:"Business Strategy",chatId:"chat-002",userName:"Sarah Johnson",userEmail:"sarah.j@company.com"},{id:"3",title:"Database optimization tips",description:"Technical recommendations were too generic...",content:"The AI provided database optimization advice that was too general and not specific to our SQL Server environment and performance issues.",date:"2024-01-13T09:15:00Z",type:"assistant",category:"Technical",chatId:"chat-003",userName:"Mike Davis",userEmail:"mike.davis@company.com"}];try{const x=await fetch(`/api/admin/disliked-messages?page=${i}&limit=10&search=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"x-admin-email":"admin@aiva.com"}});if(x.ok){const g=await x.json();e(g.messages||y),d(((A=g.pagination)==null?void 0:A.pages)||1)}else e(y)}catch(x){console.error("Error fetching disliked messages:",x);const g=y.filter(p=>p.title.toLowerCase().includes(r.toLowerCase())||p.description.toLowerCase().includes(r.toLowerCase())||p.userName.toLowerCase().includes(r.toLowerCase()));e(g),d(Math.ceil(g.length/10))}finally{o(!1)}},m=y=>{switch(y){case"Data Analysis":return"bg-blue-100 text-blue-800";case"Business Strategy":return"bg-green-100 text-green-800";case"Technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},C=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(bs,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Disliked Messages"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Review and analyze user feedback on AI responses"})]})]}),s.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ar,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bs,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Dislikes"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:t.length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"This Week"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"12"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pr,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Unique Users"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"8"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{className:"h-5 w-5 text-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg per Day"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"3.2"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search messages, users, or content...",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(WC,{className:"h-4 w-4"}),s.jsx("span",{children:"Filter"})]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:a?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Ar,{className:"h-8 w-8 text-gray-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading disliked messages..."})]}):t.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(bs,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No disliked messages found"}),s.jsx("p",{className:"text-gray-500",children:r?"Try adjusting your search terms":"All AI responses are performing well!"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(y=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(y.category)}`,children:y.category})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:y.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"h-4 w-4"}),s.jsx("span",{children:y.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zt,{className:"h-4 w-4"}),s.jsx("span",{children:C(y.date)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(lt,{className:"h-4 w-4"}),s.jsx("span",{children:y.type==="assistant"?"AI Response":"User Message"})]})]})]}),s.jsxs("button",{onClick:()=>h(y),className:"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx("span",{children:"View Details"})]})]})},y.id))})}),c>1&&s.jsx("div",{className:"flex items-center justify-center space-x-2",children:Array.from({length:c},(y,A)=>A+1).map(y=>s.jsx("button",{onClick:()=>l(y),className:`px-3 py-2 rounded-lg ${i===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:y},y))}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Message Details"}),s.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),s.jsxs("p",{className:"text-gray-900",children:[u.userName," (",u.userEmail,")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chat Title"}),s.jsx("p",{className:"text-gray-900",children:u.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Disliked"}),s.jsx("p",{className:"text-gray-900",children:C(u.date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Content"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.content})})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Full Chat"}),s.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Mark as Reviewed"})]})]})]})})]})},TA=()=>{var Fe;const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,o]=v.useState(!0),[i,l]=v.useState(1),[c,d]=v.useState(1),[u,h]=v.useState(null),[f,m]=v.useState("all"),[C,y]=v.useState("all"),[A,x]=v.useState(""),[g,p]=v.useState(!1),w=[{value:"bug",label:"Bug Report",icon:G0,color:"text-red-500"},{value:"feature",label:"Feature Request",icon:Q0,color:"text-yellow-500"},{value:"improvement",label:"Improvement",icon:Tr,color:"text-blue-500"},{value:"complaint",label:"Complaint",icon:vs,color:"text-orange-500"},{value:"compliment",label:"Compliment",icon:zu,color:"text-pink-500"},{value:"general",label:"General",icon:lt,color:"text-gray-500"}],N=[{value:"low",label:"Low",color:"bg-gray-100 text-gray-800"},{value:"medium",label:"Medium",color:"bg-blue-100 text-blue-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800"}],_=[{value:"open",label:"Open",color:"bg-blue-100 text-blue-800"},{value:"in-progress",label:"In Progress",color:"bg-yellow-100 text-yellow-800"},{value:"resolved",label:"Resolved",color:"bg-green-100 text-green-800"},{value:"closed",label:"Closed",color:"bg-gray-100 text-gray-800"}];v.useEffect(()=>{E()},[i,r,f,C]);const E=async()=>{var ne;o(!0);const F=[{id:"1",subject:"Chat interface improvement suggestion",message:"I think the chat interface could be improved by adding dark mode support and better message formatting options.",category:"improvement",priority:"medium",status:"open",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",userId:"user-1",userName:"John Smith",userEmail:"john.smith@company.com"},{id:"2",subject:"Bug: Message not sending",message:'Sometimes when I try to send a message, it gets stuck in "sending" state and never actually sends. This happens about 20% of the time.',category:"bug",priority:"high",status:"in-progress",adminResponse:"Thank you for reporting this issue. We are investigating the root cause and will deploy a fix soon.",adminName:"Admin User",respondedAt:"2024-01-14T16:45:00Z",createdAt:"2024-01-14T15:45:00Z",updatedAt:"2024-01-14T16:45:00Z",userId:"user-2",userName:"Sarah Johnson",userEmail:"sarah.j@company.com"},{id:"3",subject:"Love the new data visualization feature!",message:"The new data visualization feature is amazing! It has made my work so much easier. Thank you for this great addition.",category:"compliment",priority:"low",status:"resolved",adminResponse:"Thank you for the positive feedback! We're glad you're enjoying the new feature.",adminName:"Admin User",respondedAt:"2024-01-13T10:15:00Z",createdAt:"2024-01-13T09:15:00Z",updatedAt:"2024-01-13T10:15:00Z",userId:"user-3",userName:"Mike Davis",userEmail:"mike.davis@company.com"}];try{const k=new URLSearchParams({page:i.toString(),limit:"10",search:r,status:f!=="all"?f:"",category:C!=="all"?C:""}),j=await fetch(`/api/admin/feedback?${k}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"x-admin-email":"admin@aiva.com"}});if(j.ok){const L=await j.json();e(L.feedback||F),d(((ne=L.pagination)==null?void 0:ne.pages)||1)}else{let L=F;r&&(L=L.filter(re=>{var Y;return re.subject.toLowerCase().includes(r.toLowerCase())||re.message.toLowerCase().includes(r.toLowerCase())||((Y=re.userName)==null?void 0:Y.toLowerCase().includes(r.toLowerCase()))})),f!=="all"&&(L=L.filter(re=>re.status===f)),C!=="all"&&(L=L.filter(re=>re.category===C)),e(L),d(Math.ceil(L.length/10))}}catch(k){console.error("Error fetching feedback:",k),e(F),d(1)}finally{o(!1)}},O=async()=>{if(!(!u||!A.trim())){p(!0);try{(await fetch(`/api/admin/feedback/${u.id}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"x-admin-email":"admin@aiva.com"},body:JSON.stringify({response:A,status:"resolved"})})).ok?(x(""),h(null),E(),alert("Response sent successfully!")):alert("Failed to send response. Please try again.")}catch(F){console.error("Error responding to feedback:",F),alert("Failed to send response. Please try again.")}finally{p(!1)}}},$=F=>{switch(F){case"open":return s.jsx(_n,{className:"h-4 w-4 text-blue-500"});case"in-progress":return s.jsx(Tr,{className:"h-4 w-4 text-yellow-500 animate-spin"});case"resolved":return s.jsx(Dt,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Dt,{className:"h-4 w-4 text-gray-500"});default:return s.jsx(_n,{className:"h-4 w-4 text-gray-500"})}},T=F=>{const ne=w.find(j=>j.value===F);if(!ne)return s.jsx(lt,{className:"h-4 w-4 text-gray-500"});const k=ne.icon;return s.jsx(k,{className:`h-4 w-4 ${ne.color}`})},V=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),se=F=>{var ne;return((ne=_.find(k=>k.value===F))==null?void 0:ne.color)||"bg-gray-100 text-gray-800"},ue=F=>{var ne;return((ne=N.find(k=>k.value===F))==null?void 0:ne.color)||"bg-gray-100 text-gray-800"},xe={total:t.length,open:t.filter(F=>F.status==="open").length,inProgress:t.filter(F=>F.status==="in-progress").length,resolved:t.filter(F=>F.status==="resolved").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(lt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Feedback"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage and respond to user feedback"})]})]}),s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ar,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Feedback"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:xe.total})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_n,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Open"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:xe.open})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tr,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:xe.inProgress})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dt,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolved"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:xe.resolved})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search feedback...",value:r,onChange:F=>n(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:f,onChange:F=>m(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),_.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))]}),s.jsxs("select",{value:C,onChange:F=>y(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Categories"}),w.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:a?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Ar,{className:"h-8 w-8 text-gray-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading feedback..."})]}):t.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(lt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No feedback found"}),s.jsx("p",{className:"text-gray-500",children:r||f!=="all"||C!=="all"?"Try adjusting your search or filters":"No user feedback received yet"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(F=>{var ne;return s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.subject}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se(F.status)}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1).replace("-"," ")}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue(F.priority)}`,children:F.priority.charAt(0).toUpperCase()+F.priority.slice(1)})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:F.message}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"h-4 w-4"}),s.jsx("span",{children:F.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[T(F.category),s.jsx("span",{children:(ne=w.find(k=>k.value===F.category))==null?void 0:ne.label})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zt,{className:"h-4 w-4"}),s.jsx("span",{children:V(F.createdAt)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[$(F.status),s.jsx("span",{children:F.status.charAt(0).toUpperCase()+F.status.slice(1).replace("-"," ")})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>h(F),className:"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx("span",{children:"View"})]}),!F.adminResponse&&s.jsxs("button",{onClick:()=>{h(F),x("")},className:"flex items-center space-x-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[s.jsx(kf,{className:"h-4 w-4"}),s.jsx("span",{children:"Respond"})]})]})]}),F.adminResponse&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Admin Response"}),F.respondedAt&&s.jsxs("span",{className:"text-sm text-blue-600",children:[" ",V(F.respondedAt)]})]}),s.jsx("p",{className:"text-blue-800",children:F.adminResponse})]})]},F.id)})})}),c>1&&s.jsx("div",{className:"flex items-center justify-center space-x-2",children:Array.from({length:c},(F,ne)=>ne+1).map(F=>s.jsx("button",{onClick:()=>l(F),className:`px-3 py-2 rounded-lg ${i===F?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:F},F))}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Feedback Details"}),s.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),s.jsxs("p",{className:"text-gray-900",children:[u.userName," (",u.userEmail,")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Submitted"}),s.jsx("p",{className:"text-gray-900",children:V(u.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[T(u.category),s.jsx("span",{className:"text-gray-900",children:(Fe=w.find(F=>F.value===u.category))==null?void 0:Fe.label})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue(u.priority)}`,children:u.priority.charAt(0).toUpperCase()+u.priority.slice(1)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsx("p",{className:"text-gray-900",children:u.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.message})})]}),u.adminResponse?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Response"}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400",children:[s.jsx("p",{className:"text-blue-900",children:u.adminResponse}),u.respondedAt&&s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Responded on ",V(u.respondedAt)]})]})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Response"}),s.jsx("textarea",{rows:4,value:A,onChange:F=>x(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your response..."}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsxs("button",{onClick:O,disabled:g||!A.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(kf,{className:"h-4 w-4"}),s.jsx("span",{children:g?"Sending...":"Send Response"})]})})]})]})]})})]})},EA=({onClose:t})=>{var Y,oe;const[e,r]=v.useState([]),[n,a]=v.useState([]),[o,i]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState(""),[h,f]=v.useState(null),[m,C]=v.useState(!1),[y,A]=v.useState(null),[x,g]=v.useState("question"),[p,w]=v.useState(""),[N,_]=v.useState("sql"),[E,O]=v.useState(!1),[$,T]=v.useState({name:"",type:"sql-server",host:"",port:1433,database:"",username:"",password:"",isDefault:!1}),V=["What are the top 5 performing products this month?","Show me sales trends over the last 6 months","What is the total revenue for this quarter?","Which customers have the highest order values?","How many orders were placed last week?","What is the average order value by region?","Show me inventory levels for low-stock items","What are the most popular product categories?"];v.useEffect(()=>{se(),ue()},[]);const se=async()=>{var I;try{const B=await fetch("undefined/data/datasets",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(B.ok){const le=await B.json();r(le.datasets||[]),((I=le.datasets)==null?void 0:I.length)>0&&i(le.datasets[0].id)}}catch(B){console.error("Failed to load datasets:",B),A("Failed to load available datasets")}},ue=async()=>{var I;try{const B=await fetch("undefined/data/connections",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(B.ok){const le=await B.json();a(le.connections||[]);const R=(I=le.connections)==null?void 0:I.find(Z=>Z.isDefault);R&&c(R.id)}}catch(B){console.error("Failed to load connections:",B),A("Failed to load database connections")}},xe=async()=>{if(!$.name.trim()||!$.host.trim()){A("Connection name and host are required");return}try{const I=await fetch("undefined/data/connections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify($)});if(I.ok)await ue(),O(!1),T({name:"",type:"sql-server",host:"",port:1433,database:"",username:"",password:"",isDefault:!1});else{const B=await I.json();A(B.message||"Failed to create connection")}}catch{A("Network error occurred while creating connection")}},Fe=async I=>{try{const B=await fetch(`undefined/data/connections/${I}/test`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(B.ok)await ue();else{const le=await B.json();A(le.message||"Connection test failed")}}catch{A("Network error occurred while testing connection")}},F=async I=>{if(confirm("Are you sure you want to delete this connection?"))try{const B=await fetch(`undefined/data/connections/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(B.ok)await ue();else{const le=await B.json();A(le.message||"Failed to delete connection")}}catch{A("Network error occurred while deleting connection")}},ne=I=>{switch(I){case"fabric":return"";case"sql-server":return"";case"mysql":return"";case"postgresql":return"";case"oracle":return"";case"mongodb":return"";default:return""}},k=I=>{switch(I){case"connected":return"text-green-600 bg-green-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},j=async()=>{if(d.trim()){C(!0),A(null);try{const I=await fetch("undefined/data/question",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({question:d,datasetId:o||void 0,connectionId:l||void 0,includeVisualization:!0})});if(I.ok){const B=await I.json();f(B.result),g("results")}else{const B=await I.json();A(B.message||"Failed to process question")}}catch{A("Network error occurred")}finally{C(!1)}}},L=async()=>{if(p.trim()){C(!0),A(null);try{const I=await fetch("undefined/data/query",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({query:p,queryType:N,datasetId:N==="dax"?o:void 0,connectionId:l||void 0})});if(I.ok){const B=await I.json();f({answer:`Query executed successfully. Retrieved ${B.result.rowCount} rows in ${B.result.executionTime}ms.`,data:B.result,query:p,queryType:N,confidence:1,executionTime:B.result.executionTime,tokens:0}),g("results")}else{const B=await I.json();A(B.message||"Failed to execute query")}}catch{A("Network error occurred")}finally{C(!1)}}},re=I=>{navigator.clipboard.writeText(I)};return s.jsxs("div",{className:`${t?"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50":"h-full flex flex-col"}`,children:[s.jsxs("div",{className:`bg-white rounded-lg flex flex-col ${t?"w-full max-w-6xl h-5/6 mx-4":"w-full h-full"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ws,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Data Insights"})]}),t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Rn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Connection:"}),s.jsxs("select",{value:l,onChange:I=>c(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a connection"}),n.map(I=>s.jsxs("option",{value:I.id,children:[ne(I.type)," ",I.name," (",I.type,")"]},I.id))]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dataset:"}),s.jsxs("select",{value:o,onChange:I=>i(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a dataset"}),e.map(I=>s.jsxs("option",{value:I.id,children:[ne(I.connectionType)," ",I.name," (",I.workspace,")"]},I.id))]})]})]})}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>g("question"),className:`px-6 py-3 font-medium text-sm ${x==="question"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Ask Question"}),s.jsx("button",{onClick:()=>g("query"),className:`px-6 py-3 font-medium text-sm ${x==="query"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Direct Query"}),s.jsx("button",{onClick:()=>g("connections"),className:`px-6 py-3 font-medium text-sm ${x==="connections"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Connections"}),h&&s.jsx("button",{onClick:()=>g("results"),className:`px-6 py-3 font-medium text-sm ${x==="results"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Results"})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[x==="question"&&s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ask a question about your data:"}),s.jsx("textarea",{value:d,onChange:I=>u(I.target.value),placeholder:"e.g., What are the top 5 performing products this month?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sample Questions:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:V.map((I,B)=>s.jsx("button",{onClick:()=>u(I),className:"text-left p-2 text-sm text-blue-600 hover:bg-blue-50 rounded border border-blue-200 transition-colors",children:I},B))})]}),s.jsxs("button",{onClick:j,disabled:m||!d.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:[s.jsx(Cd,{className:"w-4 h-4"}),s.jsx("span",{children:m?"Processing...":"Ask Question"})]})]}),x==="query"&&s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Query Type:"}),s.jsxs("select",{value:N,onChange:I=>_(I.target.value),className:"px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"sql",children:"SQL"}),s.jsx("option",{value:"dax",children:"DAX"})]})]}),s.jsx("textarea",{value:p,onChange:I=>w(I.target.value),placeholder:N==="sql"?"SELECT * FROM [Table] WHERE...":"EVALUATE TOPN(10, [Table])",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",rows:8})]}),s.jsxs("button",{onClick:L,disabled:m||!p.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:[s.jsx(Cd,{className:"w-4 h-4"}),s.jsx("span",{children:m?"Executing...":"Execute Query"})]})]}),x==="connections"&&s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Database Connections"}),s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Connection"})]})]}),s.jsx("div",{className:"space-y-4 flex-1 overflow-auto",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No database connections"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Connect to your databases to start querying data"}),s.jsx("button",{onClick:()=>O(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Add Your First Connection"})]}):n.map(I=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:ne(I.type)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx("span",{children:I.name}),I.isDefault&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Default"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[I.type.toUpperCase(),"  ",I.host,I.port&&`:${I.port}`,I.database&&`  ${I.database}`]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(I.status)}`,children:I.status}),s.jsx("button",{onClick:()=>Fe(I.id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded transition-colors",children:"Test"}),s.jsx("button",{onClick:()=>F(I.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors",children:"Delete"})]})]}),I.lastConnected&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last connected: ",new Date(I.lastConnected).toLocaleString()]})]},I.id))})]}),x==="results"&&h&&s.jsxs("div",{className:"p-6 h-full overflow-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI Analysis"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsx("p",{className:"text-gray-800",children:h.answer})})]}),h.query&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Generated Query"}),s.jsxs("button",{onClick:()=>re(h.query),className:"flex items-center space-x-1 px-2 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded",children:[s.jsx(vd,{className:"w-3 h-3"}),s.jsx("span",{children:"Copy"})]})]}),s.jsx("pre",{className:"bg-gray-100 border border-gray-300 rounded-lg p-3 text-sm overflow-x-auto",children:h.query})]}),h.data&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Data Results"}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[h.data.rowCount," rows"]}),s.jsxs("span",{children:[h.data.executionTime,"ms"]}),s.jsx("span",{children:(Y=h.data.queryType)==null?void 0:Y.toUpperCase()}),h.data.cached&&s.jsx("span",{className:"text-green-600",children:"Cached"})]})]}),h.data.preview&&h.data.preview.length>0&&s.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:h.data.columns.map((I,B)=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I},B))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.data.preview.slice(0,20).map((I,B)=>s.jsx("tr",{children:h.data.columns.map((le,R)=>s.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:I[le]!==null&&I[le]!==void 0?String(I[le]):"NULL"},R))},B))})]})}),h.data.rowCount>20&&s.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-sm text-gray-600 text-center",children:["Showing first 20 rows of ",h.data.rowCount," total rows"]})]})]}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[Math.round(h.confidence*100),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Time:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[h.executionTime,"ms"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"AI Tokens:"}),s.jsx("span",{className:"ml-2 font-medium",children:h.tokens})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Query Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:(oe=h.queryType)==null?void 0:oe.toUpperCase()})]})]})})]})]}),y&&s.jsx("div",{className:"p-4 bg-red-50 border-t border-red-200",children:s.jsx("div",{className:"text-red-800 text-sm",children:y})})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg h-full max-h-[95vh] overflow-y-auto mx-2",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Add Database Connection"}),s.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Rn,{className:"w-5 h-5 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Connection Name"}),s.jsx("input",{type:"text",value:$.name,onChange:I=>T(B=>({...B,name:I.target.value})),placeholder:"My Production Database",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Type"}),s.jsxs("select",{value:$.type,onChange:I=>{const B=I.target.value;T(le=>({...le,type:B,port:B==="mysql"?3306:B==="postgresql"?5432:B==="oracle"?1521:B==="mongodb"?27017:1433}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"fabric",children:"Microsoft Fabric"}),s.jsx("option",{value:"sql-server",children:"SQL Server"}),s.jsx("option",{value:"mysql",children:"MySQL"}),s.jsx("option",{value:"postgresql",children:"PostgreSQL"}),s.jsx("option",{value:"oracle",children:"Oracle"}),s.jsx("option",{value:"mongodb",children:"MongoDB"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Host/Server"}),s.jsx("input",{type:"text",value:$.host,onChange:I=>T(B=>({...B,host:I.target.value})),placeholder:"localhost or server.domain.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),s.jsx("input",{type:"number",value:$.port,onChange:I=>T(B=>({...B,port:parseInt(I.target.value)||1433})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Name"}),s.jsx("input",{type:"text",value:$.database,onChange:I=>T(B=>({...B,database:I.target.value})),placeholder:"database_name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:$.username,onChange:I=>T(B=>({...B,username:I.target.value})),placeholder:"username",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:$.password,onChange:I=>T(B=>({...B,password:I.target.value})),placeholder:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isDefault",checked:$.isDefault,onChange:I=>T(B=>({...B,isDefault:I.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isDefault",className:"ml-2 text-sm text-gray-700",children:"Set as default connection"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Connection Tips:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Ensure your database allows connections from this application"}),s.jsx("li",{children:" For cloud databases, whitelist the application's IP address"}),s.jsx("li",{children:" Use read-only credentials when possible for security"}),s.jsx("li",{children:" Test the connection before saving"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-6 border-t border-gray-200 mt-6",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:xe,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Create Connection"})]})]})]})})]})},jA=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,o]=v.useState(!1),[i,l]=v.useState(null),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,m]=v.useState([]),[C,y]=v.useState(""),[A,x]=v.useState(!0),[g,p]=v.useState(!1),[w,N]=v.useState({name:"",description:"",color:"#3B82F6",isShared:!1}),_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16"],E=async()=>{try{x(!0);const k=[{id:"1",name:"Marketing Campaign",description:"Digital marketing strategies and campaigns",color:"#3B82F6",createdDate:"2024-01-15",chatCount:12,lastActivity:"2024-01-20",isShared:!0},{id:"2",name:"Product Development",description:"Product roadmap and development discussions",color:"#10B981",createdDate:"2024-01-10",chatCount:8,lastActivity:"2024-01-19",isShared:!1}];setTimeout(()=>{e(k),x(!1)},1e3)}catch(k){console.error("Failed to load workspaces:",k),x(!1)}},O=async k=>{try{p(!0);const j=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@company.com",isActive:!0,isAssigned:!1},{id:"2",firstName:"Jane",lastName:"Smith",email:"jane.smith@company.com",isActive:!0,isAssigned:!0,accessLevel:"member",assignedAt:"2024-01-15"}];setTimeout(()=>{m(j),p(!1)},500)}catch(j){console.error("Failed to load users:",j),p(!1)}};v.useEffect(()=>{E()},[]);const $=t.filter(k=>k.name.toLowerCase().includes(r.toLowerCase())||k.description.toLowerCase().includes(r.toLowerCase())),T=k=>{if(k.preventDefault(),!w.name.trim())return;const j={id:Date.now().toString(),...w,createdDate:new Date().toISOString().split("T")[0],chatCount:0,lastActivity:new Date().toISOString().split("T")[0]};e(L=>[...L,j]),N({name:"",description:"",color:"#3B82F6",isShared:!1}),o(!1)},V=k=>{k.preventDefault(),!(!i||!i.name.trim())&&(e(j=>j.map(L=>L.id===i.id?{...L,...i}:L)),l(null))},se=k=>{confirm("Are you sure you want to delete this workspace? This action cannot be undone.")&&e(j=>j.filter(L=>L.id!==k))},ue=k=>{h(k),d(!0),O(k.id)},xe=async k=>{if(u)try{console.log("Assigning users to workspace:",{workspaceId:u.id,userIds:k}),m(j=>j.map(L=>k.includes(L.id)?{...L,isAssigned:!0,accessLevel:"member",assignedAt:new Date().toISOString()}:L))}catch(j){console.error("Failed to assign users:",j)}},Fe=async k=>{if(u)try{console.log("Removing user from workspace:",{workspaceId:u.id,userId:k}),m(j=>j.map(L=>L.id===k?{...L,isAssigned:!1,accessLevel:void 0,assignedAt:void 0}:L))}catch(j){console.error("Failed to remove user:",j)}},F=async(k,j)=>{if(u)try{console.log("Updating user access:",{workspaceId:u.id,userId:k,accessLevel:j}),m(L=>L.map(re=>re.id===k?{...re,accessLevel:j}:re))}catch(L){console.error("Failed to update user access:",L)}},ne=k=>new Date(k).toLocaleDateString();return A?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"Loading workspaces..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workspace Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage workspaces for users"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx(Qa,{className:"w-4 h-4"}),s.jsx("span",{children:"New Workspace"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search workspaces...",value:r,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ba,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:r?"No workspaces found":"No workspaces yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:r?"Try adjusting your search terms":"Create your first workspace to get started"}),!r&&s.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Create Workspace"})]}):$.map(k=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 group hover:bg-gray-100 transition-colors",style:{borderLeftColor:k.color},children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white",style:{backgroundColor:k.color},children:s.jsx(ba,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:k.name}),k.isShared&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[s.jsx(Rr,{className:"w-3 h-3"}),s.jsx("span",{children:"Shared"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>ue(k),className:"p-1 hover:bg-blue-100 rounded transition-colors",title:"Manage Users",children:s.jsx(Rr,{className:"w-3 h-3 text-blue-600"})}),s.jsx("button",{onClick:()=>l(k),className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Edit Workspace",children:s.jsx(sN,{className:"w-3 h-3 text-gray-600"})}),s.jsx("button",{onClick:()=>se(k.id),className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Delete Workspace",children:s.jsx(kd,{className:"w-3 h-3 text-red-600"})})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:k.description}),s.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(lt,{className:"w-3 h-3"}),s.jsxs("span",{children:[k.chatCount," chats"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),s.jsx("span",{children:ne(k.lastActivity)})]})]})})]},k.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Create New Workspace"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workspace Name"}),s.jsx("input",{type:"text",value:w.name,onChange:k=>N(j=>({...j,name:k.target.value})),placeholder:"Enter workspace name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:w.description,onChange:k=>N(j=>({...j,description:k.target.value})),placeholder:"Describe what this workspace is for",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),s.jsx("div",{className:"flex space-x-2",children:_.map(k=>s.jsx("button",{type:"button",onClick:()=>N(j=>({...j,color:k})),className:`w-6 h-6 rounded-full border-2 ${w.color===k?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:k}},k))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isShared",checked:w.isShared,onChange:k=>N(j=>({...j,isShared:k.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isShared",className:"ml-2 text-sm text-gray-700",children:"Make this workspace shared"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Create"})]})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Edit Workspace"}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workspace Name"}),s.jsx("input",{type:"text",value:i.name,onChange:k=>l(j=>j?{...j,name:k.target.value}:null),placeholder:"Enter workspace name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:i.description,onChange:k=>l(j=>j?{...j,description:k.target.value}:null),placeholder:"Describe what this workspace is for",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),s.jsx("div",{className:"flex space-x-2",children:_.map(k=>s.jsx("button",{type:"button",onClick:()=>l(j=>j?{...j,color:k}:null),className:`w-6 h-6 rounded-full border-2 ${i.color===k?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:k}},k))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"editIsShared",checked:i.isShared,onChange:k=>l(j=>j?{...j,isShared:k.target.checked}:null),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"editIsShared",className:"ml-2 text-sm text-gray-700",children:"Make this workspace shared"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>l(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Save Changes"})]})]})]})}),c&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Manage Users - ",u.name]}),s.jsx("button",{onClick:()=>{d(!1),h(null),y("")},className:"p-2 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Rn,{className:"w-4 h-4 text-gray-600"})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:C,onChange:k=>y(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"overflow-y-auto max-h-96",children:g?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading users..."}):s.jsx("div",{className:"space-y-2",children:f.filter(k=>k.firstName.toLowerCase().includes(C.toLowerCase())||k.lastName.toLowerCase().includes(C.toLowerCase())||k.email.toLowerCase().includes(C.toLowerCase())).map(k=>s.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${k.isAssigned?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm font-medium text-gray-600",children:[k.firstName.charAt(0),k.lastName.charAt(0)]}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-800",children:[k.firstName," ",k.lastName]}),s.jsx("div",{className:"text-sm text-gray-600",children:k.email})]})]}),k.isAssigned&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:k.accessLevel}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Assigned ",k.assignedAt?ne(k.assignedAt):""]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:k.isAssigned?s.jsxs(s.Fragment,{children:[s.jsxs("select",{value:k.accessLevel||"member",onChange:j=>F(k.id,j.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"readonly",children:"Read Only"})]}),s.jsx("button",{onClick:()=>Fe(k.id),className:"px-3 py-1 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded transition-colors",children:"Remove"})]}):s.jsx("button",{onClick:()=>xe([k.id]),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded transition-colors",children:"Assign"})})]},k.id))})}),s.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[f.filter(k=>k.isAssigned).length," of ",f.length," users assigned"]}),s.jsx("button",{onClick:()=>{d(!1),h(null),y("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Done"})]})]})})]})};var IA=t=>{switch(t){case"success":return PA;case"info":return OA;case"warning":return MA;case"error":return LA;default:return null}},_A=Array(12).fill(0),RA=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},_A.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),PA=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MA=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OA=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LA=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DA=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UA=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Vd=1,FA=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Vd++,o=this.toasts.find(l=>l.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:r}),{...l,...t,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),a=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],K.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(zA(c)&&!c.ok){a=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:d,description:u})}else if(e.success!==void 0){a=!1;let d=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],e.error!==void 0){a=!1;let d=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Vd++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ft=new FA,HA=(t,e)=>{let r=(e==null?void 0:e.id)||Vd++;return ft.addToast({title:t,...e,id:r}),r},zA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BA=HA,$A=()=>ft.toasts,KA=()=>ft.getActiveToasts(),xn=Object.assign(BA,{success:ft.success,info:ft.info,warning:ft.warning,error:ft.error,custom:ft.custom,message:ft.message,promise:ft.promise,dismiss:ft.dismiss,loading:ft.loading},{getHistory:$A,getToasts:KA});function VA(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}VA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zo(t){return t.label!==void 0}var GA=3,qA="32px",WA="16px",fp=4e3,QA=356,YA=14,JA=20,XA=200;function Bt(...t){return t.filter(Boolean).join(" ")}function ZA(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var eT=t=>{var e,r,n,a,o,i,l,c,d,u,h;let{invert:f,toast:m,unstyled:C,interacting:y,setHeights:A,visibleToasts:x,heights:g,index:p,toasts:w,expanded:N,removeToast:_,defaultRichColors:E,closeButton:O,style:$,cancelButtonStyle:T,actionButtonStyle:V,className:se="",descriptionClassName:ue="",duration:xe,position:Fe,gap:F,loadingIcon:ne,expandByDefault:k,classNames:j,icons:L,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:Y}=t,[oe,I]=K.useState(null),[B,le]=K.useState(null),[R,Z]=K.useState(!1),[he,ge]=K.useState(!1),[me,Ke]=K.useState(!1),[Oe,Ks]=K.useState(!1),[Vs,ho]=K.useState(!1),[Ml,pn]=K.useState(0),[Ol,qn]=K.useState(0),gn=K.useRef(m.duration||xe||fp),Wn=K.useRef(null),nr=K.useRef(null),Ll=p===0,xr=p+1<=x,We=m.type,Ht=m.dismissible!==!1,Dl=m.className||"",Ul=m.descriptionClassName||"",Qn=K.useMemo(()=>g.findIndex(S=>S.toastId===m.id)||0,[g,m.id]),Fl=K.useMemo(()=>{var S;return(S=m.closeButton)!=null?S:O},[m.closeButton,O]),Gs=K.useMemo(()=>m.duration||xe||fp,[m.duration,xe]),qs=K.useRef(0),Or=K.useRef(0),mo=K.useRef(0),Lr=K.useRef(null),[Ws,Hl]=Fe.split("-"),Qs=K.useMemo(()=>g.reduce((S,D,z)=>z>=Qn?S:S+D.height,0),[g,Qn]),fo=UA(),Yn=m.invert||f,Ys=We==="loading";Or.current=K.useMemo(()=>Qn*F+Qs,[Qn,Qs]),K.useEffect(()=>{gn.current=Gs},[Gs]),K.useEffect(()=>{Z(!0)},[]),K.useEffect(()=>{let S=nr.current;if(S){let D=S.getBoundingClientRect().height;return qn(D),A(z=>[{toastId:m.id,height:D,position:m.position},...z]),()=>A(z=>z.filter(X=>X.toastId!==m.id))}},[A,m.id]),K.useLayoutEffect(()=>{if(!R)return;let S=nr.current,D=S.style.height;S.style.height="auto";let z=S.getBoundingClientRect().height;S.style.height=D,qn(z),A(X=>X.find(W=>W.toastId===m.id)?X.map(W=>W.toastId===m.id?{...W,height:z}:W):[{toastId:m.id,height:z,position:m.position},...X])},[R,m.title,m.description,A,m.id]);let sr=K.useCallback(()=>{ge(!0),pn(Or.current),A(S=>S.filter(D=>D.toastId!==m.id)),setTimeout(()=>{_(m)},XA)},[m,_,A,Or]);K.useEffect(()=>{if(m.promise&&We==="loading"||m.duration===1/0||m.type==="loading")return;let S;return N||y||Y&&fo?(()=>{if(mo.current<qs.current){let D=new Date().getTime()-qs.current;gn.current=gn.current-D}mo.current=new Date().getTime()})():gn.current!==1/0&&(qs.current=new Date().getTime(),S=setTimeout(()=>{var D;(D=m.onAutoClose)==null||D.call(m,m),sr()},gn.current)),()=>clearTimeout(S)},[N,y,m,We,Y,fo,sr]),K.useEffect(()=>{m.delete&&sr()},[sr,m.delete]);function po(){var S,D,z;return L!=null&&L.loading?K.createElement("div",{className:Bt(j==null?void 0:j.loader,(S=m==null?void 0:m.classNames)==null?void 0:S.loader,"sonner-loader"),"data-visible":We==="loading"},L.loading):ne?K.createElement("div",{className:Bt(j==null?void 0:j.loader,(D=m==null?void 0:m.classNames)==null?void 0:D.loader,"sonner-loader"),"data-visible":We==="loading"},ne):K.createElement(RA,{className:Bt(j==null?void 0:j.loader,(z=m==null?void 0:m.classNames)==null?void 0:z.loader),visible:We==="loading"})}return K.createElement("li",{tabIndex:0,ref:nr,className:Bt(se,Dl,j==null?void 0:j.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[We],(r=m==null?void 0:m.classNames)==null?void 0:r[We]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:E,"data-styled":!(m.jsx||m.unstyled||C),"data-mounted":R,"data-promise":!!m.promise,"data-swiped":Vs,"data-removed":he,"data-visible":xr,"data-y-position":Ws,"data-x-position":Hl,"data-index":p,"data-front":Ll,"data-swiping":me,"data-dismissible":Ht,"data-type":We,"data-invert":Yn,"data-swipe-out":Oe,"data-swipe-direction":B,"data-expanded":!!(N||k&&R),style:{"--index":p,"--toasts-before":p,"--z-index":w.length-p,"--offset":`${he?Ml:Or.current}px`,"--initial-height":k?"auto":`${Ol}px`,...$,...m.style},onDragEnd:()=>{Ke(!1),I(null),Lr.current=null},onPointerDown:S=>{Ys||!Ht||(Wn.current=new Date,pn(Or.current),S.target.setPointerCapture(S.pointerId),S.target.tagName!=="BUTTON"&&(Ke(!0),Lr.current={x:S.clientX,y:S.clientY}))},onPointerUp:()=>{var S,D,z,X;if(Oe||!Ht)return;Lr.current=null;let W=Number(((S=nr.current)==null?void 0:S.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ce=Number(((D=nr.current)==null?void 0:D.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((z=Wn.current)==null?void 0:z.getTime()),J=oe==="x"?W:ce,ie=Math.abs(J)/ye;if(Math.abs(J)>=JA||ie>.11){pn(Or.current),(X=m.onDismiss)==null||X.call(m,m),le(oe==="x"?W>0?"right":"left":ce>0?"down":"up"),sr(),Ks(!0),ho(!1);return}Ke(!1),I(null)},onPointerMove:S=>{var D,z,X,W;if(!Lr.current||!Ht||((D=window.getSelection())==null?void 0:D.toString().length)>0)return;let ce=S.clientY-Lr.current.y,ye=S.clientX-Lr.current.x,J=(z=t.swipeDirections)!=null?z:ZA(Fe);!oe&&(Math.abs(ye)>1||Math.abs(ce)>1)&&I(Math.abs(ye)>Math.abs(ce)?"x":"y");let ie={x:0,y:0};oe==="y"?(J.includes("top")||J.includes("bottom"))&&(J.includes("top")&&ce<0||J.includes("bottom")&&ce>0)&&(ie.y=ce):oe==="x"&&(J.includes("left")||J.includes("right"))&&(J.includes("left")&&ye<0||J.includes("right")&&ye>0)&&(ie.x=ye),(Math.abs(ie.x)>0||Math.abs(ie.y)>0)&&ho(!0),(X=nr.current)==null||X.style.setProperty("--swipe-amount-x",`${ie.x}px`),(W=nr.current)==null||W.style.setProperty("--swipe-amount-y",`${ie.y}px`)}},Fl&&!m.jsx?K.createElement("button",{"aria-label":re,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Ht?()=>{}:()=>{var S;sr(),(S=m.onDismiss)==null||S.call(m,m)},className:Bt(j==null?void 0:j.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(o=L==null?void 0:L.close)!=null?o:DA):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:K.createElement(K.Fragment,null,We||m.icon||m.promise?K.createElement("div",{"data-icon":"",className:Bt(j==null?void 0:j.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||po():null,m.type!=="loading"?m.icon||(L==null?void 0:L[We])||IA(We):null):null,K.createElement("div",{"data-content":"",className:Bt(j==null?void 0:j.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:Bt(j==null?void 0:j.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?K.createElement("div",{"data-description":"",className:Bt(ue,Ul,j==null?void 0:j.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&zo(m.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:S=>{var D,z;zo(m.cancel)&&Ht&&((z=(D=m.cancel).onClick)==null||z.call(D,S),sr())},className:Bt(j==null?void 0:j.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&zo(m.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:S=>{var D,z;zo(m.action)&&((z=(D=m.action).onClick)==null||z.call(D,S),!S.defaultPrevented&&sr())},className:Bt(j==null?void 0:j.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function pp(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tT(t,e){let r={};return[t,e].forEach((n,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?WA:qA;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}v.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:C=GA,toastOptions:y,dir:A=pp(),gap:x=YA,loadingIcon:g,icons:p,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=t,[_,E]=K.useState([]),O=K.useMemo(()=>Array.from(new Set([n].concat(_.filter(Y=>Y.position).map(Y=>Y.position)))),[_,n]),[$,T]=K.useState([]),[V,se]=K.useState(!1),[ue,xe]=K.useState(!1),[Fe,F]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=K.useRef(null),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),L=K.useRef(!1),re=K.useCallback(Y=>{E(oe=>{var I;return(I=oe.find(B=>B.id===Y.id))!=null&&I.delete||ft.dismiss(Y.id),oe.filter(({id:B})=>B!==Y.id)})},[]);return K.useEffect(()=>ft.subscribe(Y=>{if(Y.dismiss){E(oe=>oe.map(I=>I.id===Y.id?{...I,delete:!0}:I));return}setTimeout(()=>{Bb.flushSync(()=>{E(oe=>{let I=oe.findIndex(B=>B.id===Y.id);return I!==-1?[...oe.slice(0,I),{...oe[I],...Y},...oe.slice(I+1)]:[Y,...oe]})})})}),[]),K.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:oe})=>{F(oe?"dark":"light")})}catch{Y.addListener(({matches:I})=>{try{F(I?"dark":"light")}catch(B){console.error(B)}})}},[u]),K.useEffect(()=>{_.length<=1&&se(!1)},[_]),K.useEffect(()=>{let Y=oe=>{var I,B;a.every(le=>oe[le]||oe.code===le)&&(se(!0),(I=ne.current)==null||I.focus()),oe.code==="Escape"&&(document.activeElement===ne.current||(B=ne.current)!=null&&B.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[a]),K.useEffect(()=>{if(ne.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,L.current=!1)}},[ne.current]),K.createElement("section",{ref:e,"aria-label":`${w} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Y,oe)=>{var I;let[B,le]=Y.split("-");return _.length?K.createElement("ol",{key:Y,dir:A==="auto"?pp():A,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":Fe,"data-y-position":B,"data-lifted":V&&_.length>1&&!o,"data-x-position":le,style:{"--front-toast-height":`${((I=$[0])==null?void 0:I.height)||0}px`,"--width":`${QA}px`,"--gap":`${x}px`,...m,...tT(c,d)},onBlur:R=>{L.current&&!R.currentTarget.contains(R.relatedTarget)&&(L.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||L.current||(L.current=!0,j.current=R.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{ue||se(!1)},onDragEnd:()=>se(!1),onPointerDown:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},_.filter(R=>!R.position&&oe===0||R.position===Y).map((R,Z)=>{var he,ge;return K.createElement(eT,{key:R.id,icons:p,index:Z,toast:R,defaultRichColors:h,duration:(he=y==null?void 0:y.duration)!=null?he:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:C,closeButton:(ge=y==null?void 0:y.closeButton)!=null?ge:i,interacting:ue,position:Y,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:re,toasts:_.filter(me=>me.position==R.position),heights:$.filter(me=>me.position==R.position),setHeights:T,expandByDefault:o,gap:x,loadingIcon:g,expanded:V,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});function rT({className:t}){const[e,r]=v.useState(null),[n,a]=v.useState([]),[o,i]=v.useState(!1),[l,c]=v.useState(null),[d,u]=v.useState(!1),[h,f]=v.useState(!1),[m,C]=v.useState({keyVaultUrl:"",tenantId:"",clientId:"",clientSecret:""}),[y,A]=v.useState({name:"",value:"",contentType:"text/plain"});v.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),c(null);const N=localStorage.getItem("authToken");if(!N)throw new Error("Authentication token not found. Please log in again.");const _=await fetch("/api/admin/keyvault/status",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}}),E=_.headers.get("content-type");if(E&&E.includes("text/html"))throw new Error("Backend API not available. Please ensure the server is running.");if(!_.ok){const $=await _.text();throw new Error(`API Error (${_.status}): ${$}`)}const O=await _.json();r(O.data),O.data.enabled&&await g()}catch(N){console.error("Key Vault status error:",N),c(N.message),xn.error(`Key Vault Error: ${N.message}`)}finally{i(!1)}},g=async()=>{try{const N=localStorage.getItem("authToken");if(!N)return;const _=await fetch("/api/admin/keyvault/secrets",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}}),E=_.headers.get("content-type");if(E&&E.includes("text/html")||!_.ok)return;const O=await _.json();a(O.data.secrets||[])}catch(N){console.error("Error loading secrets:",N)}},p=async N=>{if(N.preventDefault(),!m.keyVaultUrl){xn.error("Key Vault URL is required");return}try{i(!0);const _=localStorage.getItem("authToken"),E=await fetch("/api/admin/keyvault/initialize",{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!E.ok){const $=await E.json();throw new Error($.error||"Failed to initialize Key Vault")}const O=await E.json();xn.success("Key Vault initialized successfully!"),u(!1),await x()}catch(_){console.error("Setup error:",_),xn.error(`Setup failed: ${_.message}`)}finally{i(!1)}},w=async N=>{if(N.preventDefault(),!y.name||!y.value){xn.error("Secret name and value are required");return}try{i(!0);const _=localStorage.getItem("authToken"),E=await fetch("/api/admin/keyvault/secrets",{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({secretName:y.name,secretValue:y.value,contentType:y.contentType})});if(!E.ok){const O=await E.json();throw new Error(O.error||"Failed to add secret")}xn.success(`Secret '${y.name}' added successfully!`),A({name:"",value:"",contentType:"text/plain"}),f(!1),await g()}catch(_){console.error("Add secret error:",_),xn.error(`Failed to add secret: ${_.message}`)}finally{i(!1)}};return o&&!e?s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow ${t}`,children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Ar,{className:"h-6 w-6 animate-spin mr-2"}),"Loading Key Vault status..."]})})}):s.jsx("div",{className:t,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(fl,{className:"h-5 w-5"}),"Azure Key Vault Management"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Secure storage for API keys, passwords, and sensitive configuration"})]}),s.jsxs("div",{className:"p-6",children:[l&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(vs,{className:"h-5 w-5 text-red-400"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:l})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("div",{className:"flex items-center",children:e!=null&&e.enabled?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"h-5 w-5 text-green-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Enabled"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vs,{className:"h-5 w-5 text-amber-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Disabled"})]})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Integration Status"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("div",{className:"flex items-center",children:e!=null&&e.initialized?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"h-5 w-5 text-green-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Connected"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vs,{className:"h-5 w-5 text-amber-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Disconnected"})]})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Connection Status"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"h-5 w-5 text-blue-500 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n.length," Secrets"]})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Stored in Vault"})]})]}),(e==null?void 0:e.keyVaultUrl)&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Key Vault URL"}),s.jsx("code",{className:"text-sm text-gray-600 dark:text-gray-300 break-all",children:e.keyVaultUrl})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:x,disabled:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:[o?s.jsx(Ar,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Refresh Status"]}),s.jsxs("button",{onClick:()=>u(!d),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Configure Key Vault"]}),(e==null?void 0:e.enabled)&&s.jsxs("button",{onClick:()=>f(!h),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Add Secret"]})]}),d&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configure Azure Key Vault"}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"keyVaultUrl",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Vault URL *"}),s.jsx("input",{id:"keyVaultUrl",type:"url",required:!0,placeholder:"https://your-keyvault.vault.azure.net/",value:m.keyVaultUrl,onChange:N=>C({...m,keyVaultUrl:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tenantId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tenant ID"}),s.jsx("input",{id:"tenantId",type:"text",placeholder:"Azure AD Tenant ID",value:m.tenantId,onChange:N=>C({...m,tenantId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client ID"}),s.jsx("input",{id:"clientId",type:"text",placeholder:"Service Principal Client ID",value:m.clientId,onChange:N=>C({...m,clientId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientSecret",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Secret"}),s.jsx("input",{id:"clientSecret",type:"password",placeholder:"Service Principal Secret",value:m.clientSecret,onChange:N=>C({...m,clientSecret:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"* Key Vault URL is required. Other fields are optional if using managed identity."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:o?"Initializing...":"Initialize Key Vault"})]})]})]})]}),h&&(e==null?void 0:e.enabled)&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Add New Secret"}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"secretName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Secret Name *"}),s.jsx("input",{id:"secretName",type:"text",required:!0,placeholder:"e.g., openai-api-key, database-connection-string",value:y.name,onChange:N=>A({...y,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-800 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use descriptive names like 'openai-api-key' or 'database-connection-string'"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"secretValue",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Secret Value *"}),s.jsx("textarea",{id:"secretValue",required:!0,rows:3,placeholder:"Enter the secret value (API key, connection string, etc.)",value:y.value,onChange:N=>A({...y,value:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contentType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content Type"}),s.jsxs("select",{id:"contentType",value:y.contentType,onChange:N=>A({...y,contentType:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"text/plain",children:"Text/Plain"}),s.jsx("option",{value:"application/json",children:"JSON"}),s.jsx("option",{value:"application/x-connection-string",children:"Connection String"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Secrets are encrypted and stored securely in Azure Key Vault"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),A({name:"",value:"",contentType:"text/plain"})},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:o?"Adding...":"Add Secret"})]})]})]})]}),(e==null?void 0:e.enabled)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Stored Secrets (",n.length,")"]}),n.length>0?s.jsx("div",{className:"space-y-2",children:n.map(N=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ca,{className:"h-4 w-4 text-gray-400"}),s.jsx("code",{className:"text-sm text-gray-900 dark:text-gray-100",children:N})]})},N))}):s.jsxs("div",{className:"text-center p-8 text-gray-500 dark:text-gray-400",children:[s.jsx(Ca,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No secrets found in Key Vault"}),s.jsx("p",{className:"text-sm",children:"Configure Key Vault to manage secrets securely"})]})]})]})]})]})})}const nT=({admin:t,onLogout:e})=>{var c;const[r,n]=v.useState("users"),[a,o]=v.useState(!0),i=[{id:"users",name:"User Management",icon:Rr,color:"text-blue-500"},{id:"workspaces",name:"Workspaces",icon:Tr,color:"text-indigo-500"},{id:"config",name:"System Configuration",icon:KC,color:"text-green-500"},{id:"monitoring",name:"System Monitor",icon:Ti,color:"text-orange-500"},{id:"disliked",name:"Disliked Messages",icon:fl,color:"text-red-500"},{id:"feedback",name:"User Feedback",icon:lt,color:"text-purple-500"},{id:"datasources",name:"Data Sources",icon:ws,color:"text-cyan-500"},{id:"keyvault",name:"Key Vault",icon:Ca,color:"text-amber-500"}],l=()=>{switch(r){case"users":return s.jsx(mp,{});case"workspaces":return s.jsx(jA,{});case"config":return s.jsx(kA,{});case"monitoring":return s.jsx(SA,{});case"disliked":return s.jsx(AA,{});case"feedback":return s.jsx(TA,{});case"datasources":return s.jsx("div",{className:"h-full overflow-auto",children:s.jsx(EA,{})});case"keyvault":return s.jsx(rT,{});default:return s.jsx(mp,{})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900",children:[s.jsx("header",{className:"bg-slate-700/50 backdrop-blur-sm border-b border-slate-600/50 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10  flex items-center justify-center rounded-[50%]",children:s.jsx("img",{src:"alyasra-logo.png",alt:"logo",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Portal"}),s.jsx("p",{className:"text-sm text-slate-400",children:"AIVA Management System"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:""}),s.jsx("span",{className:"text-sm text-slate-400"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:t.email}),s.jsx("p",{className:"text-xs text-slate-400",children:"Administrator"})]}),s.jsx("button",{onClick:e,className:"p-2 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-lg transition-all duration-300",children:s.jsx(Y0,{className:"h-5 w-5"})})]})]})]})}),s.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[s.jsxs("div",{className:`${a?"w-64":"w-16"} transition-all duration-300 bg-slate-700/30 backdrop-blur-sm border-r border-slate-600/30 flex flex-col`,children:[s.jsx("div",{className:"p-4 border-b border-slate-600/30",children:s.jsx("button",{onClick:()=>o(!a),className:"w-full flex items-center justify-center p-2 hover:bg-slate-600/50 rounded-lg transition-all duration-300 text-slate-400 hover:text-white",children:a?s.jsx(eN,{className:"h-5 w-5"}):s.jsx(J0,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(d=>{const u=d.icon,h=r===d.id;return s.jsxs("button",{onClick:()=>n(d.id),className:`w-full flex items-center px-3 py-3 rounded-lg transition-all duration-300 ${h?"bg-blue-600 text-white shadow-lg":"hover:bg-slate-600/50 text-slate-400 hover:text-white"} ${!a&&"justify-center"}`,children:[s.jsx(u,{className:`h-5 w-5 ${h?"text-white":d.color}`}),a&&s.jsx("span",{className:"ml-3 font-medium",children:d.name})]},d.id)})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"bg-white/5 backdrop-blur-sm border-b border-slate-600/30 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white",children:(c=i.find(d=>d.id===r))==null?void 0:c.name}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Manage and configure your AIVA system"})]})})}),s.jsx("main",{className:"flex-1 p-6 overflow-auto bg-slate-800/30",children:s.jsx("div",{className:"bg-white backdrop-blur-sm rounded-xl border border-slate-600/30 p-6 min-h-full",children:l()})})]})]})]})},kc=({provider:t})=>(v.useEffect(()=>{(async()=>{var r,n,a;try{const o=new URLSearchParams(window.location.search),i=o.get("code"),l=o.get("error");if(l){(r=window.opener)==null||r.postMessage({type:"OAUTH_ERROR",error:l},window.location.origin);return}if(i){const c=t==="microsoft"?{code:i,clientId:Jh,tenantId:Xh}:{code:i},d=await fetch(`/api/auth/${t}/callback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(d.ok){const u=await d.json();(n=window.opener)==null||n.postMessage({type:"OAUTH_SUCCESS",user:u},window.location.origin)}else throw new Error("Failed to authenticate")}}catch(o){(a=window.opener)==null||a.postMessage({type:"OAUTH_ERROR",error:o instanceof Error?o.message:"Authentication failed"},window.location.origin)}})()},[t]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg",children:"Completing authentication..."}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Please wait while we sign you in."})]})}));function sT(){const[t,e]=v.useState(null),[r,n]=v.useState(null),a=z0();hl();const o=()=>{a("/login")},i=()=>{a("/admin-login")},l=()=>{a("/signup")},c=async()=>{if(Pl())try{await fv(),console.log("Microsoft logout successful")}catch(f){console.error("Microsoft logout error:",f)}e(null),localStorage.removeItem("authToken"),a("/")},d=f=>{a("/"),e(f)},u=f=>{e(f),a("/dashboard")},h=f=>{n(f),a("/admin-dashboard")};return s.jsx(s.Fragment,{children:s.jsxs(RC,{children:[s.jsx($t,{path:"/",element:s.jsx(fN,{user:t,onNavigateToLogin:o,onNavigateToSignUp:l,onNavigateToDashboard:u})}),s.jsx($t,{path:"/login",element:s.jsx(dA,{onBack:c,onLoginSuccess:u,onNavigateToSignUp:l,onNavigateToHome:c,onNavigateToAdminLogin:i})}),s.jsx($t,{path:"/admin-login",element:s.jsx(NA,{onBack:o,onAdminLoginSuccess:h})}),s.jsx($t,{path:"/admin-dashboard",element:r?s.jsx(nT,{admin:r,onLogout:()=>{n(null),localStorage.removeItem("adminToken"),a("/")}}):s.jsx(pc,{to:"/admin-login",replace:!0})}),s.jsx($t,{path:"/signup",element:s.jsx(CA,{onBack:c,onSignUpSuccess:u,onNavigateToLogin:o,onNavigateToHome:c})}),s.jsx($t,{path:"/dashboard",element:t?s.jsx(bA,{onLogout:c,user:t,onSwitchAccount:o,onNavigateToHome:c,onNavigateHome:d,onNavigateToDashboard:u}):s.jsx(pc,{to:"/login",replace:!0})}),s.jsx($t,{path:"/auth/microsoft/callback",element:s.jsx(kc,{provider:"microsoft"})}),s.jsx($t,{path:"/auth/google/callback",element:s.jsx(kc,{provider:"google"})}),s.jsx($t,{path:"/auth/yahoo/callback",element:s.jsx(kc,{provider:"yahoo"})}),s.jsx($t,{path:"*",element:s.jsx(pc,{to:"/",replace:!0})})]})})}function aT(){return s.jsx(OC,{children:s.jsx(sT,{})})}I0(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(aT,{})}));
